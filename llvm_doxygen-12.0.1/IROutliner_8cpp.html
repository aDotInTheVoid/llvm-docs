<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/IROutliner.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">12.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">IROutliner.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="IROutliner_8h_source.html">llvm/Transforms/IPO/IROutliner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IRSimilarityIdentifier_8h_source.html">llvm/Analysis/IRSimilarityIdentifier.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OptimizationRemarkEmitter_8h_source.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetTransformInfo_8h_source.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Attributes_8h_source.html">llvm/IR/Attributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PassManager_8h_source.html">llvm/IR/PassManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llvm_2Transforms_2IPO_8h_source.html">llvm/Transforms/IPO.h</a>&quot;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for IROutliner.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="IROutliner_8cpp__incl.svg" width="4684" height="962"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="IROutliner_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOutlinableGroup.html">OutlinableGroup</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="structOutlinableGroup.html" title="The OutlinableGroup holds all the overarching information for outlining a set of regions that are str...">OutlinableGroup</a> holds all the overarching information for outlining a set of regions that are structurally similar to one another, such as the types of the overall function, the output blocks, the sets of stores needed and a list of the different regions.  <a href="structOutlinableGroup.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIROutlinerLegacyPass.html">IROutlinerLegacyPass</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;iroutliner&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3afc8c0c69b0c55edce3be13d5b7cc32"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a3afc8c0c69b0c55edce3be13d5b7cc32">moveBBContents</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;SourceBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;TargetBB)</td></tr>
<tr class="memdesc:a3afc8c0c69b0c55edce3be13d5b7cc32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the contents of <code>SourceBB</code> to before the last instruction of <code>TargetBB</code>.  <a href="IROutliner_8cpp.html#a3afc8c0c69b0c55edce3be13d5b7cc32">More...</a><br /></td></tr>
<tr class="separator:a3afc8c0c69b0c55edce3be13d5b7cc32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51932312ba2b9411a987be746ee773b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a51932312ba2b9411a987be746ee773b2">constantMatches</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1GVN.html">GVN</a>, <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classunsigned.html">unsigned</a>, <a class="el" href="classllvm_1_1Constant.html">Constant</a> * &gt; &amp;GVNToConstant)</td></tr>
<tr class="memdesc:a51932312ba2b9411a987be746ee773b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find whether <code>V</code> matches the Constants previously found for the <code>GVN</code>.  <a href="IROutliner_8cpp.html#a51932312ba2b9411a987be746ee773b2">More...</a><br /></td></tr>
<tr class="separator:a51932312ba2b9411a987be746ee773b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a09c04ddc4ec6d039f1f11f01d019e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a52a09c04ddc4ec6d039f1f11f01d019e">collectRegionsConstants</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classunsigned.html">unsigned</a>, <a class="el" href="classllvm_1_1Constant.html">Constant</a> * &gt; &amp;GVNToConstant, <a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;NotSame)</td></tr>
<tr class="memdesc:a52a09c04ddc4ec6d039f1f11f01d019e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find whether <code>Region</code> matches the global value numbering to Constant mapping found so far.  <a href="IROutliner_8cpp.html#a52a09c04ddc4ec6d039f1f11f01d019e">More...</a><br /></td></tr>
<tr class="separator:a52a09c04ddc4ec6d039f1f11f01d019e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589de9c77e75842cbf318f07e4fe6209"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a589de9c77e75842cbf318f07e4fe6209">moveFunctionData</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;Old, <a class="el" href="classllvm_1_1Function.html">Function</a> &amp;New)</td></tr>
<tr class="memdesc:a589de9c77e75842cbf318f07e4fe6209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move each BasicBlock in <code>Old</code> to <code>New</code>.  <a href="IROutliner_8cpp.html#a589de9c77e75842cbf318f07e4fe6209">More...</a><br /></td></tr>
<tr class="separator:a589de9c77e75842cbf318f07e4fe6209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda959f961048eba09125aba48d1142e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#acda959f961048eba09125aba48d1142e">findConstants</a> (<a class="el" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="el" href="NVVMIntrRange_8cpp.html#a2ae53ee71b2ccbb52b883c0b4f59f8c2">C</a>, <a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;NotSame, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;Inputs)</td></tr>
<tr class="memdesc:acda959f961048eba09125aba48d1142e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the the constants that will need to be lifted into arguments as they are not the same in each instance of the region.  <a href="IROutliner_8cpp.html#acda959f961048eba09125aba48d1142e">More...</a><br /></td></tr>
<tr class="separator:acda959f961048eba09125aba48d1142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9165dd298666d75ed2e5be7d5d8b50e5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a9165dd298666d75ed2e5be7d5d8b50e5">mapInputsToGVNs</a> (<a class="el" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;<a class="el" href="NVVMIntrRange_8cpp.html#a2ae53ee71b2ccbb52b883c0b4f59f8c2">C</a>, <a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;CurrentInputs, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;OutputMappings, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;EndInputNumbers)</td></tr>
<tr class="memdesc:a9165dd298666d75ed2e5be7d5d8b50e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the GVN for the inputs that have been found by the CodeExtractor.  <a href="IROutliner_8cpp.html#a9165dd298666d75ed2e5be7d5d8b50e5">More...</a><br /></td></tr>
<tr class="separator:a9165dd298666d75ed2e5be7d5d8b50e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e9f16b4a1aaf539000b95bf5442155"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a09e9f16b4a1aaf539000b95bf5442155">remapExtractedInputs</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; ArgInputs, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;OutputMappings, <a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;RemappedArgInputs)</td></tr>
<tr class="memdesc:a09e9f16b4a1aaf539000b95bf5442155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the original value for the <code>ArgInput</code> values if any one of them was replaced during a previous extraction.  <a href="IROutliner_8cpp.html#a09e9f16b4a1aaf539000b95bf5442155">More...</a><br /></td></tr>
<tr class="separator:a09e9f16b4a1aaf539000b95bf5442155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d81e3f58b8db143bc85763d25dbc7a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a48d81e3f58b8db143bc85763d25dbc7a">getCodeExtractorArguments</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;InputGVNs, <a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;NotSame, <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;OutputMappings, <a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;ArgInputs, <a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;Outputs)</td></tr>
<tr class="memdesc:a48d81e3f58b8db143bc85763d25dbc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the input GVNs and the output values for a region of Instructions.  <a href="IROutliner_8cpp.html#a48d81e3f58b8db143bc85763d25dbc7a">More...</a><br /></td></tr>
<tr class="separator:a48d81e3f58b8db143bc85763d25dbc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9148948069532c9a5e1b59e3668b8cc3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a9148948069532c9a5e1b59e3668b8cc3">findExtractedInputToOverallInputMapping</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;InputGVNs, <a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;ArgInputs)</td></tr>
<tr class="memdesc:a9148948069532c9a5e1b59e3668b8cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look over the inputs and map each input argument to an argument in the overall function for the OutlinableRegions.  <a href="IROutliner_8cpp.html#a9148948069532c9a5e1b59e3668b8cc3">More...</a><br /></td></tr>
<tr class="separator:a9148948069532c9a5e1b59e3668b8cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48e342de7dd9ab549c3909db631f95e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#ad48e342de7dd9ab549c3909db631f95e">findExtractedOutputToOverallOutputMapping</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; Outputs)</td></tr>
<tr class="memdesc:ad48e342de7dd9ab549c3909db631f95e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a mapping of the output arguments for the <code>Region</code> to the output arguments of the overall outlined function.  <a href="IROutliner_8cpp.html#ad48e342de7dd9ab549c3909db631f95e">More...</a><br /></td></tr>
<tr class="separator:ad48e342de7dd9ab549c3909db631f95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3c175c90b9439d52ad07ecda521c2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1CallInst.html">CallInst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a4f3c175c90b9439d52ad07ecda521c2f">replaceCalledFunction</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>)</td></tr>
<tr class="memdesc:a4f3c175c90b9439d52ad07ecda521c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the extracted function in the Region with a call to the overall function constructed from the deduplicated similar regions, replacing and remapping the values passed to the extracted function as arguments to the new arguments of the overall function.  <a href="IROutliner_8cpp.html#a4f3c175c90b9439d52ad07ecda521c2f">More...</a><br /></td></tr>
<tr class="separator:a4f3c175c90b9439d52ad07ecda521c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fdcb52f06725b70d2171c23aba46316"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a8fdcb52f06725b70d2171c23aba46316">replaceArgumentUses</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OutputBB)</td></tr>
<tr class="separator:a8fdcb52f06725b70d2171c23aba46316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace02ac07a3f704ffd345301bff92e5a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#ace02ac07a3f704ffd345301bff92e5a8">replaceConstants</a> (<a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>)</td></tr>
<tr class="memdesc:ace02ac07a3f704ffd345301bff92e5a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Within an extracted function, replace the constants that need to be lifted into arguments with the actual argument.  <a href="IROutliner_8cpp.html#ace02ac07a3f704ffd345301bff92e5a8">More...</a><br /></td></tr>
<tr class="separator:ace02ac07a3f704ffd345301bff92e5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9527769a87c07736cd574233e26a8baf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a9527769a87c07736cd574233e26a8baf">collectRelevantInstructions</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;ExcludeBlocks)</td></tr>
<tr class="memdesc:a9527769a87c07736cd574233e26a8baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the given function, find all the nondebug or lifetime instructions, and return them as a vector.  <a href="IROutliner_8cpp.html#a9527769a87c07736cd574233e26a8baf">More...</a><br /></td></tr>
<tr class="separator:a9527769a87c07736cd574233e26a8baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4321fec5fdb59ac7dc62e14cbb443b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a1f4321fec5fdb59ac7dc62e14cbb443b">findDuplicateOutputBlock</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OutputBB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; OutputStoreBBs)</td></tr>
<tr class="memdesc:a1f4321fec5fdb59ac7dc62e14cbb443b"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is possible that there is a basic block that already performs the same stores.  <a href="IROutliner_8cpp.html#a1f4321fec5fdb59ac7dc62e14cbb443b">More...</a><br /></td></tr>
<tr class="separator:a1f4321fec5fdb59ac7dc62e14cbb443b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ada51ec6529c49317519e0e5b491263"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a0ada51ec6529c49317519e0e5b491263">alignOutputBlockWithAggFunc</a> (<a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;OG, <a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;<a class="el" href="classllvm_1_1Region.html">Region</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OutputBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *EndBB, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;OutputMappings, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;OutputStoreBBs)</td></tr>
<tr class="memdesc:a0ada51ec6529c49317519e0e5b491263"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the outlined section, move needed the StoreInsts for the output registers into their own block.  <a href="IROutliner_8cpp.html#a0ada51ec6529c49317519e0e5b491263">More...</a><br /></td></tr>
<tr class="separator:a0ada51ec6529c49317519e0e5b491263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea967a44e357e9563f7429b1cca0f408"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#aea967a44e357e9563f7429b1cca0f408">createSwitchStatement</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;OG, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *EndBB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; OutputStoreBBs)</td></tr>
<tr class="memdesc:aea967a44e357e9563f7429b1cca0f408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the switch statement for outlined function to differentiate between all the output blocks.  <a href="IROutliner_8cpp.html#aea967a44e357e9563f7429b1cca0f408">More...</a><br /></td></tr>
<tr class="separator:aea967a44e357e9563f7429b1cca0f408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99cbc2367275634ff833c06e8191d9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#ac99cbc2367275634ff833c06e8191d9e">fillOverallFunction</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;OutputStoreBBs, <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1Function.html">Function</a> * &gt; &amp;FuncsToRemove)</td></tr>
<tr class="memdesc:ac99cbc2367275634ff833c06e8191d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the new function that will serve as the replacement function for all of the extracted regions of a certain structure from the first region in the list of regions.  <a href="IROutliner_8cpp.html#ac99cbc2367275634ff833c06e8191d9e">More...</a><br /></td></tr>
<tr class="separator:ac99cbc2367275634ff833c06e8191d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b12ae89227758cb5684cc7cf25a7f43"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a8b12ae89227758cb5684cc7cf25a7f43">findCostForOutputBlocks</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;CurrentGroup, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>)</td></tr>
<tr class="memdesc:a8b12ae89227758cb5684cc7cf25a7f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the extra instructions needed to handle any output values for the region.  <a href="IROutliner_8cpp.html#a8b12ae89227758cb5684cc7cf25a7f43">More...</a><br /></td></tr>
<tr class="separator:a8b12ae89227758cb5684cc7cf25a7f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887362135c31af6ca59ade2ff6fc1047"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a887362135c31af6ca59ade2ff6fc1047">INITIALIZE_PASS_BEGIN</a> (<a class="el" href="classIROutlinerLegacyPass.html">IROutlinerLegacyPass</a>, &quot;iroutliner&quot;, &quot;<a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> <a class="el" href="IROutliner_8cpp.html#a8fa0458fc58f092253b63ede4e21d6d2">Outliner</a>&quot;, false, <a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>) <a class="el" href="RegBankSelect_8cpp.html#a0eee13989797c0d4612066f84ff7a7b8">INITIALIZE_PASS_END</a>(<a class="el" href="classIROutlinerLegacyPass.html">IROutlinerLegacyPass</a></td></tr>
<tr class="separator:a887362135c31af6ca59ade2ff6fc1047"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a21da4953c61d301ca9402aed0ed89bd2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a21da4953c61d301ca9402aed0ed89bd2">EnableLinkOnceODRIROutlining</a> (&quot;enable-linkonceodr-<a class="el" href="SafepointIRVerifier_8cpp.html#a3d3459f5796b9b9f0253f71d5620e958">ir</a>-outlining&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable the <a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> outliner on linkonceodr <a class="el" href="PartiallyInlineLibCalls_8cpp.html#a952d70e13d585a301a5db855e6c309d1">functions</a>&quot;), cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>))</td></tr>
<tr class="separator:a21da4953c61d301ca9402aed0ed89bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05efe971c4e940f01a5e34bc41cd602a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a05efe971c4e940f01a5e34bc41cd602a">NoCostModel</a> (&quot;ir-outlining-no-cost&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::ReallyHidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Debug option to outline greedily, without restriction that &quot; &quot;calculated benefit outweighs cost&quot;))</td></tr>
<tr class="separator:a05efe971c4e940f01a5e34bc41cd602a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa304ec6dc0794143885b97291ad23fb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#aa304ec6dc0794143885b97291ad23fb9">iroutliner</a></td></tr>
<tr class="separator:aa304ec6dc0794143885b97291ad23fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa0458fc58f092253b63ede4e21d6d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#a8fa0458fc58f092253b63ede4e21d6d2">Outliner</a></td></tr>
<tr class="separator:a8fa0458fc58f092253b63ede4e21d6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49c6451ed969267109749bc6f687f71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="IROutliner_8cpp.html#ad49c6451ed969267109749bc6f687f71">false</a></td></tr>
<tr class="separator:ad49c6451ed969267109749bc6f687f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;iroutliner&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00028">28</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ada51ec6529c49317519e0e5b491263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ada51ec6529c49317519e0e5b491263">&#9670;&nbsp;</a></span>alignOutputBlockWithAggFunc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void alignOutputBlockWithAggFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;&#160;</td>
          <td class="paramname"><em>OG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>OutputBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>EndBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputMappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputStoreBBs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For the outlined section, move needed the StoreInsts for the output registers into their own block. </p>
<p>Then, determine if there is a duplicate output block already created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">OG</td><td>- The <a class="el" href="structOutlinableGroup.html" title="The OutlinableGroup holds all the overarching information for outlining a set of regions that are str...">OutlinableGroup</a> of regions to be outlined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Region</td><td>- The OutlinableRegion that is being analyzed. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">OutputBB</td><td>- the block that stores for this region will be placed in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EndBB</td><td>- the final block of the extracted function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OutputMappings</td><td>- OutputMappings the mapping of values that have been replaced by a new output value. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">OutputStoreBBs</td><td>- The existing output blocks. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00999">999</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="RegionInfo_8h_source.html#l00560">llvm::RegionBase&lt; Tr &gt;::begin()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00922">collectRelevantInstructions()</a>, <a class="el" href="Instructions_8h_source.html#l03071">llvm::BranchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="DenseMap_8h_source.html#l00083">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="RegionInfo_8h_source.html#l00561">llvm::RegionBase&lt; Tr &gt;::end()</a>, <a class="el" href="DenseSet_8h_source.html#l00101">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::erase()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00129">llvm::BasicBlock::eraseFromParent()</a>, <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00950">findDuplicateOutputBlock()</a>, <a class="el" href="Optional_8h_source.html#l00280">llvm::Optional&lt; T &gt;::getValue()</a>, <a class="el" href="Optional_8h_source.html#l00286">llvm::Optional&lt; T &gt;::hasValue()</a>, <a class="el" href="DenseSet_8h_source.html#l00206">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::insert()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>, <a class="el" href="Value_8cpp_source.html#l00523">llvm::Value::replaceAllUsesWith()</a>, <a class="el" href="DenseSet_8h_source.html#l00081">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::size()</a>, and <a class="el" href="BasicBlock_8h_source.html#l00306">llvm::BasicBlock::size()</a>.</p>

</div>
</div>
<a id="a52a09c04ddc4ec6d039f1f11f01d019e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a09c04ddc4ec6d039f1f11f01d019e">&#9670;&nbsp;</a></span>collectRegionsConstants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> collectRegionsConstants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classunsigned.html">unsigned</a>, <a class="el" href="classllvm_1_1Constant.html">Constant</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>GVNToConstant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>NotSame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find whether <code>Region</code> matches the global value numbering to Constant mapping found so far. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Region</td><td>- The OutlinableRegion we are checking for constants </td></tr>
    <tr><td class="paramname">GVNToConstant</td><td>- The mapping of global value number to Constants. </td></tr>
    <tr><td class="paramname">NotSame</td><td>- The set of global value numbers that do not have the same constant in each region. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if all Constants are the same in every use of a Constant in <code>Region</code> and false if not </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00290">290</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="IROutliner_8cpp_source.html#l00223">constantMatches()</a>, <a class="el" href="DenseSet_8h_source.html#l00185">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::contains()</a>, <a class="el" href="DenseMap_8h_source.html#l00083">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="Optional_8h_source.html#l00280">llvm::Optional&lt; T &gt;::getValue()</a>, <a class="el" href="Optional_8h_source.html#l00286">llvm::Optional&lt; T &gt;::hasValue()</a>, and <a class="el" href="DenseSet_8h_source.html#l00206">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::insert()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00338">OutlinableGroup::findSameConstants()</a>.</p>

</div>
</div>
<a id="a9527769a87c07736cd574233e26a8baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9527769a87c07736cd574233e26a8baf">&#9670;&nbsp;</a></span>collectRelevantInstructions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt;<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&gt; collectRelevantInstructions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ExcludeBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For the given function, find all the nondebug or lifetime instructions, and return them as a vector. </p>
<p>Exclude any blocks in <code>ExludeBlocks</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">F</td><td>- The function we collect the instructions from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ExcludeBlocks</td><td>- BasicBlocks to ignore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the list of instructions extracted. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00922">922</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="DenseSet_8h_source.html#l00185">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::contains()</a>, and <a class="el" href="MD5_8cpp_source.html#l00056">F</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00999">alignOutputBlockWithAggFunc()</a>.</p>

</div>
</div>
<a id="a51932312ba2b9411a987be746ee773b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51932312ba2b9411a987be746ee773b2">&#9670;&nbsp;</a></span>constantMatches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; constantMatches </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>GVN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classunsigned.html">unsigned</a>, <a class="el" href="classllvm_1_1Constant.html">Constant</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>GVNToConstant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find whether <code>V</code> matches the Constants previously found for the <code>GVN</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td>- The value to check for consistency. </td></tr>
    <tr><td class="paramname">GVN</td><td>- The global value number assigned to <code>V</code>. </td></tr>
    <tr><td class="paramname">GVNToConstant</td><td>- The mapping of global value number to Constants. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the Value matches the Constant mapped to by V and false if it <code>V</code> is a Constant but does not match. </dd>
<dd>
None if <code>V</code> is not a Constant. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00223">223</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="DenseMap_8h_source.html#l00207">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::insert()</a>, and <a class="el" href="None_8h_source.html#l00023">llvm::None</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00290">collectRegionsConstants()</a>.</p>

</div>
</div>
<a id="aea967a44e357e9563f7429b1cca0f408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea967a44e357e9563f7429b1cca0f408">&#9670;&nbsp;</a></span>createSwitchStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createSwitchStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;&#160;</td>
          <td class="paramname"><em>OG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>EndBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>OutputStoreBBs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the switch statement for outlined function to differentiate between all the output blocks. </p>
<p>For the outlined section, determine if an outlined block already exists that matches the needed stores for the extracted section. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">M</td><td>- The module we are outlining from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OG</td><td>- The group of regions to be outlined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OS</td><td>- The region that is being analyzed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EndBB</td><td>- The final block of the extracted function. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">OutputStoreBBs</td><td>- The existing output blocks. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01087">1087</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8cpp_source.html#l04023">llvm::SwitchInst::addCase()</a>, <a class="el" href="Function_8h_source.html#l00795">llvm::Function::arg_size()</a>, <a class="el" href="BasicBlock_8h_source.html#l00100">llvm::BasicBlock::Create()</a>, <a class="el" href="Instructions_8h_source.html#l03349">llvm::SwitchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="BasicBlock_8h_source.html#l00298">llvm::BasicBlock::end()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00129">llvm::BasicBlock::eraseFromParent()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00077">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="Constants_8cpp_source.html#l00879">llvm::ConstantInt::get()</a>, <a class="el" href="Function_8h_source.html#l00780">llvm::Function::getArg()</a>, <a class="el" href="classllvm_1_1Type.html#a665146c0a5b7d6348c0df7b689576d6a">llvm::Type::getInt32Ty()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00148">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="IROutliner_8cpp_source.html#l00117">moveBBContents()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00096">llvm::Instruction::moveBefore()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>, <a class="el" href="IROutliner_8cpp_source.html#l00077">OutlinableGroup::OutputGVNCombinations</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00720">llvm::Instruction::setSuccessor()</a>, <a class="el" href="ArrayRef_8h_source.html#l00156">llvm::ArrayRef&lt; T &gt;::size()</a>, and <a class="el" href="DenseSet_8h_source.html#l00081">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::size()</a>.</p>

</div>
</div>
<a id="ac99cbc2367275634ff833c06e8191d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac99cbc2367275634ff833c06e8191d9e">&#9670;&nbsp;</a></span>fillOverallFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fillOverallFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;&#160;</td>
          <td class="paramname"><em>CurrentGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputStoreBBs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classllvm_1_1Function.html">Function</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>FuncsToRemove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the new function that will serve as the replacement function for all of the extracted regions of a certain structure from the first region in the list of regions. </p>
<p>Replace this first region's extracted function with the new overall function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">M</td><td>- The module we are outlining from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentGroup</td><td>- The group of regions to be outlined. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">OutputStoreBBs</td><td>- The output blocks for each different set of stores needed for the different functions. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FuncsToRemove</td><td>- Extracted functions to erase from module once outlining is complete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01143">1143</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="Function_8h_source.html#l00245">llvm::Function::addFnAttr()</a>, <a class="el" href="IROutliner_8h_source.html#l00104">llvm::OutlinableRegion::Call</a>, <a class="el" href="Instructions_8h_source.html#l03071">llvm::BranchInst::Create()</a>, <a class="el" href="BasicBlock_8h_source.html#l00100">llvm::BasicBlock::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00072">OutlinableGroup::EndBB</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00129">llvm::BasicBlock::eraseFromParent()</a>, <a class="el" href="IROutliner_8h_source.html#l00107">llvm::OutlinableRegion::ExtractedFunction</a>, <a class="el" href="Function_8h_source.html#l00239">llvm::Function::getAttributes()</a>, <a class="el" href="Attributes_8cpp_source.html#l01442">llvm::AttributeList::getFnAttributes()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="IROutliner_8cpp_source.html#l00385">moveFunctionData()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>, <a class="el" href="IROutliner_8h_source.html#l00079">llvm::OutlinableRegion::OutputBlockNum</a>, <a class="el" href="IROutliner_8cpp_source.html#l00057">OutlinableGroup::Regions</a>, <a class="el" href="IROutliner_8cpp_source.html#l00840">replaceArgumentUses()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00734">replaceCalledFunction()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00888">replaceConstants()</a>, and <a class="el" href="BasicBlock_8h_source.html#l00306">llvm::BasicBlock::size()</a>.</p>

</div>
</div>
<a id="acda959f961048eba09125aba48d1142e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda959f961048eba09125aba48d1142e">&#9670;&nbsp;</a></span>findConstants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void findConstants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>NotSame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the the constants that will need to be lifted into arguments as they are not the same in each instance of the region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>- The IRSimilarityCandidate containing the region we are analyzing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NotSame</td><td>- The set of global value numbers that do not have a single Constant across all OutlinableRegions similar to <code>C</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Inputs</td><td>- The list containing the global value numbers of the arguments needed for the region of code. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00412">412</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="DenseSet_8h_source.html#l00185">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::contains()</a>, and <a class="el" href="DenseSet_8h_source.html#l00206">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::insert()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00500">getCodeExtractorArguments()</a>.</p>

</div>
</div>
<a id="a8b12ae89227758cb5684cc7cf25a7f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b12ae89227758cb5684cc7cf25a7f43">&#9670;&nbsp;</a></span>findCostForOutputBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a> findCostForOutputBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOutlinableGroup.html">OutlinableGroup</a> &amp;&#160;</td>
          <td class="paramname"><em>CurrentGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the extra instructions needed to handle any output values for the region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">M</td><td>- The Module to outline from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentGroup</td><td>- The collection of OutlinableRegions to analyze. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TTI</td><td>- The TargetTransformInfo used to collect information for new instruction costs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the additional cost to handle the outputs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01338">1338</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="InstrTypes_8h_source.html#l00755">llvm::CmpInst::BAD_ICMP_PREDICATE</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="IRSimilarityIdentifier_8h_source.html#l00606">llvm::IRSimilarity::IRSimilarityCandidate::fromGVN()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00828">llvm::TargetTransformInfo::getCFInstrCost()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00835">llvm::TargetTransformInfo::getCmpSelInstrCost()</a>, <a class="el" href="classllvm_1_1Type.html#a665146c0a5b7d6348c0df7b689576d6a">llvm::Type::getInt32Ty()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00855">llvm::TargetTransformInfo::getMemoryOpCost()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Optional_8h_source.html#l00280">llvm::Optional&lt; T &gt;::getValue()</a>, <a class="el" href="Optional_8h_source.html#l00286">llvm::Optional&lt; T &gt;::hasValue()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="SparcInstrInfo_8h_source.html#l00032">llvm::SPII::Load</a>, <a class="el" href="IROutliner_8cpp_source.html#l00077">OutlinableGroup::OutputGVNCombinations</a>, <a class="el" href="IROutliner_8cpp_source.html#l00057">OutlinableGroup::Regions</a>, <a class="el" href="DenseSet_8h_source.html#l00081">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::size()</a>, and <a class="el" href="TargetTransformInfo_8h_source.html#l00224">llvm::TargetTransformInfo::TCK_CodeSize</a>.</p>

</div>
</div>
<a id="a1f4321fec5fdb59ac7dc62e14cbb443b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4321fec5fdb59ac7dc62e14cbb443b">&#9670;&nbsp;</a></span>findDuplicateOutputBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Optional.html">Optional</a>&lt;<a class="el" href="classunsigned.html">unsigned</a>&gt; findDuplicateOutputBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>OutputBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>OutputStoreBBs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It is possible that there is a basic block that already performs the same stores. </p>
<p>This returns a duplicate block, if it exists</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">OutputBB</td><td>[in] the block we are looking for a duplicate of. </td></tr>
    <tr><td class="paramname">OutputStoreBBs</td><td>[in] The existing output blocks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an optional value with the number output block if there is a match. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00950">950</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="BasicBlock_8h_source.html#l00296">llvm::BasicBlock::begin()</a>, <a class="el" href="MD5_8cpp_source.html#l00059">I</a>, <a class="el" href="None_8h_source.html#l00023">llvm::None</a>, and <a class="el" href="BasicBlock_8h_source.html#l00306">llvm::BasicBlock::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00999">alignOutputBlockWithAggFunc()</a>.</p>

</div>
</div>
<a id="a9148948069532c9a5e1b59e3668b8cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9148948069532c9a5e1b59e3668b8cc3">&#9670;&nbsp;</a></span>findExtractedInputToOverallInputMapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void findExtractedInputToOverallInputMapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>InputGVNs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ArgInputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look over the inputs and map each input argument to an argument in the overall function for the OutlinableRegions. </p>
<p>This creates a way to replace the arguments of the extracted function with the arguments of the new overall function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Region</td><td>- The region of code to be analyzed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">InputsGVNs</td><td>- The global value numbering of the input values collected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ArgInputs</td><td>- The values of the arguments to the extracted function. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00571">571</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="IROutliner_8cpp_source.html#l00061">OutlinableGroup::ArgumentTypes</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="SetVector_8h_source.html#l00215">llvm::SetVector&lt; T, Vector, Set &gt;::count()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Optional_8h_source.html#l00280">llvm::Optional&lt; T &gt;::getValue()</a>, <a class="el" href="Optional_8h_source.html#l00286">llvm::Optional&lt; T &gt;::hasValue()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00081">OutlinableGroup::InputTypesSet</a>, <a class="el" href="Value_8cpp_source.html#l00889">llvm::Value::isSwiftError()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00085">OutlinableGroup::NumAggregateInputs</a>, and <a class="el" href="IROutliner_8cpp_source.html#l00096">OutlinableGroup::SwiftErrorArgument</a>.</p>

</div>
</div>
<a id="ad48e342de7dd9ab549c3909db631f95e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad48e342de7dd9ab549c3909db631f95e">&#9670;&nbsp;</a></span>findExtractedOutputToOverallOutputMapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void findExtractedOutputToOverallOutputMapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>Outputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a mapping of the output arguments for the <code>Region</code> to the output arguments of the overall outlined function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Region</td><td>- The region of code to be analyzed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Outputs</td><td>- The values found by the code extractor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00642">642</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="IROutliner_8cpp_source.html#l00061">OutlinableGroup::ArgumentTypes</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="DenseSet_8h_source.html#l00185">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::contains()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00673">llvm::PointerType::getUnqual()</a>, <a class="el" href="DenseSet_8h_source.html#l00206">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::insert()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00085">OutlinableGroup::NumAggregateInputs</a>, and <a class="el" href="STLExtras_8h_source.html#l01633">llvm::stable_sort()</a>.</p>

</div>
</div>
<a id="a48d81e3f58b8db143bc85763d25dbc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d81e3f58b8db143bc85763d25dbc7a">&#9670;&nbsp;</a></span>getCodeExtractorArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void getCodeExtractorArguments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>InputGVNs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseSet.html">DenseSet</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>NotSame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputMappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ArgInputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>Outputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the input GVNs and the output values for a region of Instructions. </p>
<p>Using the code extractor, we collect the inputs to the extracted function.</p>
<p>The <code>Region</code> can be identified as needing to be ignored in this function. It should be checked whether it should be ignored after a call to this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Region</td><td>- The region of code to be analyzed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">InputGVNs</td><td>- The global value numbers for the extracted arguments. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NotSame</td><td>- The global value numbers in the region that do not have the same constant value in the regions structurally similar to <code>Region</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OutputMappings</td><td>- The mapping of values that have been replaced by a new output value after extraction. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ArgInputs</td><td>- The values of the inputs to the extracted function. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Outputs</td><td>- The set of values extracted by the CodeExtractor as outputs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00500">500</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="NVPTXISelLowering_8h_source.html#l00060">llvm::NVPTXISD::Dummy</a>, <a class="el" href="IROutliner_8cpp_source.html#l00412">findConstants()</a>, <a class="el" href="SetVector_8h_source.html#l00063">llvm::SetVector&lt; T, Vector, Set &gt;::getArrayRef()</a>, <a class="el" href="RegionInfo_8h_source.html#l00364">llvm::RegionBase&lt; Tr &gt;::getParent()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00444">mapInputsToGVNs()</a>, <a class="el" href="IROutliner_8cpp_source.html#l00470">remapExtractedInputs()</a>, <a class="el" href="SetVector_8h_source.html#l00077">llvm::SetVector&lt; T, Vector, Set &gt;::size()</a>, and <a class="el" href="STLExtras_8h_source.html#l01633">llvm::stable_sort()</a>.</p>

</div>
</div>
<a id="a887362135c31af6ca59ade2ff6fc1047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887362135c31af6ca59ade2ff6fc1047">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIROutlinerLegacyPass.html">IROutlinerLegacyPass</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;iroutliner&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;IR <a class="el" href="IROutliner_8cpp.html#a8fa0458fc58f092253b63ede4e21d6d2">Outliner</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9165dd298666d75ed2e5be7d5d8b50e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9165dd298666d75ed2e5be7d5d8b50e5">&#9670;&nbsp;</a></span>mapInputsToGVNs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mapInputsToGVNs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRSimilarity_1_1IRSimilarityCandidate.html">IRSimilarityCandidate</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>CurrentInputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputMappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AMDGPUPromoteAlloca_8cpp.html#a497dd5c4846251a4aff5e4a3a466acd8">std::vector</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>EndInputNumbers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the GVN for the inputs that have been found by the CodeExtractor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>- The IRSimilarityCandidate containing the region we are analyzing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentInputs</td><td>- The set of inputs found by the CodeExtractor. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">EndInputNumbers</td><td>- The global value numbers for the extracted arguments. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OutputMappings</td><td>- The mapping of values that have been replaced by a new output value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">EndInputs</td><td>- The global value numbers for the extracted arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00444">444</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00061">C</a>, <a class="el" href="DenseMap_8h_source.html#l00083">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, and <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00500">getCodeExtractorArguments()</a>.</p>

</div>
</div>
<a id="a3afc8c0c69b0c55edce3be13d5b7cc32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3afc8c0c69b0c55edce3be13d5b7cc32">&#9670;&nbsp;</a></span>moveBBContents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void moveBBContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>SourceBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>TargetBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move the contents of <code>SourceBB</code> to before the last instruction of <code>TargetBB</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SourceBB</td><td>- the BasicBlock to pull Instructions from. </td></tr>
    <tr><td class="paramname">TargetBB</td><td>- the BasicBlock to put Instruction into. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00117">117</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="BasicBlock_8h_source.html#l00296">llvm::BasicBlock::begin()</a>, and <a class="el" href="BasicBlock_8h_source.html#l00298">llvm::BasicBlock::end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01087">createSwitchStatement()</a>, and <a class="el" href="IROutliner_8cpp_source.html#l00162">llvm::OutlinableRegion::reattachCandidate()</a>.</p>

</div>
</div>
<a id="a589de9c77e75842cbf318f07e4fe6209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589de9c77e75842cbf318f07e4fe6209">&#9670;&nbsp;</a></span>moveFunctionData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a>* moveFunctionData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>Old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>New</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move each BasicBlock in <code>Old</code> to <code>New</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Old</td><td>- the function to move the basic blocks from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">New</td><td>- The function to move the basic blocks to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first return block for the function in New. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00385">385</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Function_8h_source.html#l00747">llvm::Function::begin()</a>, <a class="el" href="Function_8h_source.html#l00749">llvm::Function::end()</a>, and <a class="el" href="MD5_8cpp_source.html#l00059">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01143">fillOverallFunction()</a>.</p>

</div>
</div>
<a id="a09e9f16b4a1aaf539000b95bf5442155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e9f16b4a1aaf539000b95bf5442155">&#9670;&nbsp;</a></span>remapExtractedInputs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remapExtractedInputs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>ArgInputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>OutputMappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SetVector.html">SetVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>RemappedArgInputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the original value for the <code>ArgInput</code> values if any one of them was replaced during a previous extraction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ArgInputs</td><td>- The inputs to be extracted by the code extractor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OutputMappings</td><td>- The mapping of values that have been replaced by a new output value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RemappedArgInputs</td><td>- The remapped values according to <code>OutputMappings</code> that will be extracted. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00470">470</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="DenseMap_8h_source.html#l00083">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, and <a class="el" href="SetVector_8h_source.html#l00141">llvm::SetVector&lt; T, Vector, Set &gt;::insert()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l00500">getCodeExtractorArguments()</a>.</p>

</div>
</div>
<a id="a8fdcb52f06725b70d2171c23aba46316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fdcb52f06725b70d2171c23aba46316">&#9670;&nbsp;</a></span>replaceArgumentUses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceArgumentUses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>OutputBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Region</td><td>- The region of extracted code to be changed. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">OutputBB</td><td>- The BasicBlock for the output stores for this region. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00840">840</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPULibCalls_8cpp_source.html#l00205">Arg</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="RegionInfo_8h_source.html#l00561">llvm::RegionBase&lt; Tr &gt;::end()</a>, <a class="el" href="BasicBlock_8h_source.html#l00298">llvm::BasicBlock::end()</a>, <a class="el" href="Function_8h_source.html#l00780">llvm::Function::getArg()</a>, <a class="el" href="MD5_8cpp_source.html#l00059">I</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, and <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01143">fillOverallFunction()</a>.</p>

</div>
</div>
<a id="a4f3c175c90b9439d52ad07ecda521c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3c175c90b9439d52ad07ecda521c2f">&#9670;&nbsp;</a></span>replaceCalledFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1CallInst.html">CallInst</a>* replaceCalledFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace the extracted function in the Region with a call to the overall function constructed from the deduplicated similar regions, replacing and remapping the values passed to the extracted function as arguments to the new arguments of the overall function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">M</td><td>- The module to outline from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Region</td><td>- The regions of extracted code to be replaced with a new function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a call instruction with the replaced function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00734">734</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="Function_8h_source.html#l00795">llvm::Function::arg_size()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Instructions_8h_source.html#l01493">llvm::CallInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="RegionInfo_8h_source.html#l00561">llvm::RegionBase&lt; Tr &gt;::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00077">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="Constants_8cpp_source.html#l01740">llvm::ConstantPointerNull::get()</a>, <a class="el" href="Constants_8cpp_source.html#l00879">llvm::ConstantInt::get()</a>, <a class="el" href="Function_8h_source.html#l00780">llvm::Function::getArg()</a>, <a class="el" href="Function_8h_source.html#l00165">llvm::Function::getFunctionType()</a>, <a class="el" href="classllvm_1_1Type.html#a665146c0a5b7d6348c0df7b689576d6a">llvm::Type::getInt32Ty()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Optional_8h_source.html#l00280">llvm::Optional&lt; T &gt;::getValue()</a>, <a class="el" href="Optional_8h_source.html#l00286">llvm::Optional&lt; T &gt;::hasValue()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>, <a class="el" href="IROutliner_8cpp_source.html#l00077">OutlinableGroup::OutputGVNCombinations</a>, <a class="el" href="DenseSet_8h_source.html#l00081">llvm::detail::DenseSetImpl&lt; ValueT, MapTy, ValueInfoT &gt;::size()</a>, and <a class="el" href="IROutliner_8cpp_source.html#l00096">OutlinableGroup::SwiftErrorArgument</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01143">fillOverallFunction()</a>.</p>

</div>
</div>
<a id="ace02ac07a3f704ffd345301bff92e5a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace02ac07a3f704ffd345301bff92e5a8">&#9670;&nbsp;</a></span>replaceConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void replaceConstants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1OutlinableRegion.html">OutlinableRegion</a> &amp;&#160;</td>
          <td class="paramname"><em>Region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Within an extracted function, replace the constants that need to be lifted into arguments with the actual argument. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Region</td><td>[in] - The region of extracted code to be changed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l00888">888</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPULibCalls_8cpp_source.html#l00205">Arg</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="Function_8h_source.html#l00780">llvm::Function::getArg()</a>, <a class="el" href="Use_8h_source.html#l00073">llvm::Use::getUser()</a>, <a class="el" href="MD5_8cpp_source.html#l00059">I</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="IROutliner_8cpp_source.html#l00065">OutlinableGroup::OutlinedFunction</a>, and <a class="el" href="Value_8h_source.html#l00305">llvm::Value::replaceUsesWithIf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01143">fillOverallFunction()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a21da4953c61d301ca9402aed0ed89bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21da4953c61d301ca9402aed0ed89bd2">&#9670;&nbsp;</a></span>EnableLinkOnceODRIROutlining</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; EnableLinkOnceODRIROutlining(&quot;enable-linkonceodr-<a class="el" href="SafepointIRVerifier_8cpp.html#a3d3459f5796b9b9f0253f71d5620e958">ir</a>-outlining&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable the <a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> outliner on linkonceodr <a class="el" href="PartiallyInlineLibCalls_8cpp.html#a952d70e13d585a301a5db855e6c309d1">functions</a>&quot;), cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>)) </td>
          <td>(</td>
          <td class="paramtype">&quot;enable-linkonceodr-<a class="el" href="SafepointIRVerifier_8cpp.html#a3d3459f5796b9b9f0253f71d5620e958">ir</a>-outlining&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable the <a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> outliner on linkonceodr <a class="el" href="PartiallyInlineLibCalls_8cpp.html#a952d70e13d585a301a5db855e6c309d1">functions</a>&quot;)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01685">llvm::IROutliner::run()</a>.</p>

</div>
</div>
<a id="ad49c6451ed969267109749bc6f687f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49c6451ed969267109749bc6f687f71">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01761">1761</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

</div>
</div>
<a id="aa304ec6dc0794143885b97291ad23fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa304ec6dc0794143885b97291ad23fb9">&#9670;&nbsp;</a></span>iroutliner</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iroutliner</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01761">1761</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

</div>
</div>
<a id="a05efe971c4e940f01a5e34bc41cd602a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05efe971c4e940f01a5e34bc41cd602a">&#9670;&nbsp;</a></span>NoCostModel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; NoCostModel(&quot;ir-outlining-no-cost&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::ReallyHidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Debug option to outline greedily, without restriction that &quot; &quot;calculated benefit outweighs cost&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;ir-outlining-no-cost&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::ReallyHidden&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Debug option to outline greedily, without restriction that &quot; &quot;calculated benefit outweighs cost&quot;)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="IROutliner_8cpp_source.html#l01685">llvm::IROutliner::run()</a>.</p>

</div>
</div>
<a id="a8fa0458fc58f092253b63ede4e21d6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa0458fc58f092253b63ede4e21d6d2">&#9670;&nbsp;</a></span>Outliner</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Legalizer_8cpp.html#a05ab4853f7153e537774d02580e761ec">IR</a> Outliner</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IROutliner_8cpp_source.html#l01761">1761</a> of file <a class="el" href="IROutliner_8cpp_source.html">IROutliner.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 9 2021 06:04:08 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
