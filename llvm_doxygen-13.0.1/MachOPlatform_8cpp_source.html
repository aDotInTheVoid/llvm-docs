<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/ExecutionEngine/Orc/MachOPlatform.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">13.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ff4c6dc1720636682ab045c894e9bc5.html">ExecutionEngine</a></li><li class="navelem"><a class="el" href="dir_5e11c450ca4c873ca81149e572d5ac9a.html">Orc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MachOPlatform.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MachOPlatform_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------ MachOPlatform.cpp - Utilities for executing MachO in Orc ------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachOPlatform_8h.html">llvm/ExecutionEngine/Orc/MachOPlatform.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BinaryFormat_2MachO_8h.html">llvm/BinaryFormat/MachO.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="x86__64_8h.html">llvm/ExecutionEngine/JITLink/x86_64.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugUtils_8h.html">llvm/ExecutionEngine/Orc/DebugUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ExecutionUtils_8h.html">llvm/ExecutionEngine/Orc/ExecutionUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BinaryByteStream_8h.html">llvm/Support/BinaryByteStream.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="MachOPlatform_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   18</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;orc&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1orc.html">llvm::orc</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1orc_1_1shared.html">llvm::orc::shared</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span>MachOHeaderMaterializationUnit : <span class="keyword">public</span> <a class="code" href="classllvm_1_1orc_1_1MaterializationUnit.html">MaterializationUnit</a> {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  MachOHeaderMaterializationUnit(<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html">MachOPlatform</a> &amp;MOP,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1SymbolStringPtr.html">SymbolStringPtr</a> &amp;HeaderStartSymbol)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;      : <a class="code" href="classllvm_1_1orc_1_1MaterializationUnit.html">MaterializationUnit</a>(createHeaderSymbols(MOP, HeaderStartSymbol),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                            HeaderStartSymbol),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        MOP(MOP) {}</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;MachOHeaderMU&quot;</span>; }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordtype">void</span> materialize(std::unique_ptr&lt;MaterializationResponsibility&gt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1jitlink_1_1x86__64.html#a73a3b0ce55e5217546f5140e284e5ae3">PointerSize</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862c">support::endianness</a> <a class="code" href="namespacellvm_1_1msgpack.html#a0eb2534d134592e4bf9f9b47af1ee214">Endianness</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;TT =</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        MOP.<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a52a629a875527dd78f5dd00f88b7d218">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#ad2448a503f5751b1b0d7688693bf11dc">getExecutorProcessControl</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a0ea8f7c74ef1edc1ede008406378ac0f">getTargetTriple</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">switch</span> (TT.getArch()) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <a class="code" href="namespacellvm_1_1jitlink_1_1x86__64.html#a73a3b0ce55e5217546f5140e284e5ae3">PointerSize</a> = 8;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="namespacellvm_1_1msgpack.html#a0eb2534d134592e4bf9f9b47af1ee214">Endianness</a> = <a class="code" href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862ca30d1099d0325778e7b60550d84c621f0">support::endianness::little</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unrecognized architecture&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">auto</span> <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a> = std::make_unique&lt;jitlink::LinkGraph&gt;(</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="stringliteral">&quot;&lt;MachOHeaderMU&gt;&quot;</span>, TT, <a class="code" href="namespacellvm_1_1jitlink_1_1x86__64.html#a73a3b0ce55e5217546f5140e284e5ae3">PointerSize</a>, <a class="code" href="namespacellvm_1_1msgpack.html#a0eb2534d134592e4bf9f9b47af1ee214">Endianness</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="namespacellvm_1_1jitlink.html#a06eee57acde48953ffd29ae8d337202e">jitlink::getGenericEdgeKindName</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">auto</span> &amp;HeaderSection = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;createSection(<span class="stringliteral">&quot;__header&quot;</span>, <a class="code" href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417">sys::Memory::MF_READ</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">auto</span> &amp;HeaderBlock = createHeaderBlock(*<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, HeaderSection);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// Init symbol is header-start symbol.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;addDefinedSymbol(HeaderBlock, 0, *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>-&gt;getInitializerSymbol(),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                        HeaderBlock.getSize(), jitlink::Linkage::Strong,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                        <a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fda7a1920d61156abc05a60135aefe8bc67">jitlink::Scope::Default</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">HS</a> : AdditionalHeaderSymbols)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>-&gt;addDefinedSymbol(HeaderBlock, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">HS</a>.Offset, <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">HS</a>.Name,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                          HeaderBlock.getSize(), jitlink::Linkage::Strong,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                          <a class="code" href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fda7a1920d61156abc05a60135aefe8bc67">jitlink::Scope::Default</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    MOP.<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a3ef58f0cc4d3332a0c4e83e26b115b13">getObjectLinkingLayer</a>().<a class="code" href="classllvm_1_1orc_1_1ObjectLinkingLayer.html#a964526f0df9bb7f08d8965630e63280f">emit</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>), <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">void</span> discard(<span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1SymbolStringPtr.html">SymbolStringPtr</a> &amp;Sym)<span class="keyword"> override </span>{}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">struct </span>HeaderSymbol {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    uint64_t <a class="code" href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  };</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">static</span> constexpr HeaderSymbol AdditionalHeaderSymbols[] = {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      {<span class="stringliteral">&quot;___mh_executable_header&quot;</span>, 0}};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1jitlink_1_1Block.html">jitlink::Block</a> &amp;createHeaderBlock(<a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                           <a class="code" href="classllvm_1_1jitlink_1_1Section.html">jitlink::Section</a> &amp;HeaderSection) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html">MachO::mach_header_64</a> Hdr;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a1e15666405afcdd612f96145ba9d9846">magic</a> = <a class="code" href="namespacellvm_1_1MachO.html#a8e62577d400fcaeb1f5b30a064a0af94ad58eeb9082b629126262656d574117e7">MachO::MH_MAGIC_64</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getTargetTriple().getArch()) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">Triple::aarch64</a>:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a1a131e94fadf1bc4fdae17ccdab180f2">cputype</a> = <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad">MachO::CPU_TYPE_ARM64</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#af9ac9dcc187aadbb5193b04fed30630e">cpusubtype</a> = <a class="code" href="namespacellvm_1_1MachO.html#a2cbde57a4b9afb238801fdbaaa98eadca8520fa7ada41507bd9affc1763435e2e">MachO::CPU_SUBTYPE_ARM64_ALL</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a1a131e94fadf1bc4fdae17ccdab180f2">cputype</a> = <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a633855cb5719de40d81669897cc571c8">MachO::CPU_TYPE_X86_64</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#af9ac9dcc187aadbb5193b04fed30630e">cpusubtype</a> = <a class="code" href="namespacellvm_1_1MachO.html#ae86e82720723217878cee426edacb5ceaa924bb600517a47108514a58b30e9df1">MachO::CPU_SUBTYPE_X86_64_ALL</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unrecognized architecture&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a5a2c178518b058b9d45b7296f86e43e2">filetype</a> = <a class="code" href="namespacellvm_1_1MachO.html#a4099e754341e36bdbc04624fa2f1e19aa61431e5ba87f234d7b1ffa7bfd12c98e">MachO::MH_DYLIB</a>; <span class="comment">// Custom file type?</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a9630853006254a012a95059cf0d29842">ncmds</a> = 0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#aa653fdc7742d0b6c59a09545867fcb34">sizeofcmds</a> = 0;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a42d75dff6103d71fe474dfc632f109b1">flags</a> = 0;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    Hdr.<a class="code" href="structllvm_1_1MachO_1_1mach__header__64.html#a30a7b9617a54818e8d2f22b331a55ca9">reserved</a> = 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getEndianness() != <a class="code" href="namespacellvm_1_1support_1_1endian.html#a7c1f987ba48a19f2d8480a435ba805a4">support::endian::system_endianness</a>())</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="namespacellvm_1_1MachO.html#a754466f4b36d6a2365e56663e0d9de83">MachO::swapStruct</a>(Hdr);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">auto</span> HeaderContent = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.allocateString(</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(&amp;Hdr), <span class="keyword">sizeof</span>(Hdr)));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.createContentBlock(HeaderSection, HeaderContent, 0, 8, 0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1DenseMap.html">SymbolFlagsMap</a></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  createHeaderSymbols(<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html">MachOPlatform</a> &amp;MOP,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1SymbolStringPtr.html">SymbolStringPtr</a> &amp;HeaderStartSymbol) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">SymbolFlagsMap</a> HeaderSymbolFlags;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    HeaderSymbolFlags[HeaderStartSymbol] = <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">HS</a> : AdditionalHeaderSymbols)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      HeaderSymbolFlags[MOP.<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a52a629a875527dd78f5dd00f88b7d218">getExecutionSession</a>().<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">HS</a>.Name)] =</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> HeaderSymbolFlags;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html">MachOPlatform</a> &amp;MOP;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;};</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;constexpr MachOHeaderMaterializationUnit::HeaderSymbol</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    MachOHeaderMaterializationUnit::AdditionalHeaderSymbols[];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> EHFrameSectionName = <span class="stringliteral">&quot;__TEXT,__eh_frame&quot;</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ModInitFuncSectionName = <span class="stringliteral">&quot;__DATA,__mod_init_func&quot;</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ObjCClassListSectionName = <span class="stringliteral">&quot;__DATA,__objc_classlist&quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ObjCImageInfoSectionName = <span class="stringliteral">&quot;__DATA,__objc_image_info&quot;</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ObjCSelRefsSectionName = <span class="stringliteral">&quot;__DATA,__objc_selrefs&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Swift5ProtoSectionName = <span class="stringliteral">&quot;__TEXT,__swift5_proto&quot;</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Swift5ProtosSectionName = <span class="stringliteral">&quot;__TEXT,__swift5_protos&quot;</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ThreadBSSSectionName = <span class="stringliteral">&quot;__DATA,__thread_bss&quot;</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ThreadDataSectionName = <span class="stringliteral">&quot;__DATA,__thread_data&quot;</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ThreadVarsSectionName = <span class="stringliteral">&quot;__DATA,__thread_vars&quot;</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> InitSectionNames[] = {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    ModInitFuncSectionName, ObjCSelRefsSectionName, ObjCClassListSectionName,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    Swift5ProtosSectionName, Swift5ProtoSectionName};</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keyword">namespace </span>orc {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;std::unique_ptr&lt;MachOPlatform&gt;</a>&gt;</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#af5c11b6b1787e31b98dafd92cd158eec">  152</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#af5c11b6b1787e31b98dafd92cd158eec">MachOPlatform::Create</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES, <a class="code" href="classllvm_1_1orc_1_1ObjectLinkingLayer.html">ObjectLinkingLayer</a> &amp;ObjLinkingLayer,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                      <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;PlatformJD, <span class="keyword">const</span> <span class="keywordtype">char</span> *OrcRuntimePath,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                      <a class="code" href="classllvm_1_1Optional.html">Optional&lt;SymbolAliasMap&gt;</a> RuntimeAliases) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">auto</span> &amp;EPC = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#ad2448a503f5751b1b0d7688693bf11dc">getExecutorProcessControl</a>();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// If the target is not supported then bail out immediately.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (!supportedTarget(EPC.getTargetTriple()))</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Unsupported MachOPlatform triple: &quot;</span> +</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                       EPC.getTargetTriple().str(),</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// Create default aliases if the caller didn&#39;t supply any.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (!RuntimeAliases)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    RuntimeAliases = standardPlatformAliases(ES);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// Define the aliases.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = PlatformJD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">define</a>(<a class="code" href="namespacellvm_1_1orc.html#a7c3216ff59aae3ecb1dd1a45f04e6d07">symbolAliases</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*RuntimeAliases))))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// Add JIT-dispatch function support symbols.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = PlatformJD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">define</a>(<a class="code" href="namespacellvm_1_1orc.html#aad6c1b2ed5f6caf1e576fdd27baa6697">absoluteSymbols</a>(</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          {{ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<span class="stringliteral">&quot;___orc_rt_jit_dispatch&quot;</span>),</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            {EPC.getJITDispatchInfo().JITDispatchFunctionAddress.getValue(),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;             <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>}},</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;           {ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<span class="stringliteral">&quot;___orc_rt_jit_dispatch_ctx&quot;</span>),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            {EPC.getJITDispatchInfo().JITDispatchContextAddress.getValue(),</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;             <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>}}})))</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// Create a generator for the ORC runtime archive.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keyword">auto</span> OrcRuntimeArchiveGenerator = <a class="code" href="classllvm_1_1orc_1_1StaticLibraryDefinitionGenerator.html#a9334e07c0fe460cc929152dd8ee4bf35">StaticLibraryDefinitionGenerator::Load</a>(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      ObjLinkingLayer, OrcRuntimePath, EPC.getTargetTriple());</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (!OrcRuntimeArchiveGenerator)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> OrcRuntimeArchiveGenerator.takeError();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// Create the instance.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="classllvm_1_1Error.html">Error</a> Err = <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keyword">auto</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = std::unique_ptr&lt;MachOPlatform&gt;(</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html">MachOPlatform</a>(ES, ObjLinkingLayer, PlatformJD,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*OrcRuntimeArchiveGenerator), Err));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (Err)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#a45fd41e11f6881253372745d7927cd52">  198</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a45fd41e11f6881253372745d7927cd52">MachOPlatform::setupJITDylib</a>(<a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> JD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">define</a>(std::make_unique&lt;MachOHeaderMaterializationUnit&gt;(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      *<span class="keyword">this</span>, MachOHeaderStartSymbol));</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#a9933be5a0082912958e7328de0ca90e1">  203</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a9933be5a0082912958e7328de0ca90e1">MachOPlatform::notifyAdding</a>(<a class="code" href="classllvm_1_1orc_1_1ResourceTracker.html">ResourceTracker</a> &amp;RT,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1orc_1_1MaterializationUnit.html">MaterializationUnit</a> &amp;MU) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">auto</span> &amp;JD = RT.<a class="code" href="classllvm_1_1orc_1_1ResourceTracker.html#a7ef53b6a7206a00ac1acb2f0831c2734">getJITDylib</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;InitSym = MU.<a class="code" href="classllvm_1_1orc_1_1MaterializationUnit.html#ae808c8d8d1d7e0e593fc550a50f5bf6a">getInitializerSymbol</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (!InitSym)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  RegisteredInitSymbols[&amp;JD].add(InitSym,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                 <a class="code" href="namespacellvm_1_1orc.html#a69e9511c04540297d2cff38f4645a9abaa1734373fb555ce75d3e33411f9ea827">SymbolLookupFlags::WeaklyReferencedSymbol</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform: Registered init symbol &quot;</span> &lt;&lt; *InitSym &lt;&lt; <span class="stringliteral">&quot; for MU &quot;</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;           &lt;&lt; MU.<a class="code" href="classllvm_1_1orc_1_1MaterializationUnit.html#a1c2e2986d77d9e3cc3d1c64e6e8f35ad">getName</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  });</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#ab3516e13e87d0b4a374fad5b5ff22b05">  219</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#ab3516e13e87d0b4a374fad5b5ff22b05">MachOPlatform::notifyRemoving</a>(<a class="code" href="classllvm_1_1orc_1_1ResourceTracker.html">ResourceTracker</a> &amp;RT) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Not supported yet&quot;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="namespacellvm_1_1orc.html#ac45c828cc7d7e704b6594b6b4ad5a6b3">  223</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1orc.html#ac45c828cc7d7e704b6594b6b4ad5a6b3">addAliases</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES, <a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> &amp;Aliases,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                       <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;std::pair&lt;const char *, const char *&gt;&gt; <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;KV : <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">AL</a>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">auto</span> AliasName = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(KV.first);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Aliases.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(AliasName) &amp;&amp; <span class="stringliteral">&quot;Duplicate symbol name in alias map&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    Aliases[<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(AliasName)] = {ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(KV.second),</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                     <a class="code" href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">JITSymbolFlags::Exported</a>};</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#ab2b75dd698cda0452b5e84199248ca8a">  233</a></span>&#160;<a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#ab2b75dd698cda0452b5e84199248ca8a">MachOPlatform::standardPlatformAliases</a>(<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">SymbolAliasMap</a> Aliases;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="namespacellvm_1_1orc.html#ac45c828cc7d7e704b6594b6b4ad5a6b3">addAliases</a>(ES, Aliases, requiredCXXAliases());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="namespacellvm_1_1orc.html#ac45c828cc7d7e704b6594b6b4ad5a6b3">addAliases</a>(ES, Aliases, standardRuntimeUtilityAliases());</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> Aliases;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;const char *, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#afa832afa22d43b07518adfe5bae7c816">  241</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#afa832afa22d43b07518adfe5bae7c816">MachOPlatform::requiredCXXAliases</a>() {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;const char *, const char *&gt; RequiredCXXAliases[] = {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      {<span class="stringliteral">&quot;___cxa_atexit&quot;</span>, <span class="stringliteral">&quot;___orc_rt_macho_cxa_atexit&quot;</span>}};</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;const char *, const char *&gt;</a>&gt;(RequiredCXXAliases);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;const char *, const char *&gt;</a>&gt;</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#a5033eefe5c3bcf123e9d3070884f38f5">  249</a></span>&#160;<a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a5033eefe5c3bcf123e9d3070884f38f5">MachOPlatform::standardRuntimeUtilityAliases</a>() {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> std::pair&lt;const char *, const char *&gt;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      StandardRuntimeUtilityAliases[] = {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          {<span class="stringliteral">&quot;___orc_rt_run_program&quot;</span>, <span class="stringliteral">&quot;___orc_rt_macho_run_program&quot;</span>},</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          {<span class="stringliteral">&quot;___orc_rt_log_error&quot;</span>, <span class="stringliteral">&quot;___orc_rt_log_error_to_stderr&quot;</span>}};</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;std::pair&lt;const char *, const char *&gt;</a>&gt;(</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      StandardRuntimeUtilityAliases);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classllvm_1_1orc_1_1MachOPlatform.html#a28b75ea27ce950f5833166fee5f6ac52">  259</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a28b75ea27ce950f5833166fee5f6ac52">MachOPlatform::isInitializerSection</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SegName,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                         <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SectName) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> : InitSectionNames) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.startswith(SegName) &amp;&amp; <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>.substr(7) == SectName)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">bool</span> MachOPlatform::supportedTarget(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TT) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">switch</span> (TT.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>()) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">Triple::x86_64</a>:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;MachOPlatform::MachOPlatform(</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html">ExecutionSession</a> &amp;ES, <a class="code" href="classllvm_1_1orc_1_1ObjectLinkingLayer.html">ObjectLinkingLayer</a> &amp;ObjLinkingLayer,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;PlatformJD,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    std::unique_ptr&lt;DefinitionGenerator&gt; OrcRuntimeGenerator, <a class="code" href="classllvm_1_1Error.html">Error</a> &amp;Err)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    : ES(ES), ObjLinkingLayer(ObjLinkingLayer),</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      MachOHeaderStartSymbol(ES.intern(<span class="stringliteral">&quot;___dso_handle&quot;</span>)) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classllvm_1_1ErrorAsOutParameter.html">ErrorAsOutParameter</a> <a class="code" href="HexagonMCCodeEmitter_8cpp.html#ae4dfd7b0d66121016d6466d2ff10e8ba">_</a>(&amp;Err);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  ObjLinkingLayer.<a class="code" href="classllvm_1_1orc_1_1ObjectLinkingLayer.html#a6cb4512f228d57fe42787ce9cd1b29dd">addPlugin</a>(std::make_unique&lt;MachOPlatformPlugin&gt;(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  PlatformJD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#ae89dfebe97fc65907c1b9194aafe1ade">addGenerator</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(OrcRuntimeGenerator));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// PlatformJD hasn&#39;t been &#39;set-up&#39; by the platform yet (since we&#39;re creating</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// the platform now), so set it up.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> E2 = <a class="code" href="classllvm_1_1orc_1_1MachOPlatform.html#a45fd41e11f6881253372745d7927cd52">setupJITDylib</a>(PlatformJD)) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    Err = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(E2);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  RegisteredInitSymbols[&amp;PlatformJD].add(</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      MachOHeaderStartSymbol, <a class="code" href="namespacellvm_1_1orc.html#a69e9511c04540297d2cff38f4645a9abaa1734373fb555ce75d3e33411f9ea827">SymbolLookupFlags::WeaklyReferencedSymbol</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// Associate wrapper function tags with JIT-side function implementations.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> E2 = associateRuntimeSupportFunctions(PlatformJD)) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    Err = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(E2);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// Lookup addresses of runtime functions callable by the platform,</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// call the platform bootstrap function to initialize the platform-state</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// object in the executor.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> E2 = bootstrapMachORuntime(PlatformJD)) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    Err = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(E2);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::associateRuntimeSupportFunctions(<a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;PlatformJD) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">ExecutionSession::JITDispatchHandlerAssociationMap</a> WFs;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keyword">using</span> GetInitializersSPSSig =</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExpected.html">SPSExpected&lt;SPSMachOJITDylibInitializerSequence&gt;</a>(<a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSSequence.html">SPSString</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  WFs[ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<span class="stringliteral">&quot;___orc_rt_macho_get_initializers_tag&quot;</span>)] =</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a6d161dc24753bbe3581c27a63c8be151">wrapAsyncWithSPS</a>&lt;GetInitializersSPSSig&gt;(</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <span class="keyword">this</span>, &amp;MachOPlatform::rt_getInitializers);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keyword">using</span> GetDeinitializersSPSSig =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExpected.html">SPSExpected&lt;SPSMachOJITDylibDeinitializerSequence&gt;</a>(<a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExecutorAddress.html">SPSExecutorAddress</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  WFs[ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<span class="stringliteral">&quot;___orc_rt_macho_get_deinitializers_tag&quot;</span>)] =</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a6d161dc24753bbe3581c27a63c8be151">wrapAsyncWithSPS</a>&lt;GetDeinitializersSPSSig&gt;(</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          <span class="keyword">this</span>, &amp;MachOPlatform::rt_getDeinitializers);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">using</span> LookupSymbolSPSSig =</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExpected.html">SPSExpected&lt;SPSExecutorAddress&gt;</a>(<a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExecutorAddress.html">SPSExecutorAddress</a>, <a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSSequence.html">SPSString</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  WFs[ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(<span class="stringliteral">&quot;___orc_rt_macho_symbol_lookup_tag&quot;</span>)] =</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a6d161dc24753bbe3581c27a63c8be151">wrapAsyncWithSPS</a>&lt;LookupSymbolSPSSig&gt;(<span class="keyword">this</span>,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                              &amp;MachOPlatform::rt_lookupSymbol);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a9af5ee3a848ca02c351ee7ffca01c3f0">registerJITDispatchHandlers</a>(PlatformJD, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(WFs));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keywordtype">void</span> MachOPlatform::getInitializersBuildSequencePhase(</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    SendInitializerSequenceFn SendResult, <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    std::vector&lt;JITDylibSP&gt; DFSLinkOrder) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="namespacellvm_1_1orc.html#a8449b07b2154dd9abb200919105c9d7a">MachOJITDylibInitializerSequence</a> FullInitSeq;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PlatformMutex);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;InitJD : <a class="code" href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">reverse</a>(DFSLinkOrder)) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform: Appending inits for \&quot;&quot;</span> &lt;&lt; InitJD-&gt;getName()</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;\&quot; to sequence\n&quot;</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      });</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keyword">auto</span> ISItr = InitSeqs.find(InitJD.get());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">if</span> (ISItr != InitSeqs.end()) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        FullInitSeq.emplace_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(ISItr-&gt;second));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        InitSeqs.erase(ISItr);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  SendResult(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(FullInitSeq));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keywordtype">void</span> MachOPlatform::getInitializersLookupPhase(</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    SendInitializerSequenceFn SendResult, <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keyword">auto</span> DFSLinkOrder = JD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a881099b901c620f67bf12101d7951d53">getDFSLinkOrder</a>();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;JITDylib *, SymbolLookupSet&gt;</a> NewInitSymbols;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#ab9ce518e73ce35d17cd88e873776d51e">runSessionLocked</a>([&amp;]() {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;InitJD : DFSLinkOrder) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keyword">auto</span> RISItr = RegisteredInitSymbols.find(InitJD.get());</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (RISItr != RegisteredInitSymbols.end()) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        NewInitSymbols[InitJD.get()] = std::move(RISItr-&gt;second);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        RegisteredInitSymbols.erase(RISItr);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  });</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// If there are no further init symbols to look up then move on to the next</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// phase.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (NewInitSymbols.<a class="code" href="classllvm_1_1DenseMapBase.html#af90b5ae73bea555e222e9eb954b7923e">empty</a>()) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    getInitializersBuildSequencePhase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SendResult), JD,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(DFSLinkOrder));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Otherwise issue a lookup and re-run this phase when it completes.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1Platform.html#a5f5de33429dae751bbf618940ff67e01">lookupInitSymbolsAsync</a>(</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      [<span class="keyword">this</span>, SendResult = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SendResult), &amp;JD](<a class="code" href="classllvm_1_1Error.html">Error</a> Err) <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span> (Err)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          SendResult(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          getInitializersLookupPhase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SendResult), JD);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      },</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      ES, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(NewInitSymbols));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="keywordtype">void</span> MachOPlatform::rt_getInitializers(SendInitializerSequenceFn SendResult,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                       <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> JDName) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform::rt_getInitializers(\&quot;&quot;</span> &lt;&lt; JDName &lt;&lt; <span class="stringliteral">&quot;\&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  });</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> *JD = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4b12643704d05845fd7e0be447203a80">getJITDylibByName</a>(JDName);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (!JD) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  No such JITDylib \&quot;&quot;</span> &lt;&lt; JDName &lt;&lt; <span class="stringliteral">&quot;\&quot;. Sending error.\n&quot;</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    });</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    SendResult(make_error&lt;StringError&gt;(<span class="stringliteral">&quot;No JITDylib named &quot;</span> + JDName,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                       <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>()));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  getInitializersLookupPhase(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SendResult), *JD);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keywordtype">void</span> MachOPlatform::rt_getDeinitializers(SendDeinitializerSequenceFn SendResult,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                         <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a> Handle) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform::rt_getDeinitializers(\&quot;&quot;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;           &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  });</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> *JD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PlatformMutex);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = HeaderAddrToJITDylib.find(Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>());</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != HeaderAddrToJITDylib.end())</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      JD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (!JD) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  No JITDylib for handle &quot;</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    });</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    SendResult(make_error&lt;StringError&gt;(<span class="stringliteral">&quot;No JITDylib associated with handle &quot;</span> +</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                           <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                       <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>()));</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  SendResult(<a class="code" href="namespacellvm_1_1orc.html#a549c17ac22b00869efcf73a7d56214b0">MachOJITDylibDeinitializerSequence</a>());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="keywordtype">void</span> MachOPlatform::rt_lookupSymbol(SendSymbolAddressFn SendResult,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                    <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a> Handle,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">SymbolName</a>) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform::rt_lookupSymbol(\&quot;&quot;</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;           &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  });</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> *JD = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PlatformMutex);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = HeaderAddrToJITDylib.find(Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>());</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != HeaderAddrToJITDylib.end())</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      JD = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (!JD) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  No JITDylib for handle &quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    });</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    SendResult(make_error&lt;StringError&gt;(<span class="stringliteral">&quot;No JITDylib associated with handle &quot;</span> +</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                           <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, Handle.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()),</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                       <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>()));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// Use functor class to work around XL build compiler issue on AIX.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keyword">class </span>RtLookupNotifyComplete {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    RtLookupNotifyComplete(SendSymbolAddressFn &amp;&amp;SendResult)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        : SendResult(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(SendResult)) {}</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">void</span> operator()(<a class="code" href="classllvm_1_1Expected.html">Expected&lt;SymbolMap&gt;</a> Result) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">if</span> (Result) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>-&gt;size() == 1 &amp;&amp; <span class="stringliteral">&quot;Unexpected result map count&quot;</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        SendResult(<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>-&gt;begin()-&gt;second.getAddress()));</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        SendResult(<a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>.takeError());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    SendSymbolAddressFn SendResult;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  };</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// FIXME: Proper mangling.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">auto</span> MangledName = (<span class="stringliteral">&quot;_&quot;</span> + <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">SymbolName</a>).str();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a9260560ad3aaa612b92cff4bccd3c223">lookup</a>(</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="namespacellvm_1_1orc.html#ac17672ae6b70c781cc77713e88d698eba39f22930a01d67284b1bc6484b325c72">LookupKind::DLSym</a>, {{JD, JITDylibLookupFlags::MatchExportedSymbolsOnly}},</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="classllvm_1_1orc_1_1SymbolLookupSet.html">SymbolLookupSet</a>(ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(MangledName)), <a class="code" href="namespacellvm_1_1orc.html#adac25fca9fb14b1defe43d18a81c16e8ae7d31fc0602fb2ede144d18cdffd816b">SymbolState::Ready</a>,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      RtLookupNotifyComplete(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SendResult)), <a class="code" href="namespacellvm_1_1orc.html#ac8dd8c429957b970e617afb500775d99">NoDependenciesToRegister</a>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::bootstrapMachORuntime(<a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;PlatformJD) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  std::pair&lt;const char *, ExecutorAddress *&gt; Symbols[] = {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      {<span class="stringliteral">&quot;___orc_rt_macho_platform_bootstrap&quot;</span>, &amp;orc_rt_macho_platform_bootstrap},</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      {<span class="stringliteral">&quot;___orc_rt_macho_platform_shutdown&quot;</span>, &amp;orc_rt_macho_platform_shutdown},</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      {<span class="stringliteral">&quot;___orc_rt_macho_register_object_sections&quot;</span>,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;       &amp;orc_rt_macho_register_object_sections},</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      {<span class="stringliteral">&quot;___orc_rt_macho_create_pthread_key&quot;</span>, &amp;orc_rt_macho_create_pthread_key}};</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1SymbolLookupSet.html">SymbolLookupSet</a> RuntimeSymbols;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  std::vector&lt;std::pair&lt;SymbolStringPtr, ExecutorAddress *&gt;&gt; AddrsToRecord;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;KV : Symbols) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">intern</a>(KV.first);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    RuntimeSymbols.<a class="code" href="classllvm_1_1orc_1_1SymbolLookupSet.html#ab02dbb5efc921b986a406d9250a197a0">add</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    AddrsToRecord.push_back({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>), KV.second});</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">auto</span> RuntimeSymbolAddrs = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a9260560ad3aaa612b92cff4bccd3c223">lookup</a>(</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      {{&amp;PlatformJD, <a class="code" href="namespacellvm_1_1orc.html#a7cb1d8cb0ab2329f032d69d79498c81da77fe6095a7470a90a4ae2beafb42efa7">JITDylibLookupFlags::MatchAllSymbols</a>}}, RuntimeSymbols);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (!RuntimeSymbolAddrs)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> RuntimeSymbolAddrs.takeError();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;KV : AddrsToRecord) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = KV.first;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RuntimeSymbolAddrs-&gt;count(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) &amp;&amp; <span class="stringliteral">&quot;Missing runtime symbol?&quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    KV.second-&gt;setValue((*RuntimeSymbolAddrs)[<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>].getAddress());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err =</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a3094db59aa5db219536e7711b6aa1e72">callSPSWrapper</a>&lt;<span class="keywordtype">void</span>()&gt;(orc_rt_macho_platform_bootstrap.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()))</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// FIXME: Ordering is fuzzy here. We&#39;re probably best off saying</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// &quot;behavior is undefined if code that uses the runtime is added before</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="comment">// the platform constructor returns&quot;, then move all this to the constructor.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  RuntimeBootstrapped = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  std::vector&lt;MachOPerObjectSectionsToRegister&gt; DeferredPOSRs;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PlatformMutex);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    DeferredPOSRs = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(BootstrapPOSRs);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a> : DeferredPOSRs)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = registerPerObjectSections(<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::registerInitInfo(</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD, <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a> ObjCImageInfoAddr,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;jitlink::Section *&gt;</a> InitSections) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  std::unique_lock&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PlatformMutex);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html">MachOJITDylibInitializers</a> *InitSeq = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InitSeqs.find(&amp;JD);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == InitSeqs.end()) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// If there&#39;s no init sequence entry yet then we need to look up the</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">// header symbol to force creation of one.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>.<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html#aeece3237e03f54acb81102617c3000de">unlock</a>();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keyword">auto</span> SearchOrder =</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          JD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a82001e6ef07752d7eb0843a693f90bd0">withLinkOrderDo</a>([](<span class="keyword">const</span> <a class="code" href="namespacellvm_1_1orc.html#a23b61f83f663d3dbca5ae5f5bff1bcb6">JITDylibSearchOrder</a> &amp;SO) { <span class="keywordflow">return</span> SO; });</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a9260560ad3aaa612b92cff4bccd3c223">lookup</a>(SearchOrder, MachOHeaderStartSymbol).takeError())</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>.<a class="code" href="classllvm_1_1sys_1_1SmartMutex.html#ace47db9af0a6cf680465b39765f39a81">lock</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InitSeqs.find(&amp;JD);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != InitSeqs.end() &amp;&amp;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;             <span class="stringliteral">&quot;Entry missing after header symbol lookup?&quot;</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    InitSeq = &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  InitSeq-&gt;<a class="code" href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html#ac0e4101fb6c4c7417f95a0af314611c1">ObjCImageInfoAddress</a> = ObjCImageInfoAddr;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Sec : InitSections) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// FIXME: Avoid copy here.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1SectionRange.html">jitlink::SectionRange</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(*Sec);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    InitSeq-&gt;<a class="code" href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html#a804136939e1e9dac6327a8fa6fdf9416">InitSections</a>[Sec-&gt;getName()].push_back(</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        {<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getStart()), <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getEnd())});</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::registerPerObjectSections(</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html">MachOPerObjectSectionsToRegister</a> &amp;POSR) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span> (!orc_rt_macho_register_object_sections)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Attempting to register per-object &quot;</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                   <span class="stringliteral">&quot;sections, but runtime support has not &quot;</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                   <span class="stringliteral">&quot;been loaded yet&quot;</span>,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="classllvm_1_1Error.html">Error</a> ErrResult = <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a3094db59aa5db219536e7711b6aa1e72">callSPSWrapper</a>&lt;shared::SPSError(</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                     <a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSTuple.html">SPSMachOPerObjectSectionsToRegister</a>)&gt;(</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          orc_rt_macho_register_object_sections.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>(), ErrResult, POSR))</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">return</span> ErrResult;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<a class="code" href="classllvm_1_1Expected.html">Expected&lt;uint64_t&gt;</a> MachOPlatform::createPThreadKey() {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">if</span> (!orc_rt_macho_create_pthread_key)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="stringliteral">&quot;Attempting to create pthread key in target, but runtime support has &quot;</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="stringliteral">&quot;not been loaded yet&quot;</span>,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="classllvm_1_1Expected.html">Expected&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>(0);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = ES.<a class="code" href="classllvm_1_1orc_1_1ExecutionSession.html#a3094db59aa5db219536e7711b6aa1e72">callSPSWrapper</a>&lt;<a class="code" href="classllvm_1_1orc_1_1shared_1_1SPSExpected.html">SPSExpected&lt;uint64_t&gt;</a>(<span class="keywordtype">void</span>)&gt;(</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;          orc_rt_macho_create_pthread_key.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>(), Result))</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keywordtype">void</span> MachOPlatform::MachOPlatformPlugin::modifyPassConfig(</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR, <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;LG,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html">jitlink::PassConfiguration</a> &amp;Config) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="comment">// If the initializer symbol is the MachOHeader start symbol then just add</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// the macho header support passes.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a904a600190e9f849aea735600148d53d">getInitializerSymbol</a>() == MP.MachOHeaderStartSymbol) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    addMachOHeaderSupportPasses(MR, Config);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// The header materialization unit doesn&#39;t require any other support, so we</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// can bail out early.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// If the object contains initializers then add passes to record them.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a904a600190e9f849aea735600148d53d">getInitializerSymbol</a>())</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    addInitializerSupportPasses(MR, Config);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// Add passes for eh-frame and TLV support.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  addEHAndTLVSupportPasses(MR, Config);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<a class="code" href="classllvm_1_1DenseMap.html">ObjectLinkingLayer::Plugin::SyntheticSymbolDependenciesMap</a></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;MachOPlatform::MachOPlatformPlugin::getSyntheticSymbolDependencies(</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PluginMutex);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InitSymbolDeps.find(&amp;MR);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != InitSymbolDeps.end()) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    SyntheticSymbolDependenciesMap <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>[MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a904a600190e9f849aea735600148d53d">getInitializerSymbol</a>()] = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    InitSymbolDeps.erase(&amp;MR);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">Result</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> SyntheticSymbolDependenciesMap();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keywordtype">void</span> MachOPlatform::MachOPlatformPlugin::addInitializerSupportPasses(</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR, <a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html">jitlink::PassConfiguration</a> &amp;Config) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">  /// Preserve init sections.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"></span>  Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#ad40c7648b8ad38b6d942e7194a4faa34">PrePrunePasses</a>.push_back([<span class="keyword">this</span>, &amp;MR](<a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = preserveInitSections(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, MR))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> processObjCImageInfo(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, MR);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  });</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#a617bac95c4003dd176fa5cc119d2a919">PostFixupPasses</a>.push_back(</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      [<span class="keyword">this</span>, &amp;JD = MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">getTargetJITDylib</a>()](<a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">return</span> registerInitSections(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, JD);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      });</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="keywordtype">void</span> MachOPlatform::MachOPlatformPlugin::addMachOHeaderSupportPasses(</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR, <a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html">jitlink::PassConfiguration</a> &amp;Config) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#a084adb14a6ed485ceafa7aeb5ddcdba9">PostAllocationPasses</a>.push_back([<span class="keyword">this</span>, &amp;JD = MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">getTargetJITDylib</a>()](</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                            <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) -&gt; <a class="code" href="classllvm_1_1Error.html">Error</a> {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    auto I = llvm::find_if(G.defined_symbols(), [this](jitlink::Symbol *Sym) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      return Sym-&gt;getName() == *MP.MachOHeaderStartSymbol;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    });</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.defined_symbols().end() &amp;&amp;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;           <span class="stringliteral">&quot;Missing MachO header start symbol&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(MP.PlatformMutex);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="namespacellvm.html#a2b9aa96a24878fd7e3262812346c6c26">JITTargetAddress</a> HeaderAddr = (*I)-&gt;getAddress();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      MP.HeaderAddrToJITDylib[HeaderAddr] = &amp;JD;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MP.InitSeqs.count(&amp;JD) &amp;&amp; <span class="stringliteral">&quot;InitSeq entry for JD already exists&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      MP.InitSeqs.insert(</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          std::make_pair(&amp;JD, <a class="code" href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html">MachOJITDylibInitializers</a>(</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                  JD.<a class="code" href="classllvm_1_1orc_1_1JITDylib.html#a33652754a16f3fc50a4de1816b949204">getName</a>(), <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(HeaderAddr))));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  });</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="keywordtype">void</span> MachOPlatform::MachOPlatformPlugin::addEHAndTLVSupportPasses(</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR, <a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html">jitlink::PassConfiguration</a> &amp;Config) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">// Insert TLV lowering at the start of the PostPrunePasses, since we want</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="comment">// it to run before GOT/PLT lowering.</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#ac2b6c33f0953b534738fb8d0a02e526d">PostPrunePasses</a>.insert(</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#ac2b6c33f0953b534738fb8d0a02e526d">PostPrunePasses</a>.begin(),</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      [<span class="keyword">this</span>, &amp;JD = MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">getTargetJITDylib</a>()](<a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        return fixTLVSectionsAndEdges(G, JD);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      });</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Add a pass to register the final addresses of the eh-frame and TLV sections</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// with the runtime.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  Config.<a class="code" href="structllvm_1_1jitlink_1_1PassConfiguration.html#a617bac95c4003dd176fa5cc119d2a919">PostFixupPasses</a>.push_back([<span class="keyword">this</span>](<a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) -&gt; <a class="code" href="classllvm_1_1Error.html">Error</a> {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html">MachOPerObjectSectionsToRegister</a> POSR;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *EHFrameSection = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(EHFrameSectionName)) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      jitlink::SectionRange R(*EHFrameSection);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      if (!R.empty())</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        POSR.EHFrameSection = {ExecutorAddress(R.getStart()),</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                               ExecutorAddress(R.getEnd())};</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// Get a pointer to the thread data section if there is one. It will be used</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// below.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1Section.html">jitlink::Section</a> *ThreadDataSection =</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(ThreadDataSectionName);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// Handle thread BSS section if there is one.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ThreadBSSSection = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(ThreadBSSSectionName)) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="comment">// If there&#39;s already a thread data section in this graph then merge the</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="comment">// thread BSS section content into it, otherwise just treat the thread</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="comment">// BSS section as the thread data section.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      if (ThreadDataSection)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        G.mergeSections(*ThreadDataSection, *ThreadBSSSection);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      else</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        ThreadDataSection = ThreadBSSSection;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// Having merged thread BSS (if present) and thread data (if present),</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// record the resulting section range.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (ThreadDataSection) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <a class="code" href="classllvm_1_1jitlink_1_1SectionRange.html">jitlink::SectionRange</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(*ThreadDataSection);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.empty())</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        POSR.<a class="code" href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html#acffd71890b17dcfbaa8fe65e1f1804df">ThreadDataSection</a> = {<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getStart()),</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                  <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getEnd())};</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (POSR.<a class="code" href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html#ac1fc5f2dc3c84de98773306097e8b2e6">EHFrameSection</a>.<a class="code" href="structllvm_1_1orc_1_1ExecutorAddressRange.html#a354647b66bac3d38e66853237c20194a">StartAddress</a> ||</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        POSR.<a class="code" href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html#acffd71890b17dcfbaa8fe65e1f1804df">ThreadDataSection</a>.<a class="code" href="structllvm_1_1orc_1_1ExecutorAddressRange.html#a354647b66bac3d38e66853237c20194a">StartAddress</a>) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="comment">// If we&#39;re still bootstrapping the runtime then just record this</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="comment">// frame for now.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">if</span> (!MP.RuntimeBootstrapped) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(MP.PlatformMutex);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        MP.BootstrapPOSRs.push_back(POSR);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="comment">// Otherwise register it immediately.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> Err = MP.registerPerObjectSections(POSR))</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">return</span> Err;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  });</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::MachOPlatformPlugin::preserveInitSections(</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  JITLinkSymbolSet InitSectionSymbols;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;InitSectionName : InitSectionNames) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// Skip non-init sections.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keyword">auto</span> *InitSection = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(InitSectionName);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">if</span> (!InitSection)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// Make a pass over live symbols in the section: those blocks are already</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// preserved.</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;jitlink::Block *&gt;</a> AlreadyLiveBlocks;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Sym : InitSection-&gt;symbols()) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = Sym-&gt;getBlock();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">if</span> (Sym-&gt;isLive() &amp;&amp; Sym-&gt;getOffset() == 0 &amp;&amp;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          Sym-&gt;getSize() == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>.getSize() &amp;&amp; !AlreadyLiveBlocks.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        InitSectionSymbols.insert(Sym);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        AlreadyLiveBlocks.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">insert</a>(&amp;<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// Add anonymous symbols to preserve any not-already-preserved blocks.</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : InitSection-&gt;blocks())</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">if</span> (!AlreadyLiveBlocks.<a class="code" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        InitSectionSymbols.insert(</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.addAnonymousSymbol(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, 0, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getSize(), <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span> (!InitSectionSymbols.empty()) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PluginMutex);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    InitSymbolDeps[&amp;MR] = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(InitSectionSymbols);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">return</span> Error::success();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::MachOPlatformPlugin::processObjCImageInfo(</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html">MaterializationResponsibility</a> &amp;MR) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// If there&#39;s an ObjC imagine info then either</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">//   (1) It&#39;s the first __objc_imageinfo we&#39;ve seen in this JITDylib. In</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">//       this case we name and record it.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// OR</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">//   (2) We already have a recorded __objc_imageinfo for this JITDylib,</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">//       in which case we just verify it.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">auto</span> *ObjCImageInfo = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(ObjCImageInfoSectionName);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (!ObjCImageInfo)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">return</span> Error::success();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keyword">auto</span> ObjCImageInfoBlocks = ObjCImageInfo-&gt;blocks();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="comment">// Check that the section is not empty if present.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a824f3e0d9eb261d9345fcc96b36852f5">llvm::empty</a>(ObjCImageInfoBlocks))</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Empty &quot;</span> + ObjCImageInfoSectionName +</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                       <span class="stringliteral">&quot; section in &quot;</span> + <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName(),</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Check that there&#39;s only one block in the section.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">if</span> (std::next(ObjCImageInfoBlocks.begin()) != ObjCImageInfoBlocks.end())</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;Multiple blocks in &quot;</span> +</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                       ObjCImageInfoSectionName +</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                       <span class="stringliteral">&quot; section in &quot;</span> + <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName(),</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                   <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// Check that the __objc_imageinfo section is unreferenced.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// FIXME: We could optimize this check if Symbols had a ref-count.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Sec : <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.sections()) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (&amp;Sec != ObjCImageInfo)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : Sec.blocks())</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;edges())</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getTarget().isDefined() &amp;&amp;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;              &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getTarget().getBlock().getSection() == ObjCImageInfo)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="keywordflow">return</span> make_error&lt;StringError&gt;(ObjCImageInfoSectionName +</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                               <span class="stringliteral">&quot; is referenced within file &quot;</span> +</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                               <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName(),</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                           <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keyword">auto</span> &amp;ObjCImageInfoBlock = **ObjCImageInfoBlocks.begin();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keyword">auto</span> *ObjCImageInfoData = ObjCImageInfoBlock.getContent().data();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a> = <a class="code" href="namespacellvm_1_1support_1_1endian.html#a1fda585fbf18128d11d28fa4c5b0ad7d">support::endian::read32</a>(ObjCImageInfoData, <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getEndianness());</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keyword">auto</span> Flags =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <a class="code" href="namespacellvm_1_1support_1_1endian.html#a1fda585fbf18128d11d28fa4c5b0ad7d">support::endian::read32</a>(ObjCImageInfoData + 4, <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getEndianness());</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// Lock the mutex while we verify / update the ObjCImageInfos map.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(PluginMutex);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keyword">auto</span> ObjCImageInfoItr = ObjCImageInfos.find(&amp;MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">getTargetJITDylib</a>());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (ObjCImageInfoItr != ObjCImageInfos.end()) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// We&#39;ve already registered an __objc_imageinfo section. Verify the</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// content of this new section matches, then delete it.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (ObjCImageInfoItr-&gt;second.first != <a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">return</span> make_error&lt;StringError&gt;(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;          <span class="stringliteral">&quot;ObjC version in &quot;</span> + <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName() +</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;              <span class="stringliteral">&quot; does not match first registered version&quot;</span>,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;          <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (ObjCImageInfoItr-&gt;second.second != Flags)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;ObjC flags in &quot;</span> + <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName() +</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                         <span class="stringliteral">&quot; do not match first registered flags&quot;</span>,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                     <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">// __objc_imageinfo is valid. Delete the block.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : ObjCImageInfo-&gt;symbols())</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.removeDefinedSymbol(*<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.removeBlock(ObjCImageInfoBlock);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// We haven&#39;t registered an __objc_imageinfo section yet. Register and</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// move on. The section should already be marked no-dead-strip.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    ObjCImageInfos[&amp;MR.<a class="code" href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">getTargetJITDylib</a>()] = std::make_pair(<a class="code" href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">Version</a>, Flags);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">return</span> Error::success();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::MachOPlatformPlugin::registerInitSections(</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html">ExecutorAddress</a> ObjCImageInfoAddr;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;jitlink::Section *&gt;</a> InitSections;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ObjCImageInfoSec = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(ObjCImageInfoSectionName)) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <a class="code" href="classllvm_1_1jitlink_1_1SectionRange.html">jitlink::SectionRange</a>(*ObjCImageInfoSec).<a class="code" href="classllvm_1_1jitlink_1_1SectionRange.html#a0a6dbfa40b04df417228c7ae3a17ccee">getStart</a>())</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      ObjCImageInfoAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#adf4efad523505cf95b7adc9fcd30a8e9">setValue</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> InitSectionName : InitSectionNames)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Sec = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(InitSectionName))</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      InitSections.push_back(Sec);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">// Dump the scraped inits.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MachOPlatform: Scraped &quot;</span> &lt;&lt; <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getName() &lt;&lt; <span class="stringliteral">&quot; init sections:\n&quot;</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (ObjCImageInfoAddr)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; ObjCImageInfoSectionName &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, ObjCImageInfoAddr.<a class="code" href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">getValue</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Sec : InitSections) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="classllvm_1_1jitlink_1_1SectionRange.html">jitlink::SectionRange</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>(*Sec);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; Sec-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;             &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;[ {0:x} -- {1:x} ]&quot;</span>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getStart(), <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.getEnd()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  });</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">return</span> MP.registerInitInfo(JD, ObjCImageInfoAddr, InitSections);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> MachOPlatform::MachOPlatformPlugin::fixTLVSectionsAndEdges(</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classllvm_1_1jitlink_1_1LinkGraph.html">jitlink::LinkGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="classllvm_1_1orc_1_1JITDylib.html">JITDylib</a> &amp;JD) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">// Rename external references to __tlv_bootstrap to ___orc_rt_tlv_get_addr.</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Sym : <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.external_symbols())</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (Sym-&gt;getName() == <span class="stringliteral">&quot;__tlv_bootstrap&quot;</span>) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      Sym-&gt;setName(<span class="stringliteral">&quot;___orc_rt_macho_tlv_get_addr&quot;</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// Store key in __thread_vars struct fields.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *ThreadDataSec = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.findSectionByName(ThreadVarsSectionName)) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;uint64_t&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">Lock</a>(MP.PlatformMutex);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MP.JITDylibToPThreadKey.find(&amp;JD);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != MP.JITDylibToPThreadKey.end())</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> KeyOrErr = MP.createPThreadKey())</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a> = *KeyOrErr;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> KeyOrErr.takeError();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    uint64_t PlatformKeyBits =</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="namespacellvm_1_1support_1_1endian.html#a108ca68c609b3e8c00918a68d26905fa">support::endian::byte_swap</a>(*<a class="code" href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">Key</a>, <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getEndianness());</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : ThreadDataSec-&gt;blocks()) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getSize() != 3 * <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getPointerSize())</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">return</span> make_error&lt;StringError&gt;(<span class="stringliteral">&quot;__thread_vars block at &quot;</span> +</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                                           <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(<span class="stringliteral">&quot;{0:x}&quot;</span>, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getAddress()) +</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                           <span class="stringliteral">&quot; has unexpected size&quot;</span>,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                                       <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keyword">auto</span> NewBlockContent = <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.allocateBuffer(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getSize());</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getContent(), NewBlockContent.data());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a>(NewBlockContent.data() + <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getPointerSize(), &amp;PlatformKeyBits,</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;             <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.getPointerSize());</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;setContent(NewBlockContent);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// Transform any TLV edges into GOT edges.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.blocks())</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> : <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;edges())</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.getKind() ==</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          <a class="code" href="namespacellvm_1_1jitlink_1_1x86__64.html#aebb5822f6bda55afbca20f322d73a2a1a9f7511b60238722cdbb4ad334d01357c">jitlink::x86_64::RequestTLVPAndTransformToPCRel32TLVPLoadRelaxable</a>)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.setKind(</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <a class="code" href="namespacellvm_1_1jitlink_1_1x86__64.html#aebb5822f6bda55afbca20f322d73a2a1aa6cfcfc8b35fd783c173adbaf7cb0dd6">jitlink::x86_64::RequestGOTAndTransformToPCRel32GOTLoadRelaxable</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">return</span> Error::success();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;} <span class="comment">// End namespace orc.</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;} <span class="comment">// End namespace llvm.</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1orc_1_1ObjectLinkingLayer_html_a964526f0df9bb7f08d8965630e63280f"><div class="ttname"><a href="classllvm_1_1orc_1_1ObjectLinkingLayer.html#a964526f0df9bb7f08d8965630e63280f">llvm::orc::ObjectLinkingLayer::emit</a></div><div class="ttdeci">void emit(std::unique_ptr&lt; MaterializationResponsibility &gt; R, std::unique_ptr&lt; MemoryBuffer &gt; O) override</div><div class="ttdoc">Emit an object file.</div><div class="ttdef"><b>Definition:</b> <a href="ObjectLinkingLayer_8cpp_source.html#l00639">ObjectLinkingLayer.cpp:639</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_ab3516e13e87d0b4a374fad5b5ff22b05"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#ab3516e13e87d0b4a374fad5b5ff22b05">llvm::orc::MachOPlatform::notifyRemoving</a></div><div class="ttdeci">Error notifyRemoving(ResourceTracker &amp;RT) override</div><div class="ttdoc">This method will be called under the ExecutionSession lock when a ResourceTracker is removed.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00219">MachOPlatform.cpp:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationResponsibility_html"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationResponsibility.html">llvm::orc::MaterializationResponsibility</a></div><div class="ttdoc">Tracks responsibility for materialization, and mediates interactions between MaterializationUnits and...</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00506">Core.h:506</a></div></div>
<div class="ttc" id="aProvenanceAnalysisEvaluator_8cpp_html_a2ee79648e8bce3ddbb26358ff10e3e82"><div class="ttname"><a href="ProvenanceAnalysisEvaluator_8cpp.html#a2ee79648e8bce3ddbb26358ff10e3e82">getName</a></div><div class="ttdeci">static StringRef getName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00042">ProvenanceAnalysisEvaluator.cpp:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1Memory_html_a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417"><div class="ttname"><a href="classllvm_1_1sys_1_1Memory.html#a548f317b89dc0bba738b89e5ce791395a02cae455b05abf1bfb1de69095e66417">llvm::sys::Memory::MF_READ</a></div><div class="ttdeci">@ MF_READ</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00055">Memory.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a82001e6ef07752d7eb0843a693f90bd0"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a82001e6ef07752d7eb0843a693f90bd0">llvm::orc::JITDylib::withLinkOrderDo</a></div><div class="ttdeci">auto withLinkOrderDo(Func &amp;&amp;F) -&gt; decltype(F(std::declval&lt; const JITDylibSearchOrder &amp; &gt;()))</div><div class="ttdoc">Do something with the link order (run under the session lock).</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01700">Core.h:1700</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">---------------------— PointerInfo ------------------------------------—</div><div class="ttdef"><b>Definition:</b> <a href="AllocatorList_8h_source.html#l00023">AllocatorList.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html">llvm::orc::JITDylib</a></div><div class="ttdoc">A symbol table that supports asynchoronous symbol queries.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00908">Core.h:909</a></div></div>
<div class="ttc" id="anamespacellvm_1_1msgpack_html_a0eb2534d134592e4bf9f9b47af1ee214"><div class="ttname"><a href="namespacellvm_1_1msgpack.html#a0eb2534d134592e4bf9f9b47af1ee214">llvm::msgpack::Endianness</a></div><div class="ttdeci">constexpr support::endianness Endianness</div><div class="ttdoc">The endianness of all multi-byte encoded values in MessagePack.</div><div class="ttdef"><b>Definition:</b> <a href="MsgPack_8h_source.html#l00024">MsgPack.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28ab89adee997fb2a645a2d26e1f1bdaadf">llvm::AArch64CC::AL</a></div><div class="ttdeci">@ AL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00269">AArch64BaseInfo.h:269</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1SPSSequence_html"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1SPSSequence.html">llvm::orc::shared::SPSSequence</a></div><div class="ttdoc">SPS tag type for sequences.</div><div class="ttdef"><b>Definition:</b> <a href="SimplePackedSerialization_8h_source.html#l00191">SimplePackedSerialization.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_1_1x86__64_html_aebb5822f6bda55afbca20f322d73a2a1a9f7511b60238722cdbb4ad334d01357c"><div class="ttname"><a href="namespacellvm_1_1jitlink_1_1x86__64.html#aebb5822f6bda55afbca20f322d73a2a1a9f7511b60238722cdbb4ad334d01357c">llvm::jitlink::x86_64::RequestTLVPAndTransformToPCRel32TLVPLoadRelaxable</a></div><div class="ttdeci">@ RequestTLVPAndTransformToPCRel32TLVPLoadRelaxable</div><div class="ttdoc">A TLVP entry getter/constructor, transformed to Delta32ToTLVPLoadRelaxable.</div><div class="ttdef"><b>Definition:</b> <a href="x86__64_8h_source.html#l00243">x86_64.h:242</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a42d75dff6103d71fe474dfc632f109b1"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a42d75dff6103d71fe474dfc632f109b1">llvm::MachO::mach_header_64::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00526">MachO.h:526</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddress_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddress.html">llvm::orc::ExecutorAddress</a></div><div class="ttdoc">Represents an address in the executor process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00037">ExecutorAddress.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_1_1support_1_1endian_html_a1fda585fbf18128d11d28fa4c5b0ad7d"><div class="ttname"><a href="namespacellvm_1_1support_1_1endian.html#a1fda585fbf18128d11d28fa4c5b0ad7d">llvm::support::endian::read32</a></div><div class="ttdeci">uint32_t read32(const void *P, endianness E)</div><div class="ttdef"><b>Definition:</b> <a href="Endian_8h_source.html#l00363">Endian.h:363</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a4b12643704d05845fd7e0be447203a80"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a4b12643704d05845fd7e0be447203a80">llvm::orc::ExecutionSession::getJITDylibByName</a></div><div class="ttdeci">JITDylib * getJITDylibByName(StringRef Name)</div><div class="ttdoc">Return a pointer to the &quot;name&quot; JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01847">Core.cpp:1847</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aBinaryByteStream_8h_html"><div class="ttname"><a href="BinaryByteStream_8h.html">BinaryByteStream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOJITDylibInitializers_html"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html">llvm::orc::MachOJITDylibInitializers</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00035">MachOPlatform.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01168">SmallVector.h:1169</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SymbolLookupSet_html"><div class="ttname"><a href="classllvm_1_1orc_1_1SymbolLookupSet.html">llvm::orc::SymbolLookupSet</a></div><div class="ttdoc">A set of symbols to look up, each associated with a SymbolLookupFlags value.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00175">Core.h:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SymbolStringPtr_html"><div class="ttname"><a href="classllvm_1_1orc_1_1SymbolStringPtr.html">llvm::orc::SymbolStringPtr</a></div><div class="ttdoc">Pointer to a pooled string representing a symbol name.</div><div class="ttdef"><b>Definition:</b> <a href="SymbolStringPool_8h_source.html#l00050">SymbolStringPool.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html_a4dfd0813c3d0e0a30439b5a3e9196b59"><div class="ttname"><a href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">llvm::Error::success</a></div><div class="ttdeci">static ErrorSuccess success()</div><div class="ttdoc">Create a success value.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2Error_8h_source.html#l00332">Error.h:332</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1StaticLibraryDefinitionGenerator_html_a9334e07c0fe460cc929152dd8ee4bf35"><div class="ttname"><a href="classllvm_1_1orc_1_1StaticLibraryDefinitionGenerator.html#a9334e07c0fe460cc929152dd8ee4bf35">llvm::orc::StaticLibraryDefinitionGenerator::Load</a></div><div class="ttdeci">static Expected&lt; std::unique_ptr&lt; StaticLibraryDefinitionGenerator &gt; &gt; Load(ObjectLayer &amp;L, const char *FileName)</div><div class="ttdoc">Try to create a StaticLibraryDefinitionGenerator from the given path.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionUtils_8cpp_source.html#l00272">ExecutionUtils.cpp:272</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00045">Triple.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1Block_html"><div class="ttname"><a href="classllvm_1_1jitlink_1_1Block.html">llvm::jitlink::Block</a></div><div class="ttdoc">An Addressable with content and edges.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00150">JITLink.h:150</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_1_1shared_html"><div class="ttname"><a href="namespacellvm_1_1orc_1_1shared.html">llvm::orc::shared</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMSPSSerializers_8h_source.html#l00021">LLVMSPSSerializers.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a13d8ce5e71051718a537277c6a594062">llvm::Triple::x86_64</a></div><div class="ttdeci">@ x86_64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00084">Triple.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1SectionRange_html_a0a6dbfa40b04df417228c7ae3a17ccee"><div class="ttname"><a href="classllvm_1_1jitlink_1_1SectionRange.html#a0a6dbfa40b04df417228c7ae3a17ccee">llvm::jitlink::SectionRange::getStart</a></div><div class="ttdeci">JITTargetAddress getStart() const</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00771">JITLink.h:771</a></div></div>
<div class="ttc" id="anamespacellvm_html_a469101ea87b8b432a1b4f7935c97f35c"><div class="ttname"><a href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C, std::enable_if_t&lt; has_rbegin&lt; ContainerTy &gt;::value &gt; *=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00329">STLExtras.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ResourceTracker_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ResourceTracker.html">llvm::orc::ResourceTracker</a></div><div class="ttdoc">API to remove / transfer ownership of JIT resources.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00053">Core.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a549c17ac22b00869efcf73a7d56214b0"><div class="ttname"><a href="namespacellvm_1_1orc.html#a549c17ac22b00869efcf73a7d56214b0">llvm::orc::MachOJITDylibDeinitializerSequence</a></div><div class="ttdeci">std::vector&lt; MachOJITDylibDeinitializers &gt; MachOJITDylibDeinitializerSequence</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00054">MachOPlatform.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_abb650e853db0ddbb60411b885c499737"><div class="ttname"><a href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a></div><div class="ttdeci">OutputIt copy(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01585">STLExtras.h:1585</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00238">Optional.h:238</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a250e66aa31a03567cc345ca1bc463b8c"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a250e66aa31a03567cc345ca1bc463b8c">Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00081">ELFObjHandler.cpp:81</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a9630853006254a012a95059cf0d29842"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a9630853006254a012a95059cf0d29842">llvm::MachO::mach_header_64::ncmds</a></div><div class="ttdeci">uint32_t ncmds</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00524">MachO.h:524</a></div></div>
<div class="ttc" id="aclassllvm_1_1Expected_html"><div class="ttname"><a href="classllvm_1_1Expected.html">llvm::Expected</a></div><div class="ttdoc">Tagged union holding either a T or a Error.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2Error_8h_source.html#l00472">Error.h:472</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a8449b07b2154dd9abb200919105c9d7a"><div class="ttname"><a href="namespacellvm_1_1orc.html#a8449b07b2154dd9abb200919105c9d7a">llvm::orc::MachOJITDylibInitializerSequence</a></div><div class="ttdeci">std::vector&lt; MachOJITDylibInitializers &gt; MachOJITDylibInitializerSequence</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00052">MachOPlatform.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1Platform_html_a5f5de33429dae751bbf618940ff67e01"><div class="ttname"><a href="classllvm_1_1orc_1_1Platform.html#a5f5de33429dae751bbf618940ff67e01">llvm::orc::Platform::lookupInitSymbolsAsync</a></div><div class="ttdeci">static void lookupInitSymbolsAsync(unique_function&lt; void(Error)&gt; OnComplete, ExecutionSession &amp;ES, const DenseMap&lt; JITDylib *, SymbolLookupSet &gt; &amp;InitSyms)</div><div class="ttdoc">Performs an async lookup for the the given symbols in each of the given JITDylibs,...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01753">Core.cpp:1753</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1SPSTuple_html"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1SPSTuple.html">llvm::orc::shared::SPSTuple</a></div><div class="ttdoc">SPS tag type for tuples.</div><div class="ttdef"><b>Definition:</b> <a href="SimplePackedSerialization_8h_source.html#l00181">SimplePackedSerialization.h:181</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a79eed48913651aeedda2eed25201ea84"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a79eed48913651aeedda2eed25201ea84">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl&lt; ValueT, DenseMap&lt; ValueT, detail::DenseSetEmpty, DenseMapInfo&lt; ValueT &gt;, detail::DenseSetPair&lt; ValueT &gt; &gt;, DenseMapInfo&lt; ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationUnit_html"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationUnit.html">llvm::orc::MaterializationUnit</a></div><div class="ttdoc">A MaterializationUnit represents a set of symbol definitions that can be materialized as a group,...</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00650">Core.h:650</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47a633855cb5719de40d81669897cc571c8"><div class="ttname"><a href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a633855cb5719de40d81669897cc571c8">llvm::MachO::CPU_TYPE_X86_64</a></div><div class="ttdeci">@ CPU_TYPE_X86_64</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01422">MachO.h:1422</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00122">Debug.h:122</a></div></div>
<div class="ttc" id="aExecutionUtils_8h_html"><div class="ttname"><a href="ExecutionUtils_8h.html">ExecutionUtils.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00180">RISCVBaseInfo.h:180</a></div></div>
<div class="ttc" id="aDebugUtils_8h_html"><div class="ttname"><a href="DebugUtils_8h.html">DebugUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationUnit_html_a1c2e2986d77d9e3cc3d1c64e6e8f35ad"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationUnit.html#a1c2e2986d77d9e3cc3d1c64e6e8f35ad">llvm::orc::MaterializationUnit::getName</a></div><div class="ttdeci">virtual StringRef getName() const =0</div><div class="ttdoc">Return the name of this materialization unit.</div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_html_a81d83c532963be402c69626f5ae0d445"><div class="ttname"><a href="namespacellvm.html#a81d83c532963be402c69626f5ae0d445">llvm::Lock</a></div><div class="ttdeci">static sys::Mutex Lock</div><div class="ttdef"><b>Definition:</b> <a href="NVPTXUtilities_8cpp_source.html#l00039">NVPTXUtilities.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_af5c11b6b1787e31b98dafd92cd158eec"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#af5c11b6b1787e31b98dafd92cd158eec">llvm::orc::MachOPlatform::Create</a></div><div class="ttdeci">static Expected&lt; std::unique_ptr&lt; MachOPlatform &gt; &gt; Create(ExecutionSession &amp;ES, ObjectLinkingLayer &amp;ObjLinkingLayer, JITDylib &amp;PlatformJD, const char *OrcRuntimePath, Optional&lt; SymbolAliasMap &gt; RuntimeAliases=None)</div><div class="ttdoc">Try to create a MachOPlatform instance, adding the ORC runtime to the given JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00152">MachOPlatform.cpp:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ResourceTracker_html_a7ef53b6a7206a00ac1acb2f0831c2734"><div class="ttname"><a href="classllvm_1_1orc_1_1ResourceTracker.html#a7ef53b6a7206a00ac1acb2f0831c2734">llvm::orc::ResourceTracker::getJITDylib</a></div><div class="ttdeci">JITDylib &amp; getJITDylib() const</div><div class="ttdoc">Return the JITDylib targeted by this tracker.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00068">Core.h:68</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07eb6e84b522073e52d92dccf5015c01"><div class="ttname"><a href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">llvm::formatv</a></div><div class="ttdeci">auto formatv(const char *Fmt, Ts &amp;&amp;... Vals) -&gt; formatv_object&lt; decltype(std::make_tuple(detail::build_format_adapter(std::forward&lt; Ts &gt;(Vals))...))&gt;</div><div class="ttdef"><b>Definition:</b> <a href="FormatVariadic_8h_source.html#l00250">FormatVariadic.h:250</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a9af5ee3a848ca02c351ee7ffca01c3f0"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a9af5ee3a848ca02c351ee7ffca01c3f0">llvm::orc::ExecutionSession::registerJITDispatchHandlers</a></div><div class="ttdeci">Error registerJITDispatchHandlers(JITDylib &amp;JD, JITDispatchHandlerAssociationMap WFs)</div><div class="ttdoc">For each tag symbol name, associate the corresponding AsyncHandlerWrapperFunction with the address of...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l02057">Core.cpp:2057</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_afa832afa22d43b07518adfe5bae7c816"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#afa832afa22d43b07518adfe5bae7c816">llvm::orc::MachOPlatform::requiredCXXAliases</a></div><div class="ttdeci">static ArrayRef&lt; std::pair&lt; const char *, const char * &gt; &gt; requiredCXXAliases()</div><div class="ttdoc">Returns the array of required CXX aliases.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00241">MachOPlatform.cpp:241</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1support_html_ae0a227ae1b2ada1da82b40479251862ca30d1099d0325778e7b60550d84c621f0"><div class="ttname"><a href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862ca30d1099d0325778e7b60550d84c621f0">llvm::support::little</a></div><div class="ttdeci">@ little</div><div class="ttdef"><b>Definition:</b> <a href="Endian_8h_source.html#l00027">Endian.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a3094db59aa5db219536e7711b6aa1e72"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a3094db59aa5db219536e7711b6aa1e72">llvm::orc::ExecutionSession::callSPSWrapper</a></div><div class="ttdeci">Error callSPSWrapper(JITTargetAddress WrapperFnAddr, WrapperCallArgTs &amp;&amp;...WrapperCallArgs)</div><div class="ttdoc">Run a wrapper function using SPS to serialize the arguments and deserialize the results.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01509">Core.h:1509</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html"><div class="ttname"><a href="namespacellvm_1_1orc.html">llvm::orc</a></div><div class="ttdef"><b>Definition:</b> <a href="CompileOnDemandLayer_8h_source.html#l00057">CompileOnDemandLayer.h:57</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ac8dd8c429957b970e617afb500775d99"><div class="ttname"><a href="namespacellvm_1_1orc.html#ac8dd8c429957b970e617afb500775d99">llvm::orc::NoDependenciesToRegister</a></div><div class="ttdeci">RegisterDependenciesFunction NoDependenciesToRegister</div><div class="ttdoc">This can be used as the value for a RegisterDependenciesFunction if there are no dependants to regist...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l00035">Core.cpp:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1PALMD_html_af892c75285b0f64d58ca76cb73059adf"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1PALMD.html#af892c75285b0f64d58ca76cb73059adf">llvm::AMDGPU::PALMD::Key</a></div><div class="ttdeci">Key</div><div class="ttdoc">PAL metadata keys.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00481">AMDGPUMetadata.h:481</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a7d0223b39a4cf6354c08b3d7fcc35630">llvm::AArch64CC::HS</a></div><div class="ttdeci">@ HS</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00257">AArch64BaseInfo.h:257</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a30a7b9617a54818e8d2f22b331a55ca9"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a30a7b9617a54818e8d2f22b331a55ca9">llvm::MachO::mach_header_64::reserved</a></div><div class="ttdeci">uint32_t reserved</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00527">MachO.h:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a4a6187a7b7e11faffbcb0f788bd2543c"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a4a6187a7b7e11faffbcb0f788bd2543c">llvm::orc::ExecutionSession::intern</a></div><div class="ttdeci">SymbolStringPtr intern(StringRef SymName)</div><div class="ttdoc">Add a symbol name to the SymbolStringPool and return a pointer to it.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01314">Core.h:1314</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_ae89dfebe97fc65907c1b9194aafe1ade"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#ae89dfebe97fc65907c1b9194aafe1ade">llvm::orc::JITDylib::addGenerator</a></div><div class="ttdeci">GeneratorT &amp; addGenerator(std::unique_ptr&lt; GeneratorT &gt; DefGenerator)</div><div class="ttdoc">Adds a definition generator to this JITDylib and returns a referenece to it.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01692">Core.h:1692</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_ab9ce518e73ce35d17cd88e873776d51e"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#ab9ce518e73ce35d17cd88e873776d51e">llvm::orc::ExecutionSession::runSessionLocked</a></div><div class="ttdeci">decltype(auto) runSessionLocked(Func &amp;&amp;F)</div><div class="ttdoc">Run the given lambda with the session mutex locked.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01324">Core.h:1324</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorAsOutParameter_html"><div class="ttname"><a href="classllvm_1_1ErrorAsOutParameter.html">llvm::ErrorAsOutParameter</a></div><div class="ttdoc">Helper for Errors used as out-parameters.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2Error_8h_source.html#l01093">Error.h:1093</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ac17672ae6b70c781cc77713e88d698eba39f22930a01d67284b1bc6484b325c72"><div class="ttname"><a href="namespacellvm_1_1orc.html#ac17672ae6b70c781cc77713e88d698eba39f22930a01d67284b1bc6484b325c72">llvm::orc::LookupKind::DLSym</a></div><div class="ttdeci">@ DLSym</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1SymbolLookupSet_html_ab02dbb5efc921b986a406d9250a197a0"><div class="ttname"><a href="classllvm_1_1orc_1_1SymbolLookupSet.html#ab02dbb5efc921b986a406d9250a197a0">llvm::orc::SymbolLookupSet::add</a></div><div class="ttdeci">SymbolLookupSet &amp; add(SymbolStringPtr Name, SymbolLookupFlags Flags=SymbolLookupFlags::RequiredSymbol)</div><div class="ttdoc">Add an element to the set.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00236">Core.h:236</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_1_1x86__64_html_aebb5822f6bda55afbca20f322d73a2a1aa6cfcfc8b35fd783c173adbaf7cb0dd6"><div class="ttname"><a href="namespacellvm_1_1jitlink_1_1x86__64.html#aebb5822f6bda55afbca20f322d73a2a1aa6cfcfc8b35fd783c173adbaf7cb0dd6">llvm::jitlink::x86_64::RequestGOTAndTransformToPCRel32GOTLoadRelaxable</a></div><div class="ttdeci">@ RequestGOTAndTransformToPCRel32GOTLoadRelaxable</div><div class="ttdoc">A GOT entry getter/constructor, transformed to PCRel32ToGOTLoadRelaxable pointing at the GOT entry fo...</div><div class="ttdef"><b>Definition:</b> <a href="x86__64_8h_source.html#l00203">x86_64.h:203</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a3e679cff5b3a6f6f8f32aead541a0a12">llvm::ms_demangle::QualifierMangleMode::Drop</a></div><div class="ttdeci">@ Drop</div></div>
<div class="ttc" id="anamespacellvm_1_1IndexedInstrProf_html_a3890d6a47a6ff8b8c4ecc8a1f9040a04"><div class="ttname"><a href="namespacellvm_1_1IndexedInstrProf.html#a3890d6a47a6ff8b8c4ecc8a1f9040a04">llvm::IndexedInstrProf::Version</a></div><div class="ttdeci">const uint64_t Version</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8h_source.html#l00991">InstrProf.h:991</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html">llvm::orc::MachOPlatform</a></div><div class="ttdoc">Mediates between MachO initialization and ExecutionSession state.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00058">MachOPlatform.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_a06eee57acde48953ffd29ae8d337202e"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#a06eee57acde48953ffd29ae8d337202e">llvm::jitlink::getGenericEdgeKindName</a></div><div class="ttdeci">const char * getGenericEdgeKindName(Edge::Kind K)</div><div class="ttdoc">Returns the string name of the given generic edge kind, or &quot;unknown&quot; otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8cpp_source.html#l00060">JITLink.cpp:60</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a1e15666405afcdd612f96145ba9d9846"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a1e15666405afcdd612f96145ba9d9846">llvm::MachO::mach_header_64::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00520">MachO.h:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a5fc23559f17bbe5ff83ec0fed0a5fdcf"><div class="ttname"><a href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">llvm::Triple::getArch</a></div><div class="ttdeci">ArchType getArch() const</div><div class="ttdoc">getArch - Get the parsed architecture type of this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00307">Triple.h:307</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a28b75ea27ce950f5833166fee5f6ac52"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a28b75ea27ce950f5833166fee5f6ac52">llvm::orc::MachOPlatform::isInitializerSection</a></div><div class="ttdeci">static bool isInitializerSection(StringRef SegName, StringRef SectName)</div><div class="ttdoc">Returns true if the given section name is an initializer section.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00259">MachOPlatform.cpp:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationResponsibility_html_a904a600190e9f849aea735600148d53d"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a904a600190e9f849aea735600148d53d">llvm::orc::MaterializationResponsibility::getInitializerSymbol</a></div><div class="ttdeci">const SymbolStringPtr &amp; getInitializerSymbol() const</div><div class="ttdoc">Returns the initialization pseudo-symbol, if any.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00538">Core.h:538</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a9933be5a0082912958e7328de0ca90e1"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a9933be5a0082912958e7328de0ca90e1">llvm::orc::MachOPlatform::notifyAdding</a></div><div class="ttdeci">Error notifyAdding(ResourceTracker &amp;RT, const MaterializationUnit &amp;MU) override</div><div class="ttdoc">This method will be called under the ExecutionSession lock each time a MaterializationUnit is added t...</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00203">MachOPlatform.cpp:203</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html">llvm::MachO::mach_header_64</a></div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00519">MachO.h:519</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00202">RDFGraph.cpp:202</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1ExecutorAddressRange_html_a354647b66bac3d38e66853237c20194a"><div class="ttname"><a href="structllvm_1_1orc_1_1ExecutorAddressRange.html#a354647b66bac3d38e66853237c20194a">llvm::orc::ExecutorAddressRange::StartAddress</a></div><div class="ttdeci">ExecutorAddress StartAddress</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00147">ExecutorAddress.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:271</a></div></div>
<div class="ttc" id="astructllvm_1_1jitlink_1_1PassConfiguration_html_ad40c7648b8ad38b6d942e7194a4faa34"><div class="ttname"><a href="structllvm_1_1jitlink_1_1PassConfiguration.html#ad40c7648b8ad38b6d942e7194a4faa34">llvm::jitlink::PassConfiguration::PrePrunePasses</a></div><div class="ttdeci">LinkGraphPassList PrePrunePasses</div><div class="ttdoc">Pre-prune passes.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01527">JITLink.h:1527</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1LinkGraph_html"><div class="ttname"><a href="classllvm_1_1jitlink_1_1LinkGraph.html">llvm::jitlink::LinkGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00784">JITLink.h:784</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationResponsibility_html_a8c6d8b98e28c6bd07a1dda22142fc15b"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationResponsibility.html#a8c6d8b98e28c6bd07a1dda22142fc15b">llvm::orc::MaterializationResponsibility::getTargetJITDylib</a></div><div class="ttdeci">JITDylib &amp; getTargetJITDylib() const</div><div class="ttdoc">Returns the target JITDylib that these symbols are being materialized into.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00524">Core.h:524</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MaterializationUnit_html_ae808c8d8d1d7e0e593fc550a50f5bf6a"><div class="ttname"><a href="classllvm_1_1orc_1_1MaterializationUnit.html#ae808c8d8d1d7e0e593fc550a50f5bf6a">llvm::orc::MaterializationUnit::getInitializerSymbol</a></div><div class="ttdeci">const SymbolStringPtr &amp; getInitializerSymbol() const</div><div class="ttdoc">Returns the initialization symbol for this MaterializationUnit (if any).</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00675">Core.h:675</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00080">ELFObjHandler.cpp:80</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00544">README.txt:546</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1SPSExpected_html"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1SPSExpected.html">llvm::orc::shared::SPSExpected</a></div><div class="ttdoc">SPS tag type for expecteds, which are either a T or a string representing an error.</div><div class="ttdef"><b>Definition:</b> <a href="SimplePackedSerialization_8h_source.html#l00388">SimplePackedSerialization.h:388</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap&lt; SymbolStringPtr, JITSymbolFlags &gt;</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00059">MD5.cpp:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a3ef58f0cc4d3332a0c4e83e26b115b13"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a3ef58f0cc4d3332a0c4e83e26b115b13">llvm::orc::MachOPlatform::getObjectLinkingLayer</a></div><div class="ttdeci">ObjectLinkingLayer &amp; getObjectLinkingLayer() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00104">MachOPlatform.h:104</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad"><div class="ttname"><a href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a33fddb0190d728c25e266a22d64bd7ad">llvm::MachO::CPU_TYPE_ARM64</a></div><div class="ttdeci">@ CPU_TYPE_ARM64</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01426">MachO.h:1426</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1SectionRange_html"><div class="ttname"><a href="classllvm_1_1jitlink_1_1SectionRange.html">llvm::jitlink::SectionRange</a></div><div class="ttdoc">Represents a section address range via a pair of Block pointers to the first and last Blocks in the s...</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00745">JITLink.h:745</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a2cbde57a4b9afb238801fdbaaa98eadca8520fa7ada41507bd9affc1763435e2e"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a2cbde57a4b9afb238801fdbaaa98eadca8520fa7ada41507bd9affc1763435e2e">llvm::MachO::CPU_SUBTYPE_ARM64_ALL</a></div><div class="ttdeci">@ CPU_SUBTYPE_ARM64_ALL</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01497">MachO.h:1497</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_1_1x86__64_html_a73a3b0ce55e5217546f5140e284e5ae3"><div class="ttname"><a href="namespacellvm_1_1jitlink_1_1x86__64.html#a73a3b0ce55e5217546f5140e284e5ae3">llvm::jitlink::x86_64::PointerSize</a></div><div class="ttdeci">constexpr uint64_t PointerSize</div><div class="ttdoc">x86_64 pointer size.</div><div class="ttdef"><b>Definition:</b> <a href="x86__64_8h_source.html#l00340">x86_64.h:340</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01592">STLExtras.h:1592</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1SmartMutex_html_aeece3237e03f54acb81102617c3000de"><div class="ttname"><a href="classllvm_1_1sys_1_1SmartMutex.html#aeece3237e03f54acb81102617c3000de">llvm::sys::SmartMutex::unlock</a></div><div class="ttdeci">bool unlock()</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8h_source.html#l00046">Mutex.h:46</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae2bb081d94f22e64ca6bc4bd58512a93"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae2bb081d94f22e64ca6bc4bd58512a93">memcpy</a></div><div class="ttdeci">&lt;%struct.s * &gt; cast struct s *S to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *agg result to sbyte *&lt; sbyte * &gt; sbyte uint cast struct s *memtmp to sbyte *&lt; sbyte * &gt; sbyte uint ret void llc ends up issuing two memcpy or custom lower memcpy(of small size) to be ldmia/stmia. I think option 2 is better but the current register allocator cannot allocate a chunk of registers at a time. A feasible temporary solution is to use specific physical registers at the lowering time for small(&lt;</div></div>
<div class="ttc" id="allvm_2Support_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2ErrorHandling_8h_source.html#l00136">ErrorHandling.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a23b61f83f663d3dbca5ae5f5bff1bcb6"><div class="ttname"><a href="namespacellvm_1_1orc.html#a23b61f83f663d3dbca5ae5f5bff1bcb6">llvm::orc::JITDylibSearchOrder</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; JITDylib *, JITDylibLookupFlags &gt; &gt; JITDylibSearchOrder</div><div class="ttdoc">A list of (JITDylib*, JITDylibLookupFlags) pairs to be used as a search order during symbol lookup.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00153">Core.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_ad2448a503f5751b1b0d7688693bf11dc"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#ad2448a503f5751b1b0d7688693bf11dc">llvm::orc::ExecutionSession::getExecutorProcessControl</a></div><div class="ttdeci">ExecutorProcessControl &amp; getExecutorProcessControl()</div><div class="ttdoc">Get the ExecutorProcessControl object associated with this ExecutionSession.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01311">Core.h:1311</a></div></div>
<div class="ttc" id="aHexagonMCCodeEmitter_8cpp_html_ae4dfd7b0d66121016d6466d2ff10e8ba"><div class="ttname"><a href="HexagonMCCodeEmitter_8cpp.html#ae4dfd7b0d66121016d6466d2ff10e8ba">_</a></div><div class="ttdeci">#define _</div><div class="ttdef"><b>Definition:</b> <a href="HexagonMCCodeEmitter_8cpp_source.html#l00047">HexagonMCCodeEmitter.cpp:47</a></div></div>
<div class="ttc" id="astructllvm_1_1jitlink_1_1PassConfiguration_html"><div class="ttname"><a href="structllvm_1_1jitlink_1_1PassConfiguration.html">llvm::jitlink::PassConfiguration</a></div><div class="ttdoc">An LinkGraph pass configuration, consisting of a list of pre-prune, post-prune, and post-fixup passes...</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01519">JITLink.h:1519</a></div></div>
<div class="ttc" id="astructllvm_1_1jitlink_1_1PassConfiguration_html_a617bac95c4003dd176fa5cc119d2a919"><div class="ttname"><a href="structllvm_1_1jitlink_1_1PassConfiguration.html#a617bac95c4003dd176fa5cc119d2a919">llvm::jitlink::PassConfiguration::PostFixupPasses</a></div><div class="ttdeci">LinkGraphPassList PostFixupPasses</div><div class="ttdoc">Post-fixup passes.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01570">JITLink.h:1570</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOPerObjectSectionsToRegister_html_ac1fc5f2dc3c84de98773306097e8b2e6"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html#ac1fc5f2dc3c84de98773306097e8b2e6">llvm::orc::MachOPerObjectSectionsToRegister::EHFrameSection</a></div><div class="ttdeci">ExecutorAddressRange EHFrameSection</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00031">MachOPlatform.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00043">ArrayRef.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00058">StringRef.h:58</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOPerObjectSectionsToRegister_html_acffd71890b17dcfbaa8fe65e1f1804df"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html#acffd71890b17dcfbaa8fe65e1f1804df">llvm::orc::MachOPerObjectSectionsToRegister::ThreadDataSection</a></div><div class="ttdeci">ExecutorAddressRange ThreadDataSection</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00032">MachOPlatform.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_adac25fca9fb14b1defe43d18a81c16e8ae7d31fc0602fb2ede144d18cdffd816b"><div class="ttname"><a href="namespacellvm_1_1orc.html#adac25fca9fb14b1defe43d18a81c16e8ae7d31fc0602fb2ede144d18cdffd816b">llvm::orc::SymbolState::Ready</a></div><div class="ttdeci">@ Ready</div><div class="ttdoc">Emitted to memory, but waiting on transitive dependencies.</div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aMachOPlatform_8h_html"><div class="ttname"><a href="MachOPlatform_8h.html">MachOPlatform.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00211">README.txt:210</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOPerObjectSectionsToRegister_html"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOPerObjectSectionsToRegister.html">llvm::orc::MachOPerObjectSectionsToRegister</a></div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00030">MachOPlatform.h:30</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOJITDylibInitializers_html_ac0e4101fb6c4c7417f95a0af314611c1"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html#ac0e4101fb6c4c7417f95a0af314611c1">llvm::orc::MachOJITDylibInitializers::ObjCImageInfoAddress</a></div><div class="ttdeci">ExecutorAddress ObjCImageInfoAddress</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00045">MachOPlatform.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a881099b901c620f67bf12101d7951d53"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a881099b901c620f67bf12101d7951d53">llvm::orc::JITDylib::getDFSLinkOrder</a></div><div class="ttdeci">static std::vector&lt; JITDylibSP &gt; getDFSLinkOrder(ArrayRef&lt; JITDylibSP &gt; JDs)</div><div class="ttdoc">Returns the given JITDylibs and all of their transitive dependencies in DFS order (based on linkage r...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01872">Core.cpp:1872</a></div></div>
<div class="ttc" id="ax86__64_8h_html"><div class="ttname"><a href="x86__64_8h.html">x86_64.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ObjectLinkingLayer_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ObjectLinkingLayer.html">llvm::orc::ObjectLinkingLayer</a></div><div class="ttdoc">An ObjectLayer implementation built on JITLink.</div><div class="ttdef"><b>Definition:</b> <a href="ObjectLinkingLayer_8h_source.html#l00054">ObjectLinkingLayer.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_af90b5ae73bea555e222e9eb954b7923e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#af90b5ae73bea555e222e9eb954b7923e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::empty</a></div><div class="ttdeci">LLVM_NODISCARD bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00097">DenseMap.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a45fd41e11f6881253372745d7927cd52"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a45fd41e11f6881253372745d7927cd52">llvm::orc::MachOPlatform::setupJITDylib</a></div><div class="ttdeci">Error setupJITDylib(JITDylib &amp;JD) override</div><div class="ttdoc">This method will be called outside the session lock each time a JITDylib is created (unless it is cre...</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00198">MachOPlatform.cpp:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1sys_1_1SmartMutex_html_ace47db9af0a6cf680465b39765f39a81"><div class="ttname"><a href="classllvm_1_1sys_1_1SmartMutex.html#ace47db9af0a6cf680465b39765f39a81">llvm::sys::SmartMutex::lock</a></div><div class="ttdeci">bool lock()</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8h_source.html#l00033">Mutex.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a8e62577d400fcaeb1f5b30a064a0af94ad58eeb9082b629126262656d574117e7"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a8e62577d400fcaeb1f5b30a064a0af94ad58eeb9082b629126262656d574117e7">llvm::MachO::MH_MAGIC_64</a></div><div class="ttdeci">@ MH_MAGIC_64</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00032">MachO.h:32</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key_html_af0b71165db16633df4a356825edea094"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Key.html#af0b71165db16633df4a356825edea094">llvm::AMDGPU::HSAMD::Kernel::Key::SymbolName</a></div><div class="ttdeci">constexpr char SymbolName[]</div><div class="ttdoc">Key for Kernel::Metadata::mSymbolName.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00381">AMDGPUMetadata.h:381</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a4099e754341e36bdbc04624fa2f1e19aa61431e5ba87f234d7b1ffa7bfd12c98e"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a4099e754341e36bdbc04624fa2f1e19aa61431e5ba87f234d7b1ffa7bfd12c98e">llvm::MachO::MH_DYLIB</a></div><div class="ttdeci">@ MH_DYLIB</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00048">MachO.h:48</a></div></div>
<div class="ttc" id="anamespacellvm_html_a824f3e0d9eb261d9345fcc96b36852f5"><div class="ttname"><a href="namespacellvm.html#a824f3e0d9eb261d9345fcc96b36852f5">llvm::empty</a></div><div class="ttdeci">constexpr bool empty(const T &amp;RangeOrContainer)</div><div class="ttdoc">Test whether RangeOrContainer is empty. Similar to C++17 std::empty.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00254">STLExtras.h:254</a></div></div>
<div class="ttc" id="aclassllvm_1_1jitlink_1_1Section_html"><div class="ttname"><a href="classllvm_1_1jitlink_1_1Section.html">llvm::jitlink::Section</a></div><div class="ttdoc">Represents an object file section.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l00639">JITLink.h:639</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00052">GraphWriter.h:52</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00838">BitVector.h:838</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b43c21951d0948b34bcf7019949032d"><div class="ttname"><a href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">llvm::inconvertibleErrorCode</a></div><div class="ttdeci">std::error_code inconvertibleErrorCode()</div><div class="ttdoc">The value returned by this function can be returned from convertToErrorCode for Error values where no...</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00077">Error.cpp:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ObjectLinkingLayer_html_a6cb4512f228d57fe42787ce9cd1b29dd"><div class="ttname"><a href="classllvm_1_1orc_1_1ObjectLinkingLayer.html#a6cb4512f228d57fe42787ce9cd1b29dd">llvm::orc::ObjectLinkingLayer::addPlugin</a></div><div class="ttdeci">ObjectLinkingLayer &amp; addPlugin(std::unique_ptr&lt; Plugin &gt; P)</div><div class="ttdoc">Add a pass-config modifier.</div><div class="ttdef"><b>Definition:</b> <a href="ObjectLinkingLayer_8h_source.html#l00130">ObjectLinkingLayer.h:130</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_ac45c828cc7d7e704b6594b6b4ad5a6b3"><div class="ttname"><a href="namespacellvm_1_1orc.html#ac45c828cc7d7e704b6594b6b4ad5a6b3">llvm::orc::addAliases</a></div><div class="ttdeci">static void addAliases(ExecutionSession &amp;ES, SymbolAliasMap &amp;Aliases, ArrayRef&lt; std::pair&lt; const char *, const char * &gt;&gt; AL)</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00223">MachOPlatform.cpp:223</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorProcessControl_html_a0ea8f7c74ef1edc1ede008406378ac0f"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorProcessControl.html#a0ea8f7c74ef1edc1ede008406378ac0f">llvm::orc::ExecutorProcessControl::getTargetTriple</a></div><div class="ttdeci">const Triple &amp; getTargetTriple() const</div><div class="ttdoc">Return the Triple for the target process.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorProcessControl_8h_source.html#l00136">ExecutorProcessControl.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2Error_8h_source.html#l00157">Error.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html">llvm::orc::ExecutionSession</a></div><div class="ttdoc">An ExecutionSession represents a running JIT program.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01276">Core.h:1276</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a7cb1d8cb0ab2329f032d69d79498c81da77fe6095a7470a90a4ae2beafb42efa7"><div class="ttname"><a href="namespacellvm_1_1orc.html#a7cb1d8cb0ab2329f032d69d79498c81da77fe6095a7470a90a4ae2beafb42efa7">llvm::orc::JITDylibLookupFlags::MatchExportedSymbolsOnly</a></div><div class="ttdeci">@ MatchExportedSymbolsOnly</div></div>
<div class="ttc" id="anamespacellvm_1_1support_1_1endian_html_a108ca68c609b3e8c00918a68d26905fa"><div class="ttname"><a href="namespacellvm_1_1support_1_1endian.html#a108ca68c609b3e8c00918a68d26905fa">llvm::support::endian::byte_swap</a></div><div class="ttdeci">value_type byte_swap(value_type value, endianness endian)</div><div class="ttdef"><b>Definition:</b> <a href="Endian_8h_source.html#l00049">Endian.h:49</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a7c3216ff59aae3ecb1dd1a45f04e6d07"><div class="ttname"><a href="namespacellvm_1_1orc.html#a7c3216ff59aae3ecb1dd1a45f04e6d07">llvm::orc::symbolAliases</a></div><div class="ttdeci">std::unique_ptr&lt; ReExportsMaterializationUnit &gt; symbolAliases(SymbolAliasMap Aliases)</div><div class="ttdoc">Create a ReExportsMaterializationUnit with the given aliases.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00778">Core.h:778</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1shared_1_1SPSExecutorAddress_html"><div class="ttname"><a href="classllvm_1_1orc_1_1shared_1_1SPSExecutorAddress.html">llvm::orc::shared::SPSExecutorAddress</a></div><div class="ttdoc">SPS tag type for executor addresseses.</div><div class="ttdef"><b>Definition:</b> <a href="SimplePackedSerialization_8h_source.html#l00197">SimplePackedSerialization.h:197</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddress_html_affb0780d465c1b9b879aa5bef2f5e7a5"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddress.html#affb0780d465c1b9b879aa5bef2f5e7a5">llvm::orc::ExecutorAddress::getValue</a></div><div class="ttdeci">uint64_t getValue() const</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00059">ExecutorAddress.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a5033eefe5c3bcf123e9d3070884f38f5"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a5033eefe5c3bcf123e9d3070884f38f5">llvm::orc::MachOPlatform::standardRuntimeUtilityAliases</a></div><div class="ttdeci">static ArrayRef&lt; std::pair&lt; const char *, const char * &gt; &gt; standardRuntimeUtilityAliases()</div><div class="ttdoc">Returns the array of standard runtime utility aliases for MachO.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00249">MachOPlatform.cpp:249</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_aad6c1b2ed5f6caf1e576fdd27baa6697"><div class="ttname"><a href="namespacellvm_1_1orc.html#aad6c1b2ed5f6caf1e576fdd27baa6697">llvm::orc::absoluteSymbols</a></div><div class="ttdeci">std::unique_ptr&lt; AbsoluteSymbolsMaterializationUnit &gt; absoluteSymbols(SymbolMap Symbols)</div><div class="ttdoc">Create an AbsoluteSymbolsMaterializationUnit with the given symbols.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00733">Core.h:733</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_adb322dc6826cf005531ccfdf666260fda7a1920d61156abc05a60135aefe8bc67"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#adb322dc6826cf005531ccfdf666260fda7a1920d61156abc05a60135aefe8bc67">llvm::jitlink::Scope::Default</a></div><div class="ttdeci">@ Default</div></div>
<div class="ttc" id="anamespacellvm_html_a2b9aa96a24878fd7e3262812346c6c26"><div class="ttname"><a href="namespacellvm.html#a2b9aa96a24878fd7e3262812346c6c26">llvm::JITTargetAddress</a></div><div class="ttdeci">uint64_t JITTargetAddress</div><div class="ttdoc">Represents an address in the target process's address space.</div><div class="ttdef"><b>Definition:</b> <a href="JITSymbol_8h_source.html#l00042">JITSymbol.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1support_1_1endian_html_a7c1f987ba48a19f2d8480a435ba805a4"><div class="ttname"><a href="namespacellvm_1_1support_1_1endian.html#a7c1f987ba48a19f2d8480a435ba805a4">llvm::support::endian::system_endianness</a></div><div class="ttdeci">constexpr endianness system_endianness()</div><div class="ttdef"><b>Definition:</b> <a href="Endian_8h_source.html#l00044">Endian.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutorAddress_html_adf4efad523505cf95b7adc9fcd30a8e9"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutorAddress.html#adf4efad523505cf95b7adc9fcd30a8e9">llvm::orc::ExecutorAddress::setValue</a></div><div class="ttdeci">void setValue(uint64_t Addr)</div><div class="ttdef"><b>Definition:</b> <a href="ExecutorAddress_8h_source.html#l00060">ExecutorAddress.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_ae86e82720723217878cee426edacb5ceaa924bb600517a47108514a58b30e9df1"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ae86e82720723217878cee426edacb5ceaa924bb600517a47108514a58b30e9df1">llvm::MachO::CPU_SUBTYPE_X86_64_ALL</a></div><div class="ttdeci">@ CPU_SUBTYPE_X86_64_ALL</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01467">MachO.h:1467</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_aa653fdc7742d0b6c59a09545867fcb34"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#aa653fdc7742d0b6c59a09545867fcb34">llvm::MachO::mach_header_64::sizeofcmds</a></div><div class="ttdeci">uint32_t sizeofcmds</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00525">MachO.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a33652754a16f3fc50a4de1816b949204"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a33652754a16f3fc50a4de1816b949204">llvm::orc::JITDylib::getName</a></div><div class="ttdeci">const std::string &amp; getName() const</div><div class="ttdoc">Get the name for this JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l00925">Core.h:925</a></div></div>
<div class="ttc" id="astructllvm_1_1orc_1_1MachOJITDylibInitializers_html_a804136939e1e9dac6327a8fa6fdf9416"><div class="ttname"><a href="structllvm_1_1orc_1_1MachOJITDylibInitializers.html#a804136939e1e9dac6327a8fa6fdf9416">llvm::orc::MachOJITDylibInitializers::InitSections</a></div><div class="ttdeci">StringMap&lt; SectionList &gt; InitSections</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00047">MachOPlatform.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1JITDylib_html_a5ec8631eb0c37168d6f85c4ecad77747"><div class="ttname"><a href="classllvm_1_1orc_1_1JITDylib.html#a5ec8631eb0c37168d6f85c4ecad77747">llvm::orc::JITDylib::define</a></div><div class="ttdeci">Error define(std::unique_ptr&lt; MaterializationUnitType &gt; &amp;&amp;MU, ResourceTrackerSP RT=nullptr)</div><div class="ttdoc">Define all symbols provided by the materialization unit to be part of this JITDylib.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01706">Core.h:1706</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_af9ac9dcc187aadbb5193b04fed30630e"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#af9ac9dcc187aadbb5193b04fed30630e">llvm::MachO::mach_header_64::cpusubtype</a></div><div class="ttdeci">uint32_t cpusubtype</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00522">MachO.h:522</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a9260560ad3aaa612b92cff4bccd3c223"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a9260560ad3aaa612b92cff4bccd3c223">llvm::orc::ExecutionSession::lookup</a></div><div class="ttdeci">void lookup(LookupKind K, const JITDylibSearchOrder &amp;SearchOrder, SymbolLookupSet Symbols, SymbolState RequiredState, SymbolsResolvedCallback NotifyComplete, RegisterDependenciesFunction RegisterDependencies)</div><div class="ttdoc">Search the given JITDylibs for the given symbols.</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2Orc_2Core_8cpp_source.html#l01948">Core.cpp:1948</a></div></div>
<div class="ttc" id="astructllvm_1_1jitlink_1_1PassConfiguration_html_a084adb14a6ed485ceafa7aeb5ddcdba9"><div class="ttname"><a href="structllvm_1_1jitlink_1_1PassConfiguration.html#a084adb14a6ed485ceafa7aeb5ddcdba9">llvm::jitlink::PassConfiguration::PostAllocationPasses</a></div><div class="ttdeci">LinkGraphPassList PostAllocationPasses</div><div class="ttdoc">Post-allocation passes.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01550">JITLink.h:1550</a></div></div>
<div class="ttc" id="anamespacellvm_1_1support_html_ae0a227ae1b2ada1da82b40479251862c"><div class="ttname"><a href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862c">llvm::support::endianness</a></div><div class="ttdeci">endianness</div><div class="ttdef"><b>Definition:</b> <a href="Endian_8h_source.html#l00027">Endian.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_ab2b75dd698cda0452b5e84199248ca8a"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#ab2b75dd698cda0452b5e84199248ca8a">llvm::orc::MachOPlatform::standardPlatformAliases</a></div><div class="ttdeci">static SymbolAliasMap standardPlatformAliases(ExecutionSession &amp;ES)</div><div class="ttdoc">Returns an AliasMap containing the default aliases for the MachOPlatform.</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8cpp_source.html#l00233">MachOPlatform.cpp:233</a></div></div>
<div class="ttc" id="astructllvm_1_1jitlink_1_1PassConfiguration_html_ac2b6c33f0953b534738fb8d0a02e526d"><div class="ttname"><a href="structllvm_1_1jitlink_1_1PassConfiguration.html#ac2b6c33f0953b534738fb8d0a02e526d">llvm::jitlink::PassConfiguration::PostPrunePasses</a></div><div class="ttdeci">LinkGraphPassList PostPrunePasses</div><div class="ttdoc">Post-prune passes.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8h_source.html#l01535">JITLink.h:1535</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1ExecutionSession_html_a6d161dc24753bbe3581c27a63c8be151"><div class="ttname"><a href="classllvm_1_1orc_1_1ExecutionSession.html#a6d161dc24753bbe3581c27a63c8be151">llvm::orc::ExecutionSession::wrapAsyncWithSPS</a></div><div class="ttdeci">static JITDispatchHandlerFunction wrapAsyncWithSPS(HandlerT &amp;&amp;H)</div><div class="ttdoc">Wrap a handler that takes concrete argument types (and a sender for a concrete return type) to produc...</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2ExecutionEngine_2Orc_2Core_8h_source.html#l01526">Core.h:1526</a></div></div>
<div class="ttc" id="aBinaryFormat_2MachO_8h_html"><div class="ttname"><a href="BinaryFormat_2MachO_8h.html">MachO.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a754466f4b36d6a2365e56663e0d9de83"><div class="ttname"><a href="namespacellvm_1_1MachO.html#a754466f4b36d6a2365e56663e0d9de83">llvm::MachO::swapStruct</a></div><div class="ttdeci">void swapStruct(fat_header &amp;mh)</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l01005">MachO.h:1005</a></div></div>
<div class="ttc" id="anamespacellvm_1_1orc_html_a69e9511c04540297d2cff38f4645a9abaa1734373fb555ce75d3e33411f9ea827"><div class="ttname"><a href="namespacellvm_1_1orc.html#a69e9511c04540297d2cff38f4645a9abaa1734373fb555ce75d3e33411f9ea827">llvm::orc::SymbolLookupFlags::RequiredSymbol</a></div><div class="ttdeci">@ RequiredSymbol</div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a1a131e94fadf1bc4fdae17ccdab180f2"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a1a131e94fadf1bc4fdae17ccdab180f2">llvm::MachO::mach_header_64::cputype</a></div><div class="ttdeci">uint32_t cputype</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00521">MachO.h:521</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="astructllvm_1_1MachO_1_1mach__header__64_html_a5a2c178518b058b9d45b7296f86e43e2"><div class="ttname"><a href="structllvm_1_1MachO_1_1mach__header__64.html#a5a2c178518b058b9d45b7296f86e43e2">llvm::MachO::mach_header_64::filetype</a></div><div class="ttdeci">uint32_t filetype</div><div class="ttdef"><b>Definition:</b> <a href="BinaryFormat_2MachO_8h_source.html#l00523">MachO.h:523</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154aee7bfdb86a0614afb9b44615e3e652d3">llvm::Triple::aarch64</a></div><div class="ttdeci">@ aarch64</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00052">Triple.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1JITSymbolFlags_html_ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8"><div class="ttname"><a href="classllvm_1_1JITSymbolFlags.html#ad509c6d010720c4f71aeac1fba93f8cbaeb59403a31ee3f63734a411e9e42ddd8">llvm::JITSymbolFlags::Exported</a></div><div class="ttdeci">@ Exported</div><div class="ttdef"><b>Definition:</b> <a href="JITSymbol_8h_source.html#l00085">JITSymbol.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1orc_1_1MachOPlatform_html_a52a629a875527dd78f5dd00f88b7d218"><div class="ttname"><a href="classllvm_1_1orc_1_1MachOPlatform.html#a52a629a875527dd78f5dd00f88b7d218">llvm::orc::MachOPlatform::getExecutionSession</a></div><div class="ttdeci">ExecutionSession &amp; getExecutionSession() const</div><div class="ttdef"><b>Definition:</b> <a href="MachOPlatform_8h_source.html#l00103">MachOPlatform.h:103</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 8 2022 04:36:43 for LLVM by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
