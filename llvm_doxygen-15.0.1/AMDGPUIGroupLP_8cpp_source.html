<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPUIGroupLP.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">15.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AMDGPUIGroupLP.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AMDGPUIGroupLP_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===--- AMDGPUIGroupLP.cpp - AMDGPU IGroupLP  ------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// \file This file defines a set of schedule DAG mutations that can be used to</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// override default scheduler behavior to enforce specific scheduling patterns.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// They should be used in cases where runtime performance considerations such as</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// inter-wavefront interactions, mean that compile-time heuristics cannot</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// predict the optimal instruction ordering, or in kernels where optimum</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// instruction scheduling is important enough to warrant manual intervention.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUIGroupLP_8h.html">AMDGPUIGroupLP.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AMDGPUMCTargetDesc_8h.html">MCTargetDesc/AMDGPUMCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIInstrInfo_8h.html">SIInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitmaskEnum_8h.html">llvm/ADT/BitmaskEnum.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineScheduler_8h.html">llvm/CodeGen/MachineScheduler.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="AMDGPUIGroupLP_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   29</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;machine-scheduler&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    EnableIGroupLP(<span class="stringliteral">&quot;amdgpu-igrouplp&quot;</span>,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                   <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable construction of Instruction Groups and &quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                            <span class="stringliteral">&quot;their ordering for scheduling&quot;</span>),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                   <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;Optional&lt;unsigned&gt;</a>&gt;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    VMEMGroupMaxSize(<span class="stringliteral">&quot;amdgpu-igrouplp-vmem-group-size&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of instructions to include &quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                              <span class="stringliteral">&quot;in VMEM group.&quot;</span>));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;Optional&lt;unsigned&gt;</a>&gt;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    MFMAGroupMaxSize(<span class="stringliteral">&quot;amdgpu-igrouplp-mfma-group-size&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of instructions to include &quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                              <span class="stringliteral">&quot;in MFMA group.&quot;</span>));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;Optional&lt;unsigned&gt;</a>&gt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    LDRGroupMaxSize(<span class="stringliteral">&quot;amdgpu-igrouplp-ldr-group-size&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of instructions to include &quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                             <span class="stringliteral">&quot;in lds/gds read group.&quot;</span>));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;Optional&lt;unsigned&gt;</a>&gt;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    LDWGroupMaxSize(<span class="stringliteral">&quot;amdgpu-igrouplp-ldw-group-size&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;The maximum number of instructions to include &quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                             <span class="stringliteral">&quot;in lds/gds write group.&quot;</span>));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;bool(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *)&gt;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    CanAddMIFn;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// Classify instructions into groups to enable fine tuned control over the</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// scheduler. These groups may be more specific than current SchedModel</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// instruction classes.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">class </span>SchedGroup {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// Function that returns true if a non-bundle MI may be inserted into this</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// group.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keyword">const</span> CanAddMIFn canAddMI;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// Maximum number of SUnits that can be added to this group.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">Optional&lt;unsigned&gt;</a> MaxSize;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Collection of SUnits that are classified as members of this group.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit *, 32&gt;</a> Collection;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAG;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">void</span> tryAddEdge(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *A, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (A != <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> &amp;&amp; DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">canAddEdge</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, A)) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      DAG-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a86bfa4838cb7e42648615d27c94c8017">addEdge</a>(<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="classllvm_1_1SDep.html">SDep</a>(A, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Adding edge...\n&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;from: SU(&quot;</span> &lt;&lt; A-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; *A-&gt;getInstr()</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;to: SU(&quot;</span> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;getInstr());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Add DAG dependencies from all SUnits in this SchedGroup and this SU. If</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// MakePred is true, SU will be a predecessor of the SUnits in this</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// SchedGroup, otherwise SU will be a successor.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1jitlink.html#a7f121e00dd72c69b63217fbc866d50d6">link</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU, <span class="keywordtype">bool</span> MakePred = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> A : Collection) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = &amp;SU;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">if</span> (MakePred)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      tryAddEdge(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// Add DAG dependencies from all SUnits in this SchedGroup and this SU. Use</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// the predicate to determine whether SU should be a predecessor (P = true)</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// or a successor (P = false) of this SchedGroup.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1jitlink.html#a7f121e00dd72c69b63217fbc866d50d6">link</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU, <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)&gt; <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> A : Collection) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = &amp;SU;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>))</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      tryAddEdge(A, <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// Add DAG dependencies such that SUnits in this group shall be ordered</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// before SUnits in OtherGroup.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1jitlink.html#a7f121e00dd72c69b63217fbc866d50d6">link</a>(SchedGroup &amp;OtherGroup) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> : OtherGroup.Collection)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="namespacellvm_1_1jitlink.html#a7f121e00dd72c69b63217fbc866d50d6">link</a>(*<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// Returns true if no more instructions may be added to this group.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">bool</span> isFull() { <span class="keywordflow">return</span> MaxSize &amp;&amp; Collection.size() &gt;= *MaxSize; }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// Returns true if SU can be added to this SchedGroup.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordtype">bool</span> canAddSU(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (isFull())</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() != TargetOpcode::BUNDLE)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> canAddMI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// Special case for bundled MIs.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::instr_iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getIterator(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = ++<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>-&gt;isBundledWithPred())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      ++<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// Return true if all of the bundled MIs can be added to this group.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">std::all_of</a>(</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, [<span class="keyword">this</span>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>](<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) { <span class="keywordflow">return</span> canAddMI(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>); });</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">add</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU) { Collection.push_back(&amp;SU); }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  SchedGroup(CanAddMIFn canAddMI, <a class="code" href="classllvm_1_1Optional.html">Optional&lt;unsigned&gt;</a> MaxSize,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;             <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAG)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      : canAddMI(canAddMI), MaxSize(MaxSize), DAG(DAG) {}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">bool</span> isMFMASGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isMFMA(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keywordtype">bool</span> isVALUSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isVALU(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isMFMA(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keywordtype">bool</span> isSALUSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isSALU(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keywordtype">bool</span> isVMEMSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isVMEM(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isFLAT(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isDS(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keywordtype">bool</span> isVMEMReadSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad() &amp;&amp;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isVMEM(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isFLAT(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isDS(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keywordtype">bool</span> isVMEMWriteSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() &amp;&amp;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;         (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isVMEM(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) || (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isFLAT(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) &amp;&amp; !<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isDS(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)));</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keywordtype">bool</span> isDSWriteSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayStore() &amp;&amp; <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isDS(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keywordtype">bool</span> isDSReadSGMember(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.mayLoad() &amp;&amp; <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isDS(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">class </span>IGroupLPDAGMutation : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ScheduleDAGMutation.html">ScheduleDAGMutation</a> {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *DAG;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  IGroupLPDAGMutation() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAGInstrs) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;};</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">// DAG mutation that coordinates with the SCHED_BARRIER instruction and</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">// corresponding builtin. The mutation adds edges from specific instruction</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">// classes determined by the SCHED_BARRIER mask so that they cannot be</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">// scheduled around the SCHED_BARRIER.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">class </span>SchedBarrierDAGMutation : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ScheduleDAGMutation.html">ScheduleDAGMutation</a> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SIInstrInfo.html">SIInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *DAG;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// Components of the mask that determines which instructions may not be</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// scheduled across the SCHED_BARRIER.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">enum class</span> SchedBarrierMasks {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespacellvm.html#a51e547c2283920aa77da2650a8ee3a7aa854d6852fecf9ccbfcb0382ea8046989">NONE</a> = 0u,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    ALU = 1u &lt;&lt; 0,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a25bdad6e13bc9ed9f9ce690ae614db1c">VALU</a> = 1u &lt;&lt; 1,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717ab20a2dd15666d86af4e1fdeb88b1be7c">SALU</a> = 1u &lt;&lt; 2,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    MFMA = 1u &lt;&lt; 3,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    VMEM = 1u &lt;&lt; 4,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    VMEM_READ = 1u &lt;&lt; 5,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    VMEM_WRITE = 1u &lt;&lt; 6,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a953a5ba3766c4aea8d9b8eeeba722679">DS</a> = 1u &lt;&lt; 7,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    DS_READ = 1u &lt;&lt; 8,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    DS_WRITE = 1u &lt;&lt; 9,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="BitmaskEnum_8h.html#a5467fafc9bd99ee2e38518ac3bea3a9d">LLVM_MARK_AS_BITMASK_ENUM</a>(<span class="comment">/* LargestFlag = */</span> DS_WRITE)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  };</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// Cache SchedGroups of each type if we have multiple SCHED_BARRIERs in a</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// region.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; MFMASchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; VALUSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; SALUSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; VMEMReadSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; VMEMWriteSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; DSWriteSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  std::unique_ptr&lt;SchedGroup&gt; DSReadSchedGroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// Use a SCHED_BARRIER&#39;s mask to identify instruction SchedGroups that should</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// not be reordered accross the SCHED_BARRIER.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordtype">void</span> getSchedGroupsFromMask(int32_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SchedGroup *&gt;</a> &amp;SchedGroups);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// Add DAG edges that enforce SCHED_BARRIER ordering.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordtype">void</span> addSchedBarrierEdges(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// Classify instructions and add them to the SchedGroup.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">void</span> initSchedGroup(SchedGroup *SG);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Remove all existing edges from a SCHED_BARRIER.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">void</span> resetSchedBarrierEdges(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAGInstrs) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  SchedBarrierDAGMutation() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;};</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">IGroupLPDAGMutation::apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAGInstrs) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getInstrInfo();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  DAG = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *<span class="keyword">&gt;</span>(DAGInstrs);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSchedModel.html">TargetSchedModel</a> *TSchedModel = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a1284eca54a89002a4b67f4dfe490736b">getSchedModel</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (!TSchedModel || DAG-&gt;SUnits.empty())</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Applying IGroupLPDAGMutation...\n&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// The order of InstructionGroups in this vector defines the</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// order in which edges will be added. In other words, given the</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// present ordering, we will try to make each VMEMRead instruction</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// a predecessor of each DSRead instruction, and so on.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SchedGroup, 4&gt;</a> PipelineOrderGroups = {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      SchedGroup(isVMEMSGMember, VMEMGroupMaxSize, DAG),</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      SchedGroup(isDSReadSGMember, LDRGroupMaxSize, DAG),</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      SchedGroup(isMFMASGMember, MFMAGroupMaxSize, DAG),</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      SchedGroup(isDSWriteSGMember, LDWGroupMaxSize, DAG)};</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU : DAG-&gt;SUnits) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Checking Node&quot;</span>; DAG-&gt;dumpNode(SU));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SG : PipelineOrderGroups)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (SG.canAddSU(SU, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>))</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        SG.add(SU);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; PipelineOrderGroups.size() - 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">auto</span> &amp;GroupA = PipelineOrderGroups[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1; <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; PipelineOrderGroups.size(); <a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>++) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keyword">auto</span> &amp;GroupB = PipelineOrderGroups[<a class="code" href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      GroupA.link(GroupB);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">SchedBarrierDAGMutation::apply</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html">ScheduleDAGInstrs</a> *DAGInstrs) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSchedModel.html">TargetSchedModel</a> *TSchedModel = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a1284eca54a89002a4b67f4dfe490736b">getSchedModel</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (!TSchedModel || DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.empty())</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Applying SchedBarrierDAGMutation...\n&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = DAGInstrs-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">MF</a>.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1GCNSubtarget.html">GCNSubtarget</a>&gt;();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>.getInstrInfo();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  DAG = <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ScheduleDAGMI.html">ScheduleDAGMI</a> *<span class="keyword">&gt;</span>(DAGInstrs);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SU : DAG-&gt;SUnits)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (SU.getInstr()-&gt;getOpcode() == AMDGPU::SCHED_BARRIER)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      addSchedBarrierEdges(SU);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">void</span> SchedBarrierDAGMutation::addSchedBarrierEdges(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SchedBarrier) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *SchedBarrier.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == AMDGPU::SCHED_BARRIER);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Remove all existing edges from the SCHED_BARRIER that were added due to the</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// instruction having side effects.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  resetSchedBarrierEdges(SchedBarrier);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SchedGroup *, 4&gt;</a> SchedGroups;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  int32_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(0).getImm();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  getSchedGroupsFromMask(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, SchedGroups);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> SG : SchedGroups)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    SG-&gt;link(</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        SchedBarrier, (<a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)&gt;)[](</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *A, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <span class="keywordflow">return</span> A-&gt;NodeNum &gt; <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>-&gt;NodeNum;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        });</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">void</span> SchedBarrierDAGMutation::getSchedGroupsFromMask(</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    int32_t <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SchedGroup *&gt;</a> &amp;SchedGroups) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  SchedBarrierMasks SBMask = (SchedBarrierMasks)<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// See IntrinsicsAMDGPU.td for an explanation of these masks and their</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// mappings.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a25bdad6e13bc9ed9f9ce690ae614db1c">SchedBarrierMasks::VALU</a>) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      (SBMask &amp; SchedBarrierMasks::ALU) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (!VALUSchedGroup) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      VALUSchedGroup = std::make_unique&lt;SchedGroup&gt;(isVALUSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      initSchedGroup(VALUSchedGroup.get());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    SchedGroups.push_back(VALUSchedGroup.get());</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717ab20a2dd15666d86af4e1fdeb88b1be7c">SchedBarrierMasks::SALU</a>) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      (SBMask &amp; SchedBarrierMasks::ALU) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (!SALUSchedGroup) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      SALUSchedGroup = std::make_unique&lt;SchedGroup&gt;(isSALUSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      initSchedGroup(SALUSchedGroup.get());</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    SchedGroups.push_back(SALUSchedGroup.get());</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; SchedBarrierMasks::MFMA) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      (SBMask &amp; SchedBarrierMasks::ALU) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (!MFMASchedGroup) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      MFMASchedGroup = std::make_unique&lt;SchedGroup&gt;(isMFMASGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      initSchedGroup(MFMASchedGroup.get());</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    SchedGroups.push_back(MFMASchedGroup.get());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; SchedBarrierMasks::VMEM_READ) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      (SBMask &amp; SchedBarrierMasks::VMEM) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (!VMEMReadSchedGroup) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      VMEMReadSchedGroup =</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          std::make_unique&lt;SchedGroup&gt;(isVMEMReadSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      initSchedGroup(VMEMReadSchedGroup.get());</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    SchedGroups.push_back(VMEMReadSchedGroup.get());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; SchedBarrierMasks::VMEM_WRITE) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      (SBMask &amp; SchedBarrierMasks::VMEM) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (!VMEMWriteSchedGroup) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      VMEMWriteSchedGroup =</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          std::make_unique&lt;SchedGroup&gt;(isVMEMWriteSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      initSchedGroup(VMEMWriteSchedGroup.get());</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    SchedGroups.push_back(VMEMWriteSchedGroup.get());</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; SchedBarrierMasks::DS_READ) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      (SBMask &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a953a5ba3766c4aea8d9b8eeeba722679">SchedBarrierMasks::DS</a>) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (!DSReadSchedGroup) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      DSReadSchedGroup =</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          std::make_unique&lt;SchedGroup&gt;(isDSReadSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      initSchedGroup(DSReadSchedGroup.get());</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    SchedGroups.push_back(DSReadSchedGroup.get());</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> ((SBMask &amp; SchedBarrierMasks::DS_WRITE) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a> &amp;&amp;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      (SBMask &amp; <a class="code" href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a953a5ba3766c4aea8d9b8eeeba722679">SchedBarrierMasks::DS</a>) == <a class="code" href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">SchedBarrierMasks::NONE</a>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (!DSWriteSchedGroup) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      DSWriteSchedGroup =</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          std::make_unique&lt;SchedGroup&gt;(isDSWriteSGMember, <a class="code" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>, DAG);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      initSchedGroup(DSWriteSchedGroup.get());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    SchedGroups.push_back(DSWriteSchedGroup.get());</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="keywordtype">void</span> SchedBarrierDAGMutation::initSchedGroup(SchedGroup *SG) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SG);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SU : DAG-&gt;SUnits)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (SG-&gt;canAddSU(SU, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>))</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      SG-&gt;add(SU);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keywordtype">void</span> SchedBarrierDAGMutation::resetSchedBarrierEdges(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> &amp;SU) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SU.<a class="code" href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == AMDGPU::SCHED_BARRIER);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : SU.<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    SU.<a class="code" href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">removePred</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : SU.<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;SP : <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getSUnit()-&gt;Preds) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">if</span> (SP.getSUnit() == &amp;SU) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getSUnit()-&gt;removePred(SP);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="namespacellvm.html#a71fc5e23072a3c0807e8379f61235248">  431</a></span>&#160;std::unique_ptr&lt;ScheduleDAGMutation&gt; <a class="code" href="namespacellvm.html#a71fc5e23072a3c0807e8379f61235248">createIGroupLPDAGMutation</a>() {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">return</span> EnableIGroupLP ? std::make_unique&lt;IGroupLPDAGMutation&gt;() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="namespacellvm.html#a163399d5e3302c2eaf73d004cb509191">  435</a></span>&#160;std::unique_ptr&lt;ScheduleDAGMutation&gt; <a class="code" href="namespacellvm.html#a163399d5e3302c2eaf73d004cb509191">createSchedBarrierDAGMutation</a>() {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;SchedBarrierDAGMutation&gt;();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;} <span class="comment">// end namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="anamespacellvm_1_1jitlink_html_a7f121e00dd72c69b63217fbc866d50d6"><div class="ttname"><a href="namespacellvm_1_1jitlink.html#a7f121e00dd72c69b63217fbc866d50d6">llvm::jitlink::link</a></div><div class="ttdeci">void link(std::unique_ptr&lt; LinkGraph &gt; G, std::unique_ptr&lt; JITLinkContext &gt; Ctx)</div><div class="ttdoc">Link the given graph.</div><div class="ttdef"><b>Definition:</b> <a href="JITLink_8cpp_source.html#l00419">JITLink.cpp:419</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00105">IRTranslator.cpp:105</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">llvm::SDep::Artificial</a></div><div class="ttdeci">@ Artificial</div><div class="ttdoc">Arbitrary strong DAG edge (no real dependence).</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00072">ScheduleDAG.h:72</a></div></div>
<div class="ttc" id="aSIMachineFunctionInfo_8h_html"><div class="ttname"><a href="SIMachineFunctionInfo_8h.html">SIMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="aBitmaskEnum_8h_html_a5467fafc9bd99ee2e38518ac3bea3a9d"><div class="ttname"><a href="BitmaskEnum_8h.html#a5467fafc9bd99ee2e38518ac3bea3a9d">LLVM_MARK_AS_BITMASK_ENUM</a></div><div class="ttdeci">#define LLVM_MARK_AS_BITMASK_ENUM(LargestValue)</div><div class="ttdoc">LLVM_MARK_AS_BITMASK_ENUM lets you opt in an individual enum type so you can perform bitwise operatio...</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00041">BitmaskEnum.h:41</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CSKYAttrs_html_a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda"><div class="ttname"><a href="namespacellvm_1_1CSKYAttrs.html#a64948d2d9dff7524f7f896975d31c8f0a8e6ee60ca54587be14556f7d14a1ffda">llvm::CSKYAttrs::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="CSKYAttributes_8h_source.html#l00076">CSKYAttributes.h:76</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ab1e2f11b8950299b0fdbf64db9f15717a25bdad6e13bc9ed9f9ce690ae614db1c"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a25bdad6e13bc9ed9f9ce690ae614db1c">llvm::SIInstrFlags::VALU</a></div><div class="ttdeci">@ VALU</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00030">SIDefines.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01185">SmallVector.h:1185</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00139">CommandLine.h:139</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a86bfa4838cb7e42648615d27c94c8017"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a86bfa4838cb7e42648615d27c94c8017">llvm::ScheduleDAGInstrs::addEdge</a></div><div class="ttdeci">bool addEdge(SUnit *SuccSU, const SDep &amp;PredDep)</div><div class="ttdoc">Add a DAG edge to the given SU with the given predecessor dependence data.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01195">ScheduleDAGInstrs.cpp:1195</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_aab4a86c51e6b126c9c6ef58dbb574431"><div class="ttname"><a href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">llvm::SUnit::Succs</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Succs</div><div class="ttdoc">All sunit successors.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00257">ScheduleDAG.h:257</a></div></div>
<div class="ttc" id="aclassllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GCNSubtarget_html"><div class="ttname"><a href="classllvm_1_1GCNSubtarget.html">llvm::GCNSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="GCNSubtarget_8h_source.html#l00031">GCNSubtarget.h:31</a></div></div>
<div class="ttc" id="aAMDGPUIGroupLP_8h_html"><div class="ttname"><a href="AMDGPUIGroupLP_8h.html">AMDGPUIGroupLP.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01617">STLExtras.h:1617</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a6d3233165db1e6be5c44060cd4a95461"><div class="ttname"><a href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">llvm::SUnit::removePred</a></div><div class="ttdeci">void removePred(const SDep &amp;D)</div><div class="ttdoc">Removes the specified edge as a pred of the current node if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00175">ScheduleDAG.cpp:175</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a7e3e54c1843be55179d4215efe20bb87"><div class="ttname"><a href="namespacellvm_1_1cl.html#a7e3e54c1843be55179d4215efe20bb87">llvm::cl::apply</a></div><div class="ttdeci">void apply(Opt *O, const Mod &amp;M, const Mods &amp;... Ms)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01280">CommandLine.h:1280</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aHexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00125">HexagonCopyToCombine.cpp:125</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="anamespacellvm_html_a6497a581a4f7152729c29a368ac7d7be"><div class="ttname"><a href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">llvm::None</a></div><div class="ttdeci">const NoneType None</div><div class="ttdef"><b>Definition:</b> <a href="None_8h_source.html#l00024">None.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00656">MachineFunction.h:656</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aAMDGPUMCTargetDesc_8h_html"><div class="ttname"><a href="AMDGPUMCTargetDesc_8h.html">AMDGPUMCTargetDesc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSchedModel_html"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html">llvm::TargetSchedModel</a></div><div class="ttdoc">Provide an instruction scheduling machine model to CodeGen passes.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8h_source.html#l00030">TargetSchedule.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="anamespacellvm_html_a163399d5e3302c2eaf73d004cb509191"><div class="ttname"><a href="namespacellvm.html#a163399d5e3302c2eaf73d004cb509191">llvm::createSchedBarrierDAGMutation</a></div><div class="ttdeci">std::unique_ptr&lt; ScheduleDAGMutation &gt; createSchedBarrierDAGMutation()</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUIGroupLP_8cpp_source.html#l00435">AMDGPUIGroupLP.cpp:435</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">llvm::ARM_AM::add</a></div><div class="ttdeci">@ add</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00039">ARMAddressingModes.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_a0727ce4ffb9b167e7ad283259d82b10c"><div class="ttname"><a href="classllvm_1_1SUnit.html#a0727ce4ffb9b167e7ad283259d82b10c">llvm::SUnit::getInstr</a></div><div class="ttdeci">MachineInstr * getInstr() const</div><div class="ttdoc">Returns the representative MachineInstr for this SUnit.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00373">ScheduleDAG.h:373</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00432">CommandLine.h:432</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00853">BitVector.h:853</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_ac384df17605ecce542a6d2567c7f1ee0"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ac384df17605ecce542a6d2567c7f1ee0">llvm::ScheduleDAGInstrs::canAddEdge</a></div><div class="ttdeci">bool canAddEdge(SUnit *SuccSU, SUnit *PredSU)</div><div class="ttdoc">True if an edge can be added from PredSU to SuccSU without creating a cycle.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01191">ScheduleDAGInstrs.cpp:1191</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMI_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMI.html">llvm::ScheduleDAGMI</a></div><div class="ttdoc">ScheduleDAGMI is an implementation of ScheduleDAGInstrs that simply schedules machine instructions ac...</div><div class="ttdef"><b>Definition:</b> <a href="MachineScheduler_8h_source.html#l00273">MachineScheduler.h:273</a></div></div>
<div class="ttc" id="aSIInstrInfo_8h_html"><div class="ttname"><a href="SIInstrInfo_8h.html">SIInstrInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ab1e2f11b8950299b0fdbf64db9f15717a953a5ba3766c4aea8d9b8eeeba722679"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717a953a5ba3766c4aea8d9b8eeeba722679">llvm::SIInstrFlags::DS</a></div><div class="ttdeci">@ DS</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00060">SIDefines.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00491">MachineInstr.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a5a3d3d075a208011a24a0918b58d7daa"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a5a3d3d075a208011a24a0918b58d7daa">llvm::ScheduleDAG::MF</a></div><div class="ttdeci">MachineFunction &amp; MF</div><div class="ttdoc">Machine function.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00559">ScheduleDAG.h:559</a></div></div>
<div class="ttc" id="aBitmaskEnum_8h_html"><div class="ttname"><a href="BitmaskEnum_8h.html">BitmaskEnum.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SIInstrFlags_html_ab1e2f11b8950299b0fdbf64db9f15717ab20a2dd15666d86af4e1fdeb88b1be7c"><div class="ttname"><a href="namespacellvm_1_1SIInstrFlags.html#ab1e2f11b8950299b0fdbf64db9f15717ab20a2dd15666d86af4e1fdeb88b1be7c">llvm::SIInstrFlags::SALU</a></div><div class="ttdeci">@ SALU</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00029">SIDefines.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDep_html"><div class="ttname"><a href="classllvm_1_1SDep.html">llvm::SDep</a></div><div class="ttdoc">Scheduling dependency.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00049">ScheduleDAG.h:49</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAG_html_a3d5aacd5fc7d6a739ce913974ed1e53d"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">llvm::ScheduleDAG::SUnits</a></div><div class="ttdeci">std::vector&lt; SUnit &gt; SUnits</div><div class="ttdoc">The scheduling units.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00561">ScheduleDAG.h:561</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdoc">Iterator for intrusive lists based on ilist_node.</div><div class="ttdef"><b>Definition:</b> <a href="ilist__iterator_8h_source.html#l00057">ilist_iterator.h:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1SIInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SIInstrInfo.html">llvm::SIInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00044">SIInstrInfo.h:44</a></div></div>
<div class="ttc" id="aMachineScheduler_8h_html"><div class="ttname"><a href="MachineScheduler_8h.html">MachineScheduler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a51e547c2283920aa77da2650a8ee3a7aa854d6852fecf9ccbfcb0382ea8046989"><div class="ttname"><a href="namespacellvm.html#a51e547c2283920aa77da2650a8ee3a7aa854d6852fecf9ccbfcb0382ea8046989">llvm::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="Attributor_8h_source.html#l05140">Attributor.h:5140</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html_a1284eca54a89002a4b67f4dfe490736b"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a1284eca54a89002a4b67f4dfe490736b">llvm::ScheduleDAGInstrs::getSchedModel</a></div><div class="ttdeci">const TargetSchedModel * getSchedModel() const</div><div class="ttdoc">Gets the machine model for instruction scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00262">ScheduleDAGInstrs.h:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGMutation_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGMutation.html">llvm::ScheduleDAGMutation</a></div><div class="ttdoc">Mutate the DAG as a postpass after normal DAG building.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGMutation_8h_source.html#l00022">ScheduleDAGMutation.h:22</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00042">APFloat.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html_ae2b43854b542de66eec6475adc48f56c"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">llvm::SUnit::Preds</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Preds</div><div class="ttdoc">All sunit predecessors.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00256">ScheduleDAG.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1SUnit_html"><div class="ttname"><a href="classllvm_1_1SUnit.html">llvm::SUnit</a></div><div class="ttdoc">Scheduling unit. This is a node in the scheduling DAG.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00242">ScheduleDAG.h:242</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00405">CommandLine.h:405</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScheduleDAGInstrs_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html">llvm::ScheduleDAGInstrs</a></div><div class="ttdoc">A ScheduleDAG for scheduling lists of MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00119">ScheduleDAGInstrs.h:119</a></div></div>
<div class="ttc" id="aAMDGPUTargetMachine_8h_html"><div class="ttname"><a href="AMDGPUTargetMachine_8h.html">AMDGPUTargetMachine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00280">MachineBasicBlock.h:280</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71fc5e23072a3c0807e8379f61235248"><div class="ttname"><a href="namespacellvm.html#a71fc5e23072a3c0807e8379f61235248">llvm::createIGroupLPDAGMutation</a></div><div class="ttdeci">std::unique_ptr&lt; ScheduleDAGMutation &gt; createIGroupLPDAGMutation()</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUIGroupLP_8cpp_source.html#l00431">AMDGPUIGroupLP.cpp:431</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 20 2022 07:36:46 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
