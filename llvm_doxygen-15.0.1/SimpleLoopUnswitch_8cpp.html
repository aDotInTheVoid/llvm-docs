<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/SimpleLoopUnswitch.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">15.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SimpleLoopUnswitch.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="SimpleLoopUnswitch_8h_source.html">llvm/Transforms/Scalar/SimpleLoopUnswitch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLExtras_8h_source.html">llvm/ADT/STLExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Sequence_8h_source.html">llvm/ADT/Sequence.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SetVector_8h_source.html">llvm/ADT/SetVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallPtrSet_8h_source.html">llvm/ADT/SmallPtrSet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Twine_8h_source.html">llvm/ADT/Twine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AssumptionCache_8h_source.html">llvm/Analysis/AssumptionCache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Analysis_2CFG_8h_source.html">llvm/Analysis/CFG.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CodeMetrics_8h_source.html">llvm/Analysis/CodeMetrics.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Analysis_2GuardUtils_8h_source.html">llvm/Analysis/GuardUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopAnalysisManager_8h_source.html">llvm/Analysis/LoopAnalysisManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopInfo_8h_source.html">llvm/Analysis/LoopInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopIterator_8h_source.html">llvm/Analysis/LoopIterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopPass_8h_source.html">llvm/Analysis/LoopPass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemorySSA_8h_source.html">llvm/Analysis/MemorySSA.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemorySSAUpdater_8h_source.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MustExecute_8h_source.html">llvm/Analysis/MustExecute.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ScalarEvolution_8h_source.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetTransformInfo_8h_source.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTracking_8h_source.html">llvm/Analysis/ValueTracking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlock_8h_source.html">llvm/IR/BasicBlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constant_8h_source.html">llvm/IR/Constant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstrTypes_8h_source.html">llvm/IR/InstrTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Instruction_8h_source.html">llvm/IR/Instruction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Use_8h_source.html">llvm/IR/Use.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Value_8h_source.html">llvm/IR/Value.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Casting_8h_source.html">llvm/Support/Casting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Support_2ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GenericDomTree_8h_source.html">llvm/Support/GenericDomTree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstructionCost_8h_source.html">llvm/Support/InstructionCost.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopPassManager_8h_source.html">llvm/Transforms/Scalar/LoopPassManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlockUtils_8h_source.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Cloning_8h_source.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Transforms_2Utils_2Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopUtils_8h_source.html">llvm/Transforms/Utils/LoopUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueMapper_8h_source.html">llvm/Transforms/Utils/ValueMapper.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;numeric&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div>
<p><a href="SimpleLoopUnswitch_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;</td></tr>
<tr class="memdesc:ad78e062f62e0d6e453941fb4ca843e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ------&mdash;===//  <a href="SimpleLoopUnswitch_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">More...</a><br /></td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad5b466cbd242079ab18347e5248fd1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ad5b466cbd242079ab18347e5248fd1b9">STATISTIC</a> (NumBranches, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> unswitched&quot;)</td></tr>
<tr class="separator:ad5b466cbd242079ab18347e5248fd1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ab9463ab2f6721ceff43efa0ba37e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ab3ab9463ab2f6721ceff43efa0ba37e5">STATISTIC</a> (NumSwitches, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> switches unswitched&quot;)</td></tr>
<tr class="separator:ab3ab9463ab2f6721ceff43efa0ba37e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825e9b46eaa40a5853a43f520d9b3a9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a825e9b46eaa40a5853a43f520d9b3a9d">STATISTIC</a> (NumGuards, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="GuardWidening_8cpp.html#a402af7f458adf6a0f6122424240fb6c6">guards</a> turned <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> unswitching&quot;)</td></tr>
<tr class="separator:a825e9b46eaa40a5853a43f520d9b3a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e446decc15b9df1996f94f20798fbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#aa6e446decc15b9df1996f94f20798fbf">STATISTIC</a> (NumTrivial, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> unswitches <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> are trivial&quot;)</td></tr>
<tr class="separator:aa6e446decc15b9df1996f94f20798fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91923c5ac786f070c692a9ae19983ecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a91923c5ac786f070c692a9ae19983ecb">STATISTIC</a> (NumCostMultiplierSkipped, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> had their cost multiplier skipped&quot;)</td></tr>
<tr class="separator:a91923c5ac786f070c692a9ae19983ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfbc68a1301890b3e26f80412088df7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a8bfbc68a1301890b3e26f80412088df7">skipTrivialSelect</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="BasicBlockSections_8cpp.html#a5fd0741d696f28faf65b33f6c6af8fda">Cond</a>)</td></tr>
<tr class="separator:a8bfbc68a1301890b3e26f80412088df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8930fb0fdf9652f05ef913e871d83afc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a8930fb0fdf9652f05ef913e871d83afc">collectHomogenousInstGraphLoopInvariants</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Root, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:a8930fb0fdf9652f05ef913e871d83afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect all of the loop invariant input values transitively used by the homogeneous instruction graph from a given root.  <a href="SimpleLoopUnswitch_8cpp.html#a8930fb0fdf9652f05ef913e871d83afc">More...</a><br /></td></tr>
<tr class="separator:a8930fb0fdf9652f05ef913e871d83afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9fd4dde31de51f610a37346b94a1b3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a3c9fd4dde31de51f610a37346b94a1b3">replaceLoopInvariantUses</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Value.html">Value</a> *Invariant, <a class="el" href="classllvm_1_1Constant.html">Constant</a> &amp;Replacement)</td></tr>
<tr class="separator:a3c9fd4dde31de51f610a37346b94a1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af656e8a03b114c6e95656cf9248fbcc2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#af656e8a03b114c6e95656cf9248fbcc2">areLoopExitPHIsLoopInvariant</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitingBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitBB)</td></tr>
<tr class="memdesc:af656e8a03b114c6e95656cf9248fbcc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that all the LCSSA PHI nodes in the loop exit block have trivial incoming values along this edge.  <a href="SimpleLoopUnswitch_8cpp.html#af656e8a03b114c6e95656cf9248fbcc2">More...</a><br /></td></tr>
<tr class="separator:af656e8a03b114c6e95656cf9248fbcc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae042fbd2437f89214278d1abfbcb04ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ae042fbd2437f89214278d1abfbcb04ba">buildPartialUnswitchConditionalBranch</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="el" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; Invariants, bool <a class="el" href="structllvm_1_1Loop_1_1LoopBounds.html#a1c06ad0290f168148c08edc0ce69703f">Direction</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedSucc, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;NormalSucc, bool InsertFreeze, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:ae042fbd2437f89214278d1abfbcb04ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a set of loop invariant values <code>ToDuplicate</code> and insert them at the end of <code>BB</code> and conditionally branch on the copied condition.  <a href="SimpleLoopUnswitch_8cpp.html#ae042fbd2437f89214278d1abfbcb04ba">More...</a><br /></td></tr>
<tr class="separator:ae042fbd2437f89214278d1abfbcb04ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eaf12b7854445670a7b0af3fe87b86c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a0eaf12b7854445670a7b0af3fe87b86c">buildPartialInvariantUnswitchConditionalBranch</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="el" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; ToDuplicate, bool <a class="el" href="structllvm_1_1Loop_1_1LoopBounds.html#a1c06ad0290f168148c08edc0ce69703f">Direction</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedSucc, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;NormalSucc, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a0eaf12b7854445670a7b0af3fe87b86c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a set of loop invariant values, and conditionally branch on them.  <a href="SimpleLoopUnswitch_8cpp.html#a0eaf12b7854445670a7b0af3fe87b86c">More...</a><br /></td></tr>
<tr class="separator:a0eaf12b7854445670a7b0af3fe87b86c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003a854484a7b23c151bc0b3d684e5d9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a003a854484a7b23c151bc0b3d684e5d9">rewritePHINodesForUnswitchedExitBlock</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldExitingBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldPH)</td></tr>
<tr class="memdesc:a003a854484a7b23c151bc0b3d684e5d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the PHI nodes in an unswitched loop exit basic block.  <a href="SimpleLoopUnswitch_8cpp.html#a003a854484a7b23c151bc0b3d684e5d9">More...</a><br /></td></tr>
<tr class="separator:a003a854484a7b23c151bc0b3d684e5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1db01205f9a51a14b99e53e3068da1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a9a1db01205f9a51a14b99e53e3068da1">rewritePHINodesForExitAndUnswitchedBlocks</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldExitingBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldPH, bool FullUnswitch)</td></tr>
<tr class="memdesc:a9a1db01205f9a51a14b99e53e3068da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the PHI nodes in the loop exit basic block and the split off unswitched block.  <a href="SimpleLoopUnswitch_8cpp.html#a9a1db01205f9a51a14b99e53e3068da1">More...</a><br /></td></tr>
<tr class="separator:a9a1db01205f9a51a14b99e53e3068da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8d35023dc30883011a5641eac69d38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#afa8d35023dc30883011a5641eac69d38">hoistLoopToNewParent</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;Preheader, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="memdesc:afa8d35023dc30883011a5641eac69d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hoist the current loop up to the innermost loop containing a remaining exit.  <a href="SimpleLoopUnswitch_8cpp.html#afa8d35023dc30883011a5641eac69d38">More...</a><br /></td></tr>
<tr class="separator:afa8d35023dc30883011a5641eac69d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b291594203b8569136e37e0d34c898"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a52b291594203b8569136e37e0d34c898">getTopMostExitingLoop</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitBB, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="separator:a52b291594203b8569136e37e0d34c898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a6a082aa2e05f44f7dab89e2ff8c582ff">unswitchTrivialBranch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;BI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch a trivial branch if the condition is loop invariant.  <a href="SimpleLoopUnswitch_8cpp.html#a6a082aa2e05f44f7dab89e2ff8c582ff">More...</a><br /></td></tr>
<tr class="separator:a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf6036e1d19c8ba91242af6ec48d40b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#aadf6036e1d19c8ba91242af6ec48d40b">unswitchTrivialSwitch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;<a class="el" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:aadf6036e1d19c8ba91242af6ec48d40b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch a trivial switch if the condition is loop invariant.  <a href="SimpleLoopUnswitch_8cpp.html#aadf6036e1d19c8ba91242af6ec48d40b">More...</a><br /></td></tr>
<tr class="separator:aadf6036e1d19c8ba91242af6ec48d40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050cc2b2d1467ffcad6a825f1141424c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a050cc2b2d1467ffcad6a825f1141424c">unswitchAllTrivialConditions</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a050cc2b2d1467ffcad6a825f1141424c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine scans the loop to find a branch or switch which occurs before any side effects occur.  <a href="SimpleLoopUnswitch_8cpp.html#a050cc2b2d1467ffcad6a825f1141424c">More...</a><br /></td></tr>
<tr class="separator:a050cc2b2d1467ffcad6a825f1141424c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47569c1654efa91fc3f41bf479083b2d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a47569c1654efa91fc3f41bf479083b2d">buildClonedLoopBlocks</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoopPH, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SplitBB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ParentBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnswitchedSuccBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ContinueSuccBB, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt; &amp;DominatingSucc, <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; DominatorTree::UpdateType &gt; &amp;DTUpdates, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a47569c1654efa91fc3f41bf479083b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the cloned blocks for an unswitched copy of the given loop.  <a href="SimpleLoopUnswitch_8cpp.html#a47569c1654efa91fc3f41bf479083b2d">More...</a><br /></td></tr>
<tr class="separator:a47569c1654efa91fc3f41bf479083b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d439f23fc3d66a09285d164b410f71"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a08d439f23fc3d66a09285d164b410f71">cloneLoopNest</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;OrigRootL, <a class="el" href="classllvm_1_1Loop.html">Loop</a> *RootParentL, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:a08d439f23fc3d66a09285d164b410f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively clone the specified loop and all of its children.  <a href="SimpleLoopUnswitch_8cpp.html#a08d439f23fc3d66a09285d164b410f71">More...</a><br /></td></tr>
<tr class="separator:a08d439f23fc3d66a09285d164b410f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5225e90ea8896cab9cda7246af413d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#afe5225e90ea8896cab9cda7246af413d">buildClonedLoops</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;OrigL, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;NonChildClonedLoops)</td></tr>
<tr class="memdesc:afe5225e90ea8896cab9cda7246af413d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the cloned loops of an original loop from unswitching.  <a href="SimpleLoopUnswitch_8cpp.html#afe5225e90ea8896cab9cda7246af413d">More...</a><br /></td></tr>
<tr class="separator:afe5225e90ea8896cab9cda7246af413d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58269ee9c0c1cf7472eac43fec9a806a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a58269ee9c0c1cf7472eac43fec9a806a">deleteDeadClonedBlocks</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::unique_ptr&lt; <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &gt;&gt; VMaps, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="separator:a58269ee9c0c1cf7472eac43fec9a806a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589a3100115428237bbf6e2eb8d1184a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a589a3100115428237bbf6e2eb8d1184a">deleteDeadBlocksFromLoop</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;ExitBlocks, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; DestroyLoopCB)</td></tr>
<tr class="separator:a589a3100115428237bbf6e2eb8d1184a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03988b4954e286d2a38a9c2cf4f4895"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ae03988b4954e286d2a38a9c2cf4f4895">recomputeLoopBlockSet</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:ae03988b4954e286d2a38a9c2cf4f4895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recompute the set of blocks in a loop after unswitching.  <a href="SimpleLoopUnswitch_8cpp.html#ae03988b4954e286d2a38a9c2cf4f4895">More...</a><br /></td></tr>
<tr class="separator:ae03988b4954e286d2a38a9c2cf4f4895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420df5e20ba33303b962d2e91c68c2d8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a420df5e20ba33303b962d2e91c68c2d8">rebuildLoopAfterUnswitch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;HoistedLoops)</td></tr>
<tr class="memdesc:a420df5e20ba33303b962d2e91c68c2d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild a loop after unswitching removes some subset of blocks and edges.  <a href="SimpleLoopUnswitch_8cpp.html#a420df5e20ba33303b962d2e91c68c2d8">More...</a><br /></td></tr>
<tr class="separator:a420df5e20ba33303b962d2e91c68c2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b0f192065386f9e0bc793a08bbf3ff"><td class="memTemplParams" colspan="2">template&lt;typename CallableT &gt; </td></tr>
<tr class="memitem:a18b0f192065386f9e0bc793a08bbf3ff"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a18b0f192065386f9e0bc793a08bbf3ff">visitDomSubTree</a> (<a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="el" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, CallableT Callable)</td></tr>
<tr class="memdesc:a18b0f192065386f9e0bc793a08bbf3ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to visit a dominator subtree, invoking a callable on each node.  <a href="SimpleLoopUnswitch_8cpp.html#a18b0f192065386f9e0bc793a08bbf3ff">More...</a><br /></td></tr>
<tr class="separator:a18b0f192065386f9e0bc793a08bbf3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38ae72046f6e3d0ae5bc14af8eb091d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ab38ae72046f6e3d0ae5bc14af8eb091d">unswitchNontrivialInvariants</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TI, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; Invariants, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;ExitBlocks, <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;PartialIVInfo, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt; UnswitchCB, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; DestroyLoopCB)</td></tr>
<tr class="separator:ab38ae72046f6e3d0ae5bc14af8eb091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a15f5bff768264b9e435e319db18f3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a78a15f5bff768264b9e435e319db18f3">computeDomSubtreeCost</a> (<a class="el" href="namespacellvm.html#a8a23c5711c36f8df78273f5e9c1b0dd3">DomTreeNode</a> &amp;<a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;BBCostMap, <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="namespacellvm.html#a8a23c5711c36f8df78273f5e9c1b0dd3">DomTreeNode</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;DTCostMap)</td></tr>
<tr class="memdesc:a78a15f5bff768264b9e435e319db18f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively compute the cost of a dominator subtree based on the per-block cost map provided.  <a href="SimpleLoopUnswitch_8cpp.html#a78a15f5bff768264b9e435e319db18f3">More...</a><br /></td></tr>
<tr class="separator:a78a15f5bff768264b9e435e319db18f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b78fb3d9d2ee6536f54666e45d448a4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a9b78fb3d9d2ee6536f54666e45d448a4">turnGuardIntoBranch</a> (<a class="el" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *GI, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;ExitBlocks, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a9b78fb3d9d2ee6536f54666e45d448a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns a llvm.experimental.guard intrinsic into implicit control flow branch, making the following replacement:  <a href="SimpleLoopUnswitch_8cpp.html#a9b78fb3d9d2ee6536f54666e45d448a4">More...</a><br /></td></tr>
<tr class="separator:a9b78fb3d9d2ee6536f54666e45d448a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdc1f6ad5822a3194538434e621e777"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a8bdc1f6ad5822a3194538434e621e777">CalculateUnswitchCostMultiplier</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TI, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::pair&lt; <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *, <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&gt;&gt; UnswitchCandidates)</td></tr>
<tr class="memdesc:a8bdc1f6ad5822a3194538434e621e777"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost multiplier is a way to limit potentially exponential behavior of loop-unswitch.  <a href="SimpleLoopUnswitch_8cpp.html#a8bdc1f6ad5822a3194538434e621e777">More...</a><br /></td></tr>
<tr class="separator:a8bdc1f6ad5822a3194538434e621e777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a4aa35abbf7117ce63f0bed575a794"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a78a4aa35abbf7117ce63f0bed575a794">unswitchBestCondition</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt; UnswitchCB, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; DestroyLoopCB)</td></tr>
<tr class="separator:a78a4aa35abbf7117ce63f0bed575a794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae941ef512804d6d0d01269cb4359452b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ae941ef512804d6d0d01269cb4359452b">unswitchLoop</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, bool Trivial, bool NonTrivial, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt; UnswitchCB, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt; DestroyLoopCB)</td></tr>
<tr class="memdesc:ae941ef512804d6d0d01269cb4359452b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch control flow predicated on loop invariant conditions.  <a href="SimpleLoopUnswitch_8cpp.html#ae941ef512804d6d0d01269cb4359452b">More...</a><br /></td></tr>
<tr class="separator:ae941ef512804d6d0d01269cb4359452b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef12384aae5557d7cde7ed7ec8b316cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#aef12384aae5557d7cde7ed7ec8b316cf">INITIALIZE_PASS_BEGIN</a> (SimpleLoopUnswitchLegacyPass, &quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;, &quot;Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> <a class="el" href="lib_2Target_2README_8txt.html#a0ef57109554b0cf54395fcb560f49b5c">loops</a>&quot;, false, <a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>) <a class="el" href="LoadStoreVectorizer_8cpp.html#a45a3f96bc41116cda91360fda4b2e42a">INITIALIZE_PASS_END</a>(SimpleLoopUnswitchLegacyPass</td></tr>
<tr class="separator:aef12384aae5557d7cde7ed7ec8b316cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a69b957f3c2576337637e1d0c03b5fcfd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a69b957f3c2576337637e1d0c03b5fcfd">EnableNonTrivialUnswitch</a> (&quot;enable-nontrivial-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Forcibly enables non-trivial <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> unswitching rather <a class="el" href="lib_2Target_2PowerPC_2README_8txt.html#a8895a2a3113ec14d3ff4ccaae3de69b1">than</a> &quot; &quot;<a class="el" href="lib_2Target_2README_8txt.html#a9026bda84f719fb903ddea83fc478a76">following</a> the configuration passed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> the pass.&quot;))</td></tr>
<tr class="separator:a69b957f3c2576337637e1d0c03b5fcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb6c63e9b08f194fea85f60865b6ab3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#aadb6c63e9b08f194fea85f60865b6ab3">UnswitchThreshold</a> (&quot;unswitch-threshold&quot;, cl::init(50), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;The cost threshold <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> unswitching <a class="el" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> loop.&quot;))</td></tr>
<tr class="separator:aadb6c63e9b08f194fea85f60865b6ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1685ea44674e56b4814a08db0db4b8e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a1685ea44674e56b4814a08db0db4b8e1">EnableUnswitchCostMultiplier</a> (&quot;enable-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-cost-multiplier&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> cost multiplier <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> prohibits exponential &quot; &quot;explosion <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> nontrivial unswitch.&quot;))</td></tr>
<tr class="separator:a1685ea44674e56b4814a08db0db4b8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff76ffdb44a80e714f29a4c0ad7dbb1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#aaff76ffdb44a80e714f29a4c0ad7dbb1">UnswitchSiblingsToplevelDiv</a> (&quot;unswitch-siblings-toplevel-div&quot;, cl::init(2), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Toplevel siblings divisor <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> cost multiplier.&quot;))</td></tr>
<tr class="separator:aaff76ffdb44a80e714f29a4c0ad7dbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6ba327e52c529cbca96d3a7d86581b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a6f6ba327e52c529cbca96d3a7d86581b">UnswitchNumInitialUnscaledCandidates</a> (&quot;unswitch-num-initial-unscaled-candidates&quot;, cl::init(8), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> are ignored when calculating &quot; &quot;cost multiplier.&quot;))</td></tr>
<tr class="separator:a6f6ba327e52c529cbca96d3a7d86581b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de91137533d3d3d20e241656e131edb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a8de91137533d3d3d20e241656e131edb">UnswitchGuards</a> (&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-<a class="el" href="GuardWidening_8cpp.html#a402af7f458adf6a0f6122424240fb6c6">guards</a>&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> unswitching <a class="el" href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a> <a class="el" href="lib_2Target_2README_8txt.html#a00fbe120dd0ce034b4a84296fe00f63b">also</a> <a class="el" href="README-X86-64_8txt.html#a3ec0959fe8dd0bb014aa72790e801a24">consider</a> &quot; &quot;llvm.experimental.guard <a class="el" href="ScalarizeMaskedMemIntrin_8cpp.html#adef27058907244f0699caa1f4961d673">intrinsics</a> <a class="el" href="lib_2Analysis_2README_8txt.html#ac5d2ccdc23be3ff6ac6c6fdcb1a374ea">as</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates.&quot;))</td></tr>
<tr class="separator:a8de91137533d3d3d20e241656e131edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add53e3d271061cec7cbb117cb33e7605"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#add53e3d271061cec7cbb117cb33e7605">DropNonTrivialImplicitNullChecks</a> (&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-drop-non-trivial-implicit-null-<a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a>&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, drop make.implicit <a class="el" href="AMDGPUAnnotateUniformValues_8cpp.html#a3cd36c33be3dfbc64aa6da755a47e6b1">metadata</a> <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> unswitched implicit &quot; &quot;null <a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> save time analyzing <a class="el" href="lib_2Transforms_2Hello_2CMakeLists_8txt.html#adbcb327f5525e7a32d6f5ff698b1ee52">if</a> we <a class="el" href="README-SSE_8txt.html#a4240386010e8ab75256e7fd072800b1a">can</a> keep it.&quot;))</td></tr>
<tr class="separator:add53e3d271061cec7cbb117cb33e7605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b07f8e2b5d1b17b8a2f4f6f91ec25b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a35b07f8e2b5d1b17b8a2f4f6f91ec25b">MSSAThreshold</a> (&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-<a class="el" href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a>-threshold&quot;, cl::desc(&quot;Max number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> memory <a class="el" href="README-SSE_8txt.html#a0cd314eb6ec4d97be014a36348d9dff0">uses</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> explore during &quot; &quot;partial unswitching <a class="el" href="ModuleSummaryAnalysis_8cpp.html#abfa9bcfe6f0180f576c1a8c503ba2a03">analysis</a>&quot;), cl::init(100), cl::Hidden)</td></tr>
<tr class="separator:a35b07f8e2b5d1b17b8a2f4f6f91ec25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e78d143a4adba211b6909a4f3b6b9b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a6e78d143a4adba211b6909a4f3b6b9b0">FreezeLoopUnswitchCond</a> (&quot;freeze-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-cond&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, the <a class="el" href="CanonicalizeFreezeInLoops_8cpp.html#a9680cc81ccaa4506cae9f5369cf5307e">freeze</a> <a class="el" href="README__P9_8txt.html#ad42d1e32234cdae6caf08e2f674ad874">instruction</a> <a class="el" href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a> <a class="el" href="lib_2Target_2X86_2README_8txt.html#afda262d311525ed01d2d1c103db4006d">be</a> added <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> condition &quot; &quot;<a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> prevent miscompilation.&quot;))</td></tr>
<tr class="separator:a6e78d143a4adba211b6909a4f3b6b9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2eb90e35e30b3570578facdc5a34fa8"><td class="memItemLeft" align="right" valign="top">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a></td></tr>
<tr class="separator:ad2eb90e35e30b3570578facdc5a34fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e6ea1ae7de09f2a67f1d4b1d5acbef"><td class="memItemLeft" align="right" valign="top">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#ae1e6ea1ae7de09f2a67f1d4b1d5acbef">loops</a></td></tr>
<tr class="separator:ae1e6ea1ae7de09f2a67f1d4b1d5acbef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572fb0c4c52907b96d454448a32ae7d5"><td class="memItemLeft" align="right" valign="top">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SimpleLoopUnswitch_8cpp.html#a572fb0c4c52907b96d454448a32ae7d5">false</a></td></tr>
<tr class="separator:a572fb0c4c52907b96d454448a32ae7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ------&mdash;===// </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00066">66</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af656e8a03b114c6e95656cf9248fbcc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af656e8a03b114c6e95656cf9248fbcc2">&#9670;&nbsp;</a></span>areLoopExitPHIsLoopInvariant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool areLoopExitPHIsLoopInvariant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>ExitingBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>ExitBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that all the LCSSA PHI nodes in the loop exit block have trivial incoming values along this edge. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00195">195</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00060">llvm::Loop::isLoopInvariant()</a>, and <a class="el" href="Support_2ErrorHandling_8h_source.html#l00143">llvm_unreachable</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="a47569c1654efa91fc3f41bf479083b2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47569c1654efa91fc3f41bf479083b2d">&#9670;&nbsp;</a></span>buildClonedLoopBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a>* buildClonedLoopBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>LoopPH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>SplitBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>ParentBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>UnswitchedSuccBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>ContinueSuccBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt; &amp;&#160;</td>
          <td class="paramname"><em>DominatingSucc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;&#160;</td>
          <td class="paramname"><em>VMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; DominatorTree::UpdateType &gt; &amp;&#160;</td>
          <td class="paramname"><em>DTUpdates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the cloned blocks for an unswitched copy of the given loop. </p>
<p>The cloned blocks are inserted before the loop preheader (<code>LoopPH</code>) and after the split block (<code>SplitBB</code>) that will be used to select between the cloned and original loop.</p>
<p>This routine handles cloning all of the necessary loop blocks and exit blocks including rewriting their instructions and the relevant PHI nodes. Any loop blocks or exit blocks which are dominated by a different successor than the one for this clone of the loop blocks can be trivially skipped. We use the <code>DominatingSucc</code> map to determine whether a block satisfies that property with a simple map lookup.</p>
<p>It also correctly creates the unconditional branch in the cloned unswitched parent block to only point at the unswitched successor.</p>
<p>This does not handle most of the necessary updates to <code>LoopInfo</code>. Only exit block splitting is correctly reflected in <code>LoopInfo</code>, essentially all of the cloned blocks (and their loops) are left without full <code>LoopInfo</code> updates. This also doesn't fully update <code>DominatorTree</code>. It adds the cloned blocks to them but doesn't create the cloned <code>DominatorTree</code> structure and instead the caller must recompute an accurate DT. It <em>does</em> correctly update the <code>AssumptionCache</code> provided in <code>AC</code>. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01094">1094</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00095">llvm::SmallPtrSetImplBase::clear()</a>, <a class="el" href="CloneFunction_8cpp_source.html#l00041">llvm::CloneBasicBlock()</a>, <a class="el" href="Instructions_8h_source.html#l02706">llvm::PHINode::Create()</a>, <a class="el" href="Instructions_8h_source.html#l03155">llvm::BranchInst::Create()</a>, <a class="el" href="DenseMap_8h_source.html#l00084">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00077">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="DenseMap_8h_source.html#l00152">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find()</a>, <a class="el" href="LoopInfo_8h_source.html#l00201">llvm::LoopBase&lt; BlockT, LoopT &gt;::getNumBlocks()</a>, <a class="el" href="lib_2Target_2README_8txt_source.html#l00029">i</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="GenericDomTree_8h_source.html#l00242">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Insert</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="ValueMap_8h_source.html#l00165">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="iterator__range_8h_source.html#l00053">llvm::make_range()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00136">llvm::BasicBlock::moveBefore()</a>, <a class="el" href="Local_8cpp_source.html#l00518">llvm::RecursivelyDeleteTriviallyDeadInstructions()</a>, <a class="el" href="AssumptionCache_8cpp_source.html#l00224">llvm::AssumptionCache::registerAssumption()</a>, <a class="el" href="ValueMapper_8h_source.html#l00254">llvm::RemapInstruction()</a>, <a class="el" href="SmallVector_8h_source.html#l00644">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="ValueMapper_8h_source.html#l00089">llvm::RF_IgnoreMissingLocals</a>, <a class="el" href="ValueMapper_8h_source.html#l00071">llvm::RF_NoModuleLevelChanges</a>, <a class="el" href="PassBuilderBindings_8cpp.html#a0f79dad1efc582555a443cc11a8fa401">SI</a>, <a class="el" href="ArrayRef_8h_source.html#l00164">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00837">llvm::SplitBlock()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>, and <a class="el" href="STLExtras_8h_source.html#l00785">llvm::zip_first()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="afe5225e90ea8896cab9cda7246af413d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5225e90ea8896cab9cda7246af413d">&#9670;&nbsp;</a></span>buildClonedLoops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildClonedLoops </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>OrigL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;&#160;</td>
          <td class="paramname"><em>VMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>NonChildClonedLoops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the cloned loops of an original loop from unswitching. </p>
<p>Because unswitching simplifies the CFG of the loop, this isn't a trivial operation. We need to re-verify that there even is a loop (as the backedge may not have been cloned), and even if there are remaining backedges the backedge set may be different. However, we know that each child loop is undisturbed, we only need to find where to place each child loop within either any parent loop or within a cloned version of the original loop.</p>
<p>Because child loops may end up cloned outside of any cloned version of the original loop, multiple cloned sibling loops may be created. All of them are returned so that the newly introduced loop nest roots can be identified. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01337">1337</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfoImpl_8h_source.html#l00241">llvm::LoopBase&lt; BlockT, LoopT &gt;::addBasicBlockToLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l00411">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l01046">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l00953">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::AllocateLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01278">cloneLoopNest()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="DenseMap_8h_source.html#l00147">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count()</a>, <a class="el" href="ValueMap_8h_source.html#l00152">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::count()</a>, <a class="el" href="SetVector_8h_source.html#l00215">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00383">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00092">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00379">llvm::SmallPtrSetImpl&lt; PtrType &gt;::erase()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00096">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopDepth()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="SetVector_8h_source.html#l00141">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert()</a>, <a class="el" href="DenseMap_8h_source.html#l00209">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="X86PartialReduction_8cpp_source.html#l00075">LHS</a>, <a class="el" href="ValueMap_8h_source.html#l00165">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="DenseMap_8h_source.html#l00199">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::lookup()</a>, <a class="el" href="ArrayRef_8h_source.html#l00475">llvm::makeArrayRef()</a>, <a class="el" href="AArch64BaseInfo_8h_source.html#l00260">llvm::AArch64CC::PL</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00030">llvm::predecessors()</a>, <a class="el" href="SmallVector_8h_source.html#l00644">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="LoopInfo_8h_source.html#l00452">llvm::LoopBase&lt; BlockT, LoopT &gt;::reserveBlocks()</a>, <a class="el" href="X86PartialReduction_8cpp_source.html#l00076">RHS</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00093">llvm::SmallPtrSetImplBase::size()</a>, <a class="el" href="ArrayRef_8h_source.html#l00164">llvm::ArrayRef&lt; T &gt;::size()</a>, and <a class="el" href="STLExtras_8h_source.html#l01562">llvm::sort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a0eaf12b7854445670a7b0af3fe87b86c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eaf12b7854445670a7b0af3fe87b86c">&#9670;&nbsp;</a></span>buildPartialInvariantUnswitchConditionalBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildPartialInvariantUnswitchConditionalBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>ToDuplicate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>UnswitchedSucc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>NormalSucc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a set of loop invariant values, and conditionally branch on them. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00234">234</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="MemorySSA_8h_source.html#l00802">llvm::MemorySSA::BeforeTerminator</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00862">llvm::Instruction::clone()</a>, <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="IRBuilder_8h_source.html#l00990">llvm::IRBuilderBase::CreateCondBr()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01429">llvm::MemorySSAUpdater::createMemoryAccessInBB()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="MemorySSA_8h_source.html#l00731">llvm::MemorySSA::getMemoryAccess()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="ValueMapper_8h_source.html#l00254">llvm::RemapInstruction()</a>, <a class="el" href="STLExtras_8h_source.html#l00380">llvm::reverse()</a>, <a class="el" href="ValueMapper_8h_source.html#l00089">llvm::RF_IgnoreMissingLocals</a>, and <a class="el" href="ValueMapper_8h_source.html#l00071">llvm::RF_NoModuleLevelChanges</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="ae042fbd2437f89214278d1abfbcb04ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae042fbd2437f89214278d1abfbcb04ba">&#9670;&nbsp;</a></span>buildPartialUnswitchConditionalBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildPartialUnswitchConditionalBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>Invariants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>UnswitchedSucc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>NormalSucc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>InsertFreeze</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a set of loop invariant values <code>ToDuplicate</code> and insert them at the end of <code>BB</code> and conditionally branch on the copied condition. </p>
<p>We only branch on a single value. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00214">214</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="IRBuilder_8h_source.html#l01348">llvm::IRBuilderBase::CreateAnd()</a>, <a class="el" href="IRBuilder_8h_source.html#l00990">llvm::IRBuilderBase::CreateCondBr()</a>, <a class="el" href="IRBuilder_8h_source.html#l02351">llvm::IRBuilderBase::CreateFreeze()</a>, <a class="el" href="IRBuilder_8h_source.html#l01370">llvm::IRBuilderBase::CreateOr()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="ValueTracking_8cpp_source.html#l05390">llvm::isGuaranteedNotToBeUndefOrPoison()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a8bdc1f6ad5822a3194538434e621e777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bdc1f6ad5822a3194538434e621e777">&#9670;&nbsp;</a></span>CalculateUnswitchCostMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a> CalculateUnswitchCostMultiplier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>TI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::pair&lt; <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *, <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&gt;&gt;&#160;</td>
          <td class="paramname"><em>UnswitchCandidates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cost multiplier is a way to limit potentially exponential behavior of loop-unswitch. </p>
<p>Cost is multipied in proportion of 2^number of unswitch candidates available. Also accounting for the number of "sibling" loops with the idea to account for previous unswitches that already happened on this cluster of loops. There was an attempt to keep this formula simple, just enough to limit the worst case behavior. Even if it is not that simple now it is still not an attempt to provide a detailed heuristic size prediction.</p>
<p>TODO: Make a proper accounting of "explosion" effect for all kinds of unswitch candidates, making adequate predictions instead of wild guesses. That requires knowing not just the number of "remaining" candidates but also costs of unswitching for each of these candidates. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02653">2653</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfo_8h_source.html#l00964">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::begin()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="STLExtras_8h_source.html#l01716">llvm::count_if()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="LoopInfo_8h_source.html#l00965">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::end()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00215">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopLatch()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="MathExtras_8h_source.html#l00623">llvm::Log2_32()</a>, <a class="el" href="FileCheck_8cpp_source.html#l00337">llvm::max()</a>, <a class="el" href="FileCheck_8cpp_source.html#l00357">llvm::min()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a6f6ba327e52c529cbca96d3a7d86581b">UnswitchNumInitialUnscaledCandidates</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#aaff76ffdb44a80e714f29a4c0ad7dbb1">UnswitchSiblingsToplevelDiv</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp.html#aadb6c63e9b08f194fea85f60865b6ab3">UnswitchThreshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a08d439f23fc3d66a09285d164b410f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d439f23fc3d66a09285d164b410f71">&#9670;&nbsp;</a></span>cloneLoopNest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Loop.html">Loop</a>* cloneLoopNest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>OrigRootL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>RootParentL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &amp;&#160;</td>
          <td class="paramname"><em>VMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively clone the specified loop and all of its children. </p>
<p>The target parent loop for the clone should be provided, or can be null if the clone is a top-level loop. While cloning, all the blocks are mapped with the provided value map. The entire original loop must be present in the value map. The cloned loop is returned. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01278">1278</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfo_8h_source.html#l00411">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l01046">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l00953">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::AllocateLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="LoopInfo_8h_source.html#l01027">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00201">llvm::LoopBase&lt; BlockT, LoopT &gt;::getNumBlocks()</a>, <a class="el" href="LoopInfo_8h_source.html#l00181">llvm::LoopBase&lt; BlockT, LoopT &gt;::isInnermost()</a>, <a class="el" href="ValueMap_8h_source.html#l00165">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, and <a class="el" href="STLExtras_8h_source.html#l00380">llvm::reverse()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01337">buildClonedLoops()</a>.</p>

</div>
</div>
<a id="a8930fb0fdf9652f05ef913e871d83afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8930fb0fdf9652f05ef913e871d83afc">&#9670;&nbsp;</a></span>collectHomogenousInstGraphLoopInvariants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt;<a class="el" href="classllvm_1_1Value.html">Value</a> *&gt; collectHomogenousInstGraphLoopInvariants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>Root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect all of the loop invariant input values transitively used by the homogeneous instruction graph from a given root. </p>
<p>This essentially walks from a root recursively through loop variant operands which have perform the same logical operation (AND or OR) and finds all inputs which are loop invariant. For some operations these can be re-associated and unswitched out of the loop entirely. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00136">136</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00060">llvm::Loop::isLoopInvariant()</a>, <a class="el" href="PatternMatch_8h_source.html#l02537">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l02555">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00244">llvm::TinyPtrVector&lt; EltTy &gt;::push_back()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">skipTrivialSelect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a78a15f5bff768264b9e435e319db18f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a15f5bff768264b9e435e319db18f3">&#9670;&nbsp;</a></span>computeDomSubtreeCost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a> computeDomSubtreeCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#a8a23c5711c36f8df78273f5e9c1b0dd3">DomTreeNode</a> &amp;&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>BBCostMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="namespacellvm.html#a8a23c5711c36f8df78273f5e9c1b0dd3">DomTreeNode</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>DTCostMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively compute the cost of a dominator subtree based on the per-block cost map provided. </p>
<p>The recursive computation is memozied into the provided DT-indexed cost map to allow querying it for most nodes in the domtree without it becoming quadratic. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02527">2527</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="DenseMap_8h_source.html#l00084">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end()</a>, <a class="el" href="DenseMap_8h_source.html#l00152">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find()</a>, <a class="el" href="DenseMap_8h_source.html#l00209">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::insert()</a>, and <a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a589a3100115428237bbf6e2eb8d1184a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589a3100115428237bbf6e2eb8d1184a">&#9670;&nbsp;</a></span>deleteDeadBlocksFromLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deleteDeadBlocksFromLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt;&#160;</td>
          <td class="paramname"><em>DestroyLoopCB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01617">1617</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00667">llvm::SmallVectorImpl&lt; T &gt;::append()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="SetVector_8h_source.html#l00215">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::count()</a>, <a class="el" href="LoopInfo_8h_source.html#l01093">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::destroy()</a>, <a class="el" href="STLExtras_8h_source.html#l01807">llvm::erase_if()</a>, <a class="el" href="LoopInfo_8h_source.html#l00888">llvm::Loop::getName()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l00163">llvm::LoopBase&lt; BlockT, LoopT &gt;::getSubLoopsVector()</a>, <a class="el" href="SetVector_8h_source.html#l00141">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert()</a>, <a class="el" href="Dominators_8cpp_source.html#l00335">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01372">llvm::MemorySSAUpdater::removeBlocks()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00318">llvm::BasicBlock::removePredecessor()</a>, and <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a58269ee9c0c1cf7472eac43fec9a806a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58269ee9c0c1cf7472eac43fec9a806a">&#9670;&nbsp;</a></span>deleteDeadClonedBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deleteDeadClonedBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::unique_ptr&lt; <a class="el" href="namespacellvm.html#ac085d05c4167c44293064de287ceae55">ValueToValueMapTy</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>VMaps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01587">1587</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="Dominators_8cpp_source.html#l00335">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01372">llvm::MemorySSAUpdater::removeBlocks()</a>, and <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a52b291594203b8569136e37e0d34c898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b291594203b8569136e37e0d34c898">&#9670;&nbsp;</a></span>getTopMostExitingLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Loop.html">Loop</a>* getTopMostExitingLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>ExitBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00421">421</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, and <a class="el" href="LoopInfo_8h_source.html#l00241">llvm::LoopBase&lt; BlockT, LoopT &gt;::isLoopExiting()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="afa8d35023dc30883011a5641eac69d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa8d35023dc30883011a5641eac69d38">&#9670;&nbsp;</a></span>hoistLoopToNewParent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void hoistLoopToNewParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>Preheader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hoist the current loop up to the innermost loop containing a remaining exit. </p>
<p>Because we've removed an exit from the loop, we may have changed the set of loops reachable and need to move the current loop up the loop nest or even to an entirely separate nest. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00350">350</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfo_8h_source.html#l00411">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l01046">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="LoopInfo_8h_source.html#l01027">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="STLExtras_8h_source.html#l01807">llvm::erase_if()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l00057">llvm::formDedicatedExitBlocks()</a>, <a class="el" href="LCSSA_8cpp_source.html#l00335">llvm::formLCSSA()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00061">llvm::LoopBase&lt; BlockT, LoopT &gt;::getExitBlocks()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, and <a class="el" href="LoopInfo_8h_source.html#l00420">llvm::LoopBase&lt; BlockT, LoopT &gt;::removeChildLoop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="aef12384aae5557d7cde7ed7ec8b316cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef12384aae5557d7cde7ed7ec8b316cf">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">SimpleLoopUnswitchLegacyPass&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> <a class="el" href="lib_2Target_2README_8txt.html#a0ef57109554b0cf54395fcb560f49b5c">loops</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a420df5e20ba33303b962d2e91c68c2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420df5e20ba33303b962d2e91c68c2d8">&#9670;&nbsp;</a></span>rebuildLoopAfterUnswitch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rebuildLoopAfterUnswitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>HoistedLoops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild a loop after unswitching removes some subset of blocks and edges. </p>
<p>The removal may have removed some child loops entirely but cannot have disturbed any remaining child loops. However, they may need to be hoisted to the parent loop (or to be top-level loops). The original loop may be completely removed.</p>
<p>The sibling loops resulting from this update are returned. If the original loop remains a valid loop, it will be the first entry in this list with all of the newly sibling loops following it.</p>
<p>Returns true if the loop remains a loop after unswitching, and false if it is no longer a loop after unswitching (and should not continue to be referenced). </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01819">1819</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfo_8h_source.html#l00411">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l01046">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="LoopInfo_8h_source.html#l01027">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="LoopInfo_8h_source.html#l01093">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::destroy()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00092">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00379">llvm::SmallPtrSetImpl&lt; PtrType &gt;::erase()</a>, <a class="el" href="STLExtras_8h_source.html#l01807">llvm::erase_if()</a>, <a class="el" href="STLExtras_8h_source.html#l01637">llvm::find()</a>, <a class="el" href="LoopInfo_8h_source.html#l00214">llvm::LoopBase&lt; BlockT, LoopT &gt;::getBlocksSet()</a>, <a class="el" href="LoopInfo_8h_source.html#l00208">llvm::LoopBase&lt; BlockT, LoopT &gt;::getBlocksVector()</a>, <a class="el" href="LoopInfo_8h_source.html#l00996">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopDepth()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l00163">llvm::LoopBase&lt; BlockT, LoopT &gt;::getSubLoopsVector()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="X86PartialReduction_8cpp_source.html#l00075">LHS</a>, <a class="el" href="iterator__range_8h_source.html#l00053">llvm::make_range()</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00030">llvm::predecessors()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01708">recomputeLoopBlockSet()</a>, <a class="el" href="LoopInfo_8h_source.html#l00420">llvm::LoopBase&lt; BlockT, LoopT &gt;::removeChildLoop()</a>, <a class="el" href="LoopInfo_8h_source.html#l01016">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::removeLoop()</a>, <a class="el" href="SmallVector_8h_source.html#l00644">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="X86PartialReduction_8cpp_source.html#l00076">RHS</a>, <a class="el" href="ArrayRef_8h_source.html#l00164">llvm::ArrayRef&lt; T &gt;::size()</a>, and <a class="el" href="STLExtras_8h_source.html#l01761">llvm::stable_sort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="ae03988b4954e286d2a38a9c2cf4f4895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae03988b4954e286d2a38a9c2cf4f4895">&#9670;&nbsp;</a></span>recomputeLoopBlockSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt;<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16&gt; recomputeLoopBlockSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recompute the set of blocks in a loop after unswitching. </p>
<p>This walks from the original headers predecessors to rebuild the loop. We take advantage of the fact that new blocks can't have been added, and so we filter by the original loop's blocks. This also handles potentially unreachable code that we don't want to explore but might be found examining the predecessors of the header.</p>
<p>If the original loop is no longer a loop, this will return an empty set. If it remains a loop, all the blocks within it will be added to the set (including those blocks in inner loops). </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01708">1708</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00383">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00092">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, and <a class="el" href="MachineSSAContext_8h_source.html#l00030">llvm::predecessors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01819">rebuildLoopAfterUnswitch()</a>.</p>

</div>
</div>
<a id="a3c9fd4dde31de51f610a37346b94a1b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c9fd4dde31de51f610a37346b94a1b3">&#9670;&nbsp;</a></span>replaceLoopInvariantUses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceLoopInvariantUses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Invariant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Constant.html">Constant</a> &amp;&#160;</td>
          <td class="paramname"><em>Replacement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">178</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, and <a class="el" href="STLExtras_8h_source.html#l00618">llvm::make_early_inc_range()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a9a1db01205f9a51a14b99e53e3068da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1db01205f9a51a14b99e53e3068da1">&#9670;&nbsp;</a></span>rewritePHINodesForExitAndUnswitchedBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rewritePHINodesForExitAndUnswitchedBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>ExitBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>UnswitchedBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>OldExitingBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>OldPH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>FullUnswitch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite the PHI nodes in the loop exit basic block and the split off unswitched block. </p>
<p>Because the exit block remains an exit from the loop, this rewrites the LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI nodes into the unswitched basic block to select between the value in the old preheader and the loop exit. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00305">305</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BasicBlock_8h_source.html#l00297">llvm::BasicBlock::begin()</a>, <a class="el" href="Instructions_8h_source.html#l02706">llvm::PHINode::Create()</a>, <a class="el" href="lib_2Target_2README_8txt_source.html#l00029">i</a>, <a class="el" href="BasicBlock_8h_source.html#l00355">llvm::BasicBlock::phis()</a>, and <a class="el" href="Value_8cpp_source.html#l00529">llvm::Value::replaceAllUsesWith()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="a003a854484a7b23c151bc0b3d684e5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003a854484a7b23c151bc0b3d684e5d9">&#9670;&nbsp;</a></span>rewritePHINodesForUnswitchedExitBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rewritePHINodesForUnswitchedExitBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>UnswitchedBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>OldExitingBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>OldPH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite the PHI nodes in an unswitched loop exit basic block. </p>
<p>Requires that the loop exit and unswitched basic block are the same, and that the exiting block was a unique predecessor of that block. Rewrites the PHI nodes in that block such that what were LCSSA PHI nodes become trivial PHI nodes from the old preheader that now contains the unswitched terminator. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00283">283</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2Target_2README_8txt_source.html#l00029">i</a>, and <a class="el" href="BasicBlock_8h_source.html#l00355">llvm::BasicBlock::phis()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="a8bfbc68a1301890b3e26f80412088df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bfbc68a1301890b3e26f80412088df7">&#9670;&nbsp;</a></span>skipTrivialSelect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a>* skipTrivialSelect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Cond</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">121</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="PatternMatch_8h_source.html#l00517">llvm::PatternMatch::m_One()</a>, <a class="el" href="PatternMatch_8h_source.html#l01462">llvm::PatternMatch::m_Select()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00537">llvm::PatternMatch::m_Zero()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00136">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00975">unswitchAllTrivialConditions()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="ad5b466cbd242079ab18347e5248fd1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b466cbd242079ab18347e5248fd1b9">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumBranches&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> unswitched&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91923c5ac786f070c692a9ae19983ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91923c5ac786f070c692a9ae19983ecb">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCostMultiplierSkipped&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> had their cost multiplier skipped&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a825e9b46eaa40a5853a43f520d9b3a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825e9b46eaa40a5853a43f520d9b3a9d">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumGuards&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="GuardWidening_8cpp.html#a402af7f458adf6a0f6122424240fb6c6">guards</a> turned <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> unswitching&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab3ab9463ab2f6721ceff43efa0ba37e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ab9463ab2f6721ceff43efa0ba37e5">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumSwitches&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> switches unswitched&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6e446decc15b9df1996f94f20798fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e446decc15b9df1996f94f20798fbf">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumTrivial&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> unswitches <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> are trivial&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b78fb3d9d2ee6536f54666e45d448a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b78fb3d9d2ee6536f54666e45d448a4">&#9670;&nbsp;</a></span>turnGuardIntoBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a>* turnGuardIntoBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *&#160;</td>
          <td class="paramname"><em>GI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns a llvm.experimental.guard intrinsic into implicit control flow branch, making the following replacement: </p>
<p>&ndash;code before guard&ndash; call void (i1, ...) @llvm.experimental.guard(i1 cond) [ "deopt"() ] &ndash;code after guard&ndash;</p>
<p>into</p>
<p>&ndash;code before guard&ndash; br i1 cond, label guarded, label deopt</p>
<p>guarded: &ndash;code after guard&ndash;</p>
<p>deopt: call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ] unreachable</p>
<p>It also makes all relevant DT and LI updates, so that all structures are in valid state after this transform. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02577">2577</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="LoopInfoImpl_8h_source.html#l00241">llvm::LoopBase&lt; BlockT, LoopT &gt;::addBasicBlockToLoop()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00544">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="MemorySSA_8h_source.html#l00802">llvm::MemorySSA::BeforeTerminator</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00243">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Delete</a>, <a class="el" href="InstrTypes_8h_source.html#l01341">llvm::CallBase::getArgOperand()</a>, <a class="el" href="Value_8cpp_source.html#l00991">llvm::Value::getContext()</a>, <a class="el" href="Constants_8cpp_source.html#l00834">llvm::ConstantInt::getFalse()</a>, <a class="el" href="MemorySSA_8h_source.html#l00731">llvm::MemorySSA::getMemoryAccess()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="Instructions_8h_source.html#l03192">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00242">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Insert</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01247">llvm::MemorySSAUpdater::moveAllAfterSpliceBlocks()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00096">llvm::Instruction::moveBefore()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01200">llvm::MemorySSAUpdater::moveToPlace()</a>, <a class="el" href="InstrTypes_8h_source.html#l01346">llvm::CallBase::setArgOperand()</a>, <a class="el" href="Value_8cpp_source.html#l00372">llvm::Value::setName()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01444">llvm::SplitBlockAndInsertIfThen()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>, <a class="el" href="Instructions_8cpp_source.html#l01324">llvm::BranchInst::swapSuccessors()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l01906">llvm::MemorySSA::verifyMemorySSA()</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l00091">llvm::VerifyMemorySSA</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a050cc2b2d1467ffcad6a825f1141424c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050cc2b2d1467ffcad6a825f1141424c">&#9670;&nbsp;</a></span>unswitchAllTrivialConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool unswitchAllTrivialConditions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine scans the loop to find a branch or switch which occurs before any side effects occur. </p>
<p>These can potentially be unswitched without duplicating the loop. If a branch or switch is successfully unswitched the scanning continues to see if subsequent branches or switches have become trivial. Once all trivial candidates have been unswitched, this routine returns.</p>
<p>The return value indicates whether anything was unswitched (and therefore changed).</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00975">975</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01624">llvm::any_of()</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="MemorySSA_8h_source.html#l00779">llvm::MemorySSA::getBlockDefs()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="PassBuilderBindings_8cpp.html#a0f79dad1efc582555a443cc11a8fa401">SI</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">skipTrivialSelect()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">unswitchTrivialSwitch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03042">unswitchLoop()</a>.</p>

</div>
</div>
<a id="a78a4aa35abbf7117ce63f0bed575a794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a4aa35abbf7117ce63f0bed575a794">&#9670;&nbsp;</a></span>unswitchBestCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool unswitchBestCondition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;&#160;</td>
          <td class="paramname"><em>AA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt;&#160;</td>
          <td class="paramname"><em>UnswitchCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt;&#160;</td>
          <td class="paramname"><em>DestroyLoopCB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">2725</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01617">llvm::all_of()</a>, <a class="el" href="STLExtras_8h_source.html#l01624">llvm::any_of()</a>, <a class="el" href="STLExtras_8h_source.html#l01823">llvm::append_range()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00194">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02653">CalculateUnswitchCostMultiplier()</a>, <a class="el" href="CodeMetrics_8cpp_source.html#l00070">llvm::CodeMetrics::collectEphemeralValues()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00136">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02527">computeDomSubtreeCost()</a>, <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="CostModel_8cpp.html#a263d4048026a7c0a91393b998181f16e">CostKind</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00383">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00163">llvm::TinyPtrVector&lt; EltTy &gt;::empty()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a1685ea44674e56b4814a08db0db4b8e1">EnableUnswitchCostMultiplier</a>, <a class="el" href="LoopInfo_8cpp_source.html#l01039">llvm::findOptionMDForLoop()</a>, <a class="el" href="Instructions_8h_source.html#l03180">llvm::BranchInst::getCondition()</a>, <a class="el" href="Module_8cpp_source.html#l00175">llvm::Module::getFunction()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="Function_8cpp_source.html#l00882">llvm::Intrinsic::getName()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="BasicBlock_8h_source.html#l00104">llvm::BasicBlock::getParent()</a>, <a class="el" href="GlobalValue_8h_source.html#l00636">llvm::GlobalValue::getParent()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00121">llvm::LoopBase&lt; BlockT, LoopT &gt;::getUniqueExitBlocks()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00224">llvm::TargetTransformInfo::getUserCost()</a>, <a class="el" href="Function_8h_source.html#l00661">llvm::Function::hasMinSize()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l01708">llvm::hasPartialIVCondition()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="CSEInfo_8cpp_source.html#l00027">Info</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="LoopUtils_8h_source.html#l00521">llvm::IVConditionInfo::InstToDuplicate</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00060">llvm::Loop::isLoopInvariant()</a>, <a class="el" href="Constants_8cpp_source.html#l00110">llvm::Constant::isOneValue()</a>, <a class="el" href="LoopUtils_8h_source.html#l00524">llvm::IVConditionInfo::KnownValue</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l00218">llvm::PatternMatch::m_CombineOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l02537">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l02555">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="lib_2Target_2ARM_2README_8txt_source.html#l00546">move</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a35b07f8e2b5d1b17b8a2f4f6f91ec25b">MSSAThreshold</a>, <a class="el" href="LoopIterator_8h_source.html#l00180">llvm::LoopBlocksRPO::perform()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00030">llvm::predecessors()</a>, <a class="el" href="PassBuilderBindings_8cpp.html#a0f79dad1efc582555a443cc11a8fa401">SI</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00093">llvm::SmallPtrSetImplBase::size()</a>, <a class="el" href="ArrayRef_8h_source.html#l00164">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">skipTrivialSelect()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00029">llvm::successors()</a>, <a class="el" href="TargetTransformInfo_8h_source.html#l00217">llvm::TargetTransformInfo::TCK_CodeSize</a>, <a class="el" href="TargetTransformInfo_8h_source.html#l00218">llvm::TargetTransformInfo::TCK_SizeAndLatency</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02577">turnGuardIntoBranch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a8de91137533d3d3d20e241656e131edb">UnswitchGuards</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp.html#aadb6c63e9b08f194fea85f60865b6ab3">UnswitchThreshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03042">unswitchLoop()</a>.</p>

</div>
</div>
<a id="ae941ef512804d6d0d01269cb4359452b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae941ef512804d6d0d01269cb4359452b">&#9670;&nbsp;</a></span>unswitchLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool unswitchLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;&#160;</td>
          <td class="paramname"><em>AA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Trivial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>NonTrivial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt;&#160;</td>
          <td class="paramname"><em>UnswitchCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt;&#160;</td>
          <td class="paramname"><em>DestroyLoopCB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch control flow predicated on loop invariant conditions. </p>
<p>This first hoists all branches or switches which are trivial (IE, do not require duplicating any part of the loop) out of the loop body. It then looks at other loop invariant control flows and tries to unswitch those as well by cloning the loop if the result is small enough.</p>
<p>The <code>DT</code>, <code>LI</code>, <code>AC</code>, <code><a class="el" href="namespaceAA.html">AA</a></code>, <code>TTI</code> parameters are required analyses that are also updated based on the unswitch. The <code>MSSA</code> analysis is also updated if valid (i.e. its use is enabled).</p>
<p>If either <code>NonTrivial</code> is true or the flag <code>EnableNonTrivialUnswitch</code> is true, we will attempt to do non-trivial unswitching as well as trivial unswitching.</p>
<p>The <code>UnswitchCB</code> callback provided will be run after unswitching is complete, with the first parameter set to <code>true</code> if the provided loop remains a loop, and a list of new sibling loops created.</p>
<p>If <code>SE</code> is non-null, we will update that analysis based on the unswitching done. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03042">3042</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a69b957f3c2576337637e1d0c03b5fcfd">EnableNonTrivialUnswitch</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="BasicBlock_8h_source.html#l00104">llvm::BasicBlock::getParent()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00237">llvm::TargetTransformInfo::hasBranchDivergence()</a>, <a class="el" href="Function_8h_source.html#l00664">llvm::Function::hasOptSize()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00475">llvm::Loop::isLoopSimplifyForm()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00465">llvm::Loop::isRecursivelyLCSSAForm()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00482">llvm::Loop::isSafeToClone()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00975">unswitchAllTrivialConditions()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03103">llvm::SimpleLoopUnswitchPass::run()</a>.</p>

</div>
</div>
<a id="ab38ae72046f6e3d0ae5bc14af8eb091d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38ae72046f6e3d0ae5bc14af8eb091d">&#9670;&nbsp;</a></span>unswitchNontrivialInvariants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unswitchNontrivialInvariants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>TI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>Invariants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ExitBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>PartialIVInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(bool, bool, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;)&gt;&#160;</td>
          <td class="paramname"><em>UnswitchCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>)&gt;&#160;</td>
          <td class="paramname"><em>DestroyLoopCB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">2048</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01617">llvm::all_of()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00544">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="DenseMap_8h_source.html#l00075">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::begin()</a>, <a class="el" href="BasicBlock_8h_source.html#l00297">llvm::BasicBlock::begin()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01094">buildClonedLoopBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01337">buildClonedLoops()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00234">buildPartialInvariantUnswitchConditionalBranch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00214">buildPartialUnswitchConditionalBranch()</a>, <a class="el" href="Instructions_8h_source.html#l03489">llvm::SwitchInst::cases()</a>, <a class="el" href="SmallVector_8h_source.html#l00591">llvm::SmallVectorImpl&lt; T &gt;::clear()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00862">llvm::Instruction::clone()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00078">llvm::ICFLoopSafetyInfo::computeLoopSafetyInfo()</a>, <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="SetVector_8h_source.html#l00215">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::count()</a>, <a class="el" href="Instructions_8h_source.html#l03155">llvm::BranchInst::Create()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00243">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Delete</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01617">deleteDeadBlocksFromLoop()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01587">deleteDeadClonedBlocks()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#add53e3d271061cec7cbb117cb33e7605">DropNonTrivialImplicitNullChecks</a>, <a class="el" href="SmallVector_8h_source.html#l00927">llvm::SmallVectorImpl&lt; T &gt;::emplace_back()</a>, <a class="el" href="TargetLowering_8h_source.html#l00104">llvm::Sched::Fast</a>, <a class="el" href="DenseMap_8h_source.html#l00152">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08264">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08320">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l00057">llvm::formDedicatedExitBlocks()</a>, <a class="el" href="LCSSA_8cpp_source.html#l00335">llvm::formLCSSA()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a6e78d143a4adba211b6909a4f3b6b9b0">FreezeLoopUnswitchCond</a>, <a class="el" href="Instructions_8h_source.html#l03180">llvm::BranchInst::getCondition()</a>, <a class="el" href="Value_8cpp_source.html#l00991">llvm::Value::getContext()</a>, <a class="el" href="Instructions_8h_source.html#l03450">llvm::SwitchInst::getDefaultDest()</a>, <a class="el" href="Constants_8cpp_source.html#l00834">llvm::ConstantInt::getFalse()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00264">llvm::Instruction::getMetadata()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="LoopInfo_8h_source.html#l00113">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="Instructions_8h_source.html#l03192">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="Constants_8cpp_source.html#l00827">llvm::ConstantInt::getTrue()</a>, <a class="el" href="SetVector_8h_source.html#l00141">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00242">llvm::DominatorTreeBase&lt; BasicBlock, false &gt;::Insert</a>, <a class="el" href="LoopUtils_8h_source.html#l00521">llvm::IVConditionInfo::InstToDuplicate</a>, <a class="el" href="Instructions_8h_source.html#l03178">llvm::BranchInst::isConditional()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l05390">llvm::isGuaranteedNotToBeUndefOrPoison()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00267">llvm::ICFLoopSafetyInfo::isGuaranteedToExecute()</a>, <a class="el" href="Constants_8cpp_source.html#l00110">llvm::Constant::isOneValue()</a>, <a class="el" href="LoopInfo_8h_source.html#l00184">llvm::LoopBase&lt; BlockT, LoopT &gt;::isOutermost()</a>, <a class="el" href="LoopUtils_8h_source.html#l00524">llvm::IVConditionInfo::KnownValue</a>, <a class="el" href="PatternMatch_8h_source.html#l02537">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l02555">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="STLExtras_8h_source.html#l00618">llvm::make_early_inc_range()</a>, <a class="el" href="ArrayRef_8h_source.html#l00475">llvm::makeArrayRef()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="LoopIterator_8h_source.html#l00180">llvm::LoopBlocksRPO::perform()</a>, <a class="el" href="MachineSSAContext_8h_source.html#l00030">llvm::predecessors()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01819">rebuildLoopAfterUnswitch()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00538">llvm::MemorySSAUpdater::removeDuplicatePhiEdgesBetween()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00531">llvm::MemorySSAUpdater::removeEdge()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00318">llvm::BasicBlock::removePredecessor()</a>, <a class="el" href="SmallVector_8h_source.html#l00644">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="Instructions_8h_source.html#l03185">llvm::BranchInst::setCondition()</a>, <a class="el" href="Metadata_8cpp_source.html#l01427">llvm::Instruction::setMetadata()</a>, <a class="el" href="Instructions_8h_source.html#l03197">llvm::BranchInst::setSuccessor()</a>, <a class="el" href="PassBuilderBindings_8cpp.html#a0f79dad1efc582555a443cc11a8fa401">SI</a>, <a class="el" href="SetVector_8h_source.html#l00077">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size()</a>, <a class="el" href="ArrayRef_8h_source.html#l00164">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">skipTrivialSelect()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00517">llvm::SplitEdge()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00787">llvm::MemorySSAUpdater::updateExitBlocksForClonedLoop()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00676">llvm::MemorySSAUpdater::updateForClonedLoop()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00802">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::verify()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00687">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::verify()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l01906">llvm::MemorySSA::verifyMemorySSA()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00091">llvm::VerifyMemorySSA</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02025">visitDomSubTree()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a6a082aa2e05f44f7dab89e2ff8c582ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a082aa2e05f44f7dab89e2ff8c582ff">&#9670;&nbsp;</a></span>unswitchTrivialBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool unswitchTrivialBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;&#160;</td>
          <td class="paramname"><em>BI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch a trivial branch if the condition is loop invariant. </p>
<p>This routine should only be called when loop code leading to the branch has been validated as trivial (no side effects). This routine checks if the condition is invariant and one of the successors is a loop exit. This allows us to unswitch without duplicating the loop, making it trivial.</p>
<p>If this routine fails to unswitch the branch it returns false.</p>
<p>If the branch can be unswitched, this routine splits the preheader and hoists the branch above that split. Preserves loop simplified form (splitting the exit block as necessary). It simplifies the branch within the loop to an unconditional branch but doesn't remove it entirely. Further cleanup can be done with some simplifycfg like pass.</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">449</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00860">llvm::MemorySSAUpdater::applyInsertUpdates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00195">areLoopExitPHIsLoopInvariant()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00214">buildPartialUnswitchConditionalBranch()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00862">llvm::Instruction::clone()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00136">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="BasicBlockSections_8cpp_source.html#l00137">Cond</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="Instructions_8h_source.html#l03155">llvm::BranchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00602">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::deleteEdge()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00163">llvm::TinyPtrVector&lt; EltTy &gt;::empty()</a>, <a class="el" href="BasicBlock_8h_source.html#l00299">llvm::BasicBlock::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00077">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08264">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08320">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp.html#a6e78d143a4adba211b6909a4f3b6b9b0">FreezeLoopUnswitchCond</a>, <a class="el" href="Instructions_8h_source.html#l03180">llvm::BranchInst::getCondition()</a>, <a class="el" href="Value_8cpp_source.html#l00991">llvm::Value::getContext()</a>, <a class="el" href="Constants_8cpp_source.html#l00834">llvm::ConstantInt::getFalse()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="BasicBlock_8h_source.html#l00364">llvm::BasicBlock::getInstList()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="Instructions_8h_source.html#l03192">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00421">getTopMostExitingLoop()</a>, <a class="el" href="Constants_8cpp_source.html#l00827">llvm::ConstantInt::getTrue()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00350">hoistLoopToNewParent()</a>, <a class="el" href="namespacellvm_1_1cfg.html#a90f12723ad8d5cff45b6f06408a33da8aa458be0f08b7e4ff3c0f633c100176c0">llvm::cfg::Insert</a>, <a class="el" href="GenericDomTree_8h_source.html#l00584">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::insertEdge()</a>, <a class="el" href="Instructions_8h_source.html#l03178">llvm::BranchInst::isConditional()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00060">llvm::Loop::isLoopInvariant()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l02537">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l02555">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00244">llvm::TinyPtrVector&lt; EltTy &gt;::push_back()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00531">llvm::MemorySSAUpdater::removeEdge()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">replaceLoopInvariantUses()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00305">rewritePHINodesForExitAndUnswitchedBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00283">rewritePHINodesForUnswitchedExitBlock()</a>, <a class="el" href="Instructions_8h_source.html#l03185">llvm::BranchInst::setCondition()</a>, <a class="el" href="Instructions_8h_source.html#l03197">llvm::BranchInst::setSuccessor()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00121">skipTrivialSelect()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00837">llvm::SplitBlock()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00517">llvm::SplitEdge()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l01906">llvm::MemorySSA::verifyMemorySSA()</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l00091">llvm::VerifyMemorySSA</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00975">unswitchAllTrivialConditions()</a>.</p>

</div>
</div>
<a id="aadf6036e1d19c8ba91242af6ec48d40b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf6036e1d19c8ba91242af6ec48d40b">&#9670;&nbsp;</a></span>unswitchTrivialSwitch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool unswitchTrivialSwitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;&#160;</td>
          <td class="paramname"><em>SI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>LI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *&#160;</td>
          <td class="paramname"><em>MSSAU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch a trivial switch if the condition is loop invariant. </p>
<p>This routine should only be called when loop code leading to the switch has been validated as trivial (no side effects). This routine checks if the condition is invariant and that at least one of the successors is a loop exit. This allows us to unswitch without duplicating the loop, making it trivial.</p>
<p>If this routine fails to unswitch the switch it returns false.</p>
<p>If the switch can be unswitched, this routine splits the preheader and copies the switch above that split. If the default case is one of the exiting cases, it copies the non-exiting cases and points them at the new preheader. If the default case is not exiting, it copies the exiting cases and points the default at the preheader. It preserves loop simplified form (splitting the exit blocks as necessary). It simplifies the switch within the loop by removing now-dead cases. If the default case is one of those unswitched, it replaces its destination with a new basic block containing only unreachable. Such basic blocks, while technically loop exits, are not considered for unswitching so this is a stable transform and the same switch will not be revisited. If after unswitching there is only a single in-loop successor, the switch is further simplified to an unconditional branch. Still more cleanup can be done with some simplifycfg like pass.</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00680">680</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8cpp_source.html#l04471">llvm::SwitchInstProfUpdateWrapper::addCase()</a>, <a class="el" href="STLExtras_8h_source.html#l01617">llvm::all_of()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00809">llvm::MemorySSAUpdater::applyUpdates()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00544">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00195">areLoopExitPHIsLoopInvariant()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="LoopInfo_8h_source.html#l00138">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="Instructions_8h_source.html#l03155">llvm::BranchInst::Create()</a>, <a class="el" href="Instructions_8h_source.html#l03432">llvm::SwitchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00243">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::Delete</a>, <a class="el" href="STLExtras_8h_source.html#l00280">llvm::drop_begin()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00077">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="Instructions_8cpp_source.html#l04490">llvm::SwitchInstProfUpdateWrapper::eraseFromParent()</a>, <a class="el" href="TargetLowering_8h_source.html#l00104">llvm::Sched::Fast</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08264">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08320">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="BasicBlock_8h_source.html#l00309">llvm::BasicBlock::front()</a>, <a class="el" href="Instructions_8h_source.html#l03316">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getCaseSuccessor()</a>, <a class="el" href="Instructions_8h_source.html#l03309">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getCaseValue()</a>, <a class="el" href="LoopInfo_8h_source.html#l00104">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="LoopInfo_8h_source.html#l00989">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="LoopInfoImpl_8h_source.html#l00166">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00242">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="Instructions_8h_source.html#l03327">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getSuccessorIndex()</a>, <a class="el" href="Instructions_8cpp_source.html#l04499">llvm::SwitchInstProfUpdateWrapper::getSuccessorWeight()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00350">hoistLoopToNewParent()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00242">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::Insert</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00060">llvm::Loop::isLoopInvariant()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="IR_2CFG_8h_source.html#l00118">llvm::pred_empty()</a>, <a class="el" href="Instructions_8cpp_source.html#l04457">llvm::SwitchInstProfUpdateWrapper::removeCase()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00318">llvm::BasicBlock::removePredecessor()</a>, <a class="el" href="STLExtras_8h_source.html#l00380">llvm::reverse()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00305">rewritePHINodesForExitAndUnswitchedBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00283">rewritePHINodesForUnswitchedExitBlock()</a>, <a class="el" href="Instructions_8h_source.html#l03454">llvm::SwitchInst::setDefaultDest()</a>, <a class="el" href="Instructions_8cpp_source.html#l04505">llvm::SwitchInstProfUpdateWrapper::setSuccessorWeight()</a>, <a class="el" href="PassBuilderBindings_8cpp.html#a0f79dad1efc582555a443cc11a8fa401">SI</a>, <a class="el" href="BasicBlock_8h_source.html#l00307">llvm::BasicBlock::size()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00837">llvm::SplitBlock()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00517">llvm::SplitEdge()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00802">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::verify()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l01906">llvm::MemorySSA::verifyMemorySSA()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00091">llvm::VerifyMemorySSA</a>, and <a class="el" href="RISCVBaseInfo_8h_source.html#l00242">llvm::RISCVFenceField::W</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00975">unswitchAllTrivialConditions()</a>.</p>

</div>
</div>
<a id="a18b0f192065386f9e0bc793a08bbf3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b0f192065386f9e0bc793a08bbf3ff">&#9670;&nbsp;</a></span>visitDomSubTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename CallableT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void visitDomSubTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CallableT&#160;</td>
          <td class="paramname"><em>Callable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to visit a dominator subtree, invoking a callable on each node. </p>
<p>Returning false at any point will stop walking past that node of the tree. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02025">2025</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00365">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, and <a class="el" href="SmallVector_8h_source.html#l00654">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="add53e3d271061cec7cbb117cb33e7605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add53e3d271061cec7cbb117cb33e7605">&#9670;&nbsp;</a></span>DropNonTrivialImplicitNullChecks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; DropNonTrivialImplicitNullChecks(&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-drop-non-trivial-implicit-null-<a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a>&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, drop make.implicit <a class="el" href="AMDGPUAnnotateUniformValues_8cpp.html#a3cd36c33be3dfbc64aa6da755a47e6b1">metadata</a> <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> unswitched implicit &quot; &quot;null <a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> save time analyzing <a class="el" href="lib_2Transforms_2Hello_2CMakeLists_8txt.html#adbcb327f5525e7a32d6f5ff698b1ee52">if</a> we <a class="el" href="README-SSE_8txt.html#a4240386010e8ab75256e7fd072800b1a">can</a> keep it.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a69b957f3c2576337637e1d0c03b5fcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b957f3c2576337637e1d0c03b5fcfd">&#9670;&nbsp;</a></span>EnableNonTrivialUnswitch</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; EnableNonTrivialUnswitch(&quot;enable-nontrivial-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>&quot;, cl::init(<a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Forcibly enables non-trivial <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> unswitching rather <a class="el" href="lib_2Target_2PowerPC_2README_8txt.html#a8895a2a3113ec14d3ff4ccaae3de69b1">than</a> &quot; &quot;<a class="el" href="lib_2Target_2README_8txt.html#a9026bda84f719fb903ddea83fc478a76">following</a> the configuration passed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> the pass.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03042">unswitchLoop()</a>.</p>

</div>
</div>
<a id="a1685ea44674e56b4814a08db0db4b8e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1685ea44674e56b4814a08db0db4b8e1">&#9670;&nbsp;</a></span>EnableUnswitchCostMultiplier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; EnableUnswitchCostMultiplier(&quot;enable-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-cost-multiplier&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> cost multiplier <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> prohibits exponential &quot; &quot;explosion <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#ad0f7d198414c3f3cf72769a0f58e5914">in</a> nontrivial unswitch.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a572fb0c4c52907b96d454448a32ae7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a572fb0c4c52907b96d454448a32ae7d5">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03278">3278</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

</div>
</div>
<a id="a6e78d143a4adba211b6909a4f3b6b9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e78d143a4adba211b6909a4f3b6b9b0">&#9670;&nbsp;</a></span>FreezeLoopUnswitchCond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; FreezeLoopUnswitchCond(&quot;freeze-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-cond&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, the <a class="el" href="CanonicalizeFreezeInLoops_8cpp.html#a9680cc81ccaa4506cae9f5369cf5307e">freeze</a> <a class="el" href="README__P9_8txt.html#ad42d1e32234cdae6caf08e2f674ad874">instruction</a> <a class="el" href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a> <a class="el" href="lib_2Target_2X86_2README_8txt.html#afda262d311525ed01d2d1c103db4006d">be</a> added <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> condition &quot; &quot;<a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> prevent miscompilation.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02048">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00449">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="ae1e6ea1ae7de09f2a67f1d4b1d5acbef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e6ea1ae7de09f2a67f1d4b1d5acbef">&#9670;&nbsp;</a></span>loops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> Simple <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> loops</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03278">3278</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

</div>
</div>
<a id="a35b07f8e2b5d1b17b8a2f4f6f91ec25b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b07f8e2b5d1b17b8a2f4f6f91ec25b">&#9670;&nbsp;</a></span>MSSAThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;unsigned&gt; MSSAThreshold(&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-<a class="el" href="MemorySSA_8cpp.html#a06e2f0489fb9bed0b271e8fe6c2b7545">memoryssa</a>-threshold&quot;, cl::desc(&quot;Max number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> memory <a class="el" href="README-SSE_8txt.html#a0cd314eb6ec4d97be014a36348d9dff0">uses</a> <a class="el" href="README-SSE_8txt.html#ae9588f3d15320340263af4bd4ee56416">to</a> explore during &quot; &quot;partial unswitching <a class="el" href="ModuleSummaryAnalysis_8cpp.html#abfa9bcfe6f0180f576c1a8c503ba2a03">analysis</a>&quot;), cl::init(100), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="LoopUtils_8cpp_source.html#l01708">llvm::hasPartialIVCondition()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="ad2eb90e35e30b3570578facdc5a34fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eb90e35e30b3570578facdc5a34fa8">&#9670;&nbsp;</a></span>unswitch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> unswitch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03277">3277</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

</div>
</div>
<a id="a8de91137533d3d3d20e241656e131edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de91137533d3d3d20e241656e131edb">&#9670;&nbsp;</a></span>UnswitchGuards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; UnswitchGuards(&quot;simple-<a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a>-<a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a>-<a class="el" href="GuardWidening_8cpp.html#a402af7f458adf6a0f6122424240fb6c6">guards</a>&quot;, cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, simple <a class="el" href="lib_2Target_2README_8txt.html#a01d2af4eee7c40485a0ce3683a2e907a">loop</a> unswitching <a class="el" href="lib_2CodeGen_2README_8txt.html#a09571efa45610bd20734656e6c524047">will</a> <a class="el" href="lib_2Target_2README_8txt.html#a00fbe120dd0ce034b4a84296fe00f63b">also</a> <a class="el" href="README-X86-64_8txt.html#a3ec0959fe8dd0bb014aa72790e801a24">consider</a> &quot; &quot;llvm.experimental.guard <a class="el" href="ScalarizeMaskedMemIntrin_8cpp.html#adef27058907244f0699caa1f4961d673">intrinsics</a> <a class="el" href="lib_2Analysis_2README_8txt.html#ac5d2ccdc23be3ff6ac6c6fdcb1a374ea">as</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a6f6ba327e52c529cbca96d3a7d86581b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6ba327e52c529cbca96d3a7d86581b">&#9670;&nbsp;</a></span>UnswitchNumInitialUnscaledCandidates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a>&gt; UnswitchNumInitialUnscaledCandidates(&quot;unswitch-num-initial-unscaled-candidates&quot;, cl::init(8), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="SimpleLoopUnswitch_8cpp.html#ad2eb90e35e30b3570578facdc5a34fa8">unswitch</a> candidates <a class="el" href="lib_2Target_2WebAssembly_2README_8txt.html#a3828c493031579f0c68587b19619f7e2">that</a> are ignored when calculating &quot; &quot;cost multiplier.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02653">CalculateUnswitchCostMultiplier()</a>.</p>

</div>
</div>
<a id="aaff76ffdb44a80e714f29a4c0ad7dbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff76ffdb44a80e714f29a4c0ad7dbb1">&#9670;&nbsp;</a></span>UnswitchSiblingsToplevelDiv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a>&gt; UnswitchSiblingsToplevelDiv(&quot;unswitch-siblings-toplevel-div&quot;, cl::init(2), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Toplevel siblings divisor <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> cost multiplier.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02653">CalculateUnswitchCostMultiplier()</a>.</p>

</div>
</div>
<a id="aadb6c63e9b08f194fea85f60865b6ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb6c63e9b08f194fea85f60865b6ab3">&#9670;&nbsp;</a></span>UnswitchThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="lib_2Target_2ARM_2README_8txt.html#a2e877f6acf2d65a965545e1e5af5f7da">int</a>&gt; UnswitchThreshold(&quot;unswitch-threshold&quot;, cl::init(50), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;The cost threshold <a class="el" href="lib_2Target_2README_8txt.html#aba63e41fa7091edb4329e384aa3f086d">for</a> unswitching <a class="el" href="lib_2Target_2X86_2README_8txt.html#a7ef4d3003047043a3de118adbb0570fd">a</a> loop.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02653">CalculateUnswitchCostMultiplier()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02725">unswitchBestCondition()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 20 2022 08:25:52 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
