<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Analysis/InlineOrder.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">15.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_97cdd6ae7e6843add574fb55e792badd.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">InlineOrder.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InlineOrder_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InlineOrder.h - Inlining order abstraction -*- C++ ---*-------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifndef LLVM_ANALYSIS_INLINEORDER_H</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define LLVM_ANALYSIS_INLINEORDER_H</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLFunctionalExtras_8h.html">llvm/ADT/STLFunctionalExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">class </span>CallBase;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">class </span><a class="code" href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">Function</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineOrder.html">   23</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1InlineOrder.html">InlineOrder</a> {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineOrder.html#a28ee7db044e6f884b2818f792c76f47f">   25</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1InlineOrder.html#a28ee7db044e6f884b2818f792c76f47f">reference</a> = <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> &amp;;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">   26</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">const_reference</a> = <span class="keyword">const</span> <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> &amp;;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1InlineOrder.html#aac10bbe73b8485ab4fa3a97f58f655fa">~InlineOrder</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classllvm_1_1InlineOrder.html#a7b38ad3a6c9d1e8eb10d513de27df38b">size</a>() = 0;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InlineOrder.html#ab63f7cc82a1cc10716794f2202ffe4b2">push</a>(<span class="keyword">const</span> T &amp;Elt) = 0;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> <a class="code" href="classllvm_1_1InlineOrder.html#a74b5b8582c63be2ad460a58be92e7c6d">pop</a>() = 0;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">const_reference</a> <a class="code" href="classllvm_1_1InlineOrder.html#a652ffe7ac957ad865a3cbc1861b353b1">front</a>() = 0;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InlineOrder.html#a99dfd890ada3b4e157df3d5b517559bf">erase_if</a>(<a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(T)&gt; Pred) = 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classllvm_1_1InlineOrder.html#adc853460f0efaa01d4c2106cb887e609">   40</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1InlineOrder.html#adc853460f0efaa01d4c2106cb887e609">empty</a>() { <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1InlineOrder.html#a7b38ad3a6c9d1e8eb10d513de27df38b">size</a>(); }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;};</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Container = SmallVector&lt;T, 16&gt;&gt;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html">   44</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1DefaultInlineOrder.html">DefaultInlineOrder</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InlineOrder.html">InlineOrder</a>&lt;T&gt; {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1InlineOrder.html#a28ee7db044e6f884b2818f792c76f47f">reference</a> = <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> &amp;;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">const_reference</a> = <span class="keyword">const</span> <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> &amp;;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html#a810e6a515f616138c83194b782b3cc31">   49</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classllvm_1_1DefaultInlineOrder.html#a810e6a515f616138c83194b782b3cc31">size</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> Calls.size() - FirstIndex; }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html#abb23f164af8ebbd3be68ce3e89e56470">   51</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1DefaultInlineOrder.html#abb23f164af8ebbd3be68ce3e89e56470">push</a>(<span class="keyword">const</span> T &amp;Elt)<span class="keyword"> override </span>{ Calls.push_back(Elt); }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html#aac387cf99b3aca8ae74fb5786d5285e0">   53</a></span>&#160;  <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a> <a class="code" href="classllvm_1_1DefaultInlineOrder.html#aac387cf99b3aca8ae74fb5786d5285e0">pop</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1DefaultInlineOrder.html#a810e6a515f616138c83194b782b3cc31">size</a>() &gt; 0);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> Calls[FirstIndex++];</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html#a3ea92da0717a5855c2f14837837a9303">   58</a></span>&#160;  <a class="code" href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">const_reference</a> <a class="code" href="classllvm_1_1DefaultInlineOrder.html#a3ea92da0717a5855c2f14837837a9303">front</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1DefaultInlineOrder.html#a810e6a515f616138c83194b782b3cc31">size</a>() &gt; 0);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> Calls[FirstIndex];</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classllvm_1_1DefaultInlineOrder.html#af3b9b8a399af3f528aee96b6723f5e34">   63</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1DefaultInlineOrder.html#af3b9b8a399af3f528aee96b6723f5e34">erase_if</a>(<a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(T)&gt; Pred)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    Calls.erase(<a class="code" href="namespacellvm.html#a9ec2517b6489e71067be03afebb4d350">std::remove_if</a>(Calls.begin() + FirstIndex, Calls.end(), Pred),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                Calls.end());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  Container Calls;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">size_t</span> FirstIndex = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classllvm_1_1InlinePriority.html">   73</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1InlinePriority.html">InlinePriority</a> {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1InlinePriority.html#a97c5dcc06645aea72aee1802eccfffbf">~InlinePriority</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1InlinePriority.html#a4384d621dc54c96a1a2a302300775d26">hasLowerPriority</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *R) <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1InlinePriority.html#a44beebc633a6d1b07c7eeeff7ae9c0dd">update</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB) = 0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1InlinePriority.html#aa9631a0f7c440d2b97c43be63cec82c9">updateAndCheckDecreased</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB) = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classllvm_1_1SizePriority.html">   81</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1SizePriority.html">SizePriority</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InlinePriority.html">InlinePriority</a> {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">using</span> PriorityT = unsigned;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const CallBase *, PriorityT&gt;</a> Priorities;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">static</span> PriorityT evaluate(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getInstructionCount();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> isMoreDesirable(<span class="keyword">const</span> PriorityT &amp;P1, <span class="keyword">const</span> PriorityT &amp;<a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> P1 &lt; <a class="code" href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">bool</span> hasLowerPriority(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *R)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> I1 = Priorities.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(L);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> I2 = Priorities.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(R);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(I1 != Priorities.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>() &amp;&amp; I2 != Priorities.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>());</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> isMoreDesirable(I2-&gt;second, I1-&gt;second);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// Update the priority associated with CB.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classllvm_1_1SizePriority.html#ae514daed2df51ee1e46031f25bc12f17">  103</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SizePriority.html#ae514daed2df51ee1e46031f25bc12f17">update</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB)<span class="keyword"> override </span>{ Priorities[CB] = evaluate(CB); };</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classllvm_1_1SizePriority.html#a8126edf4ec27e9d91ca157d2e4fecaba">  105</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SizePriority.html#a8126edf4ec27e9d91ca157d2e4fecaba">updateAndCheckDecreased</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">auto</span> It = Priorities.<a class="code" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(CB);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> OldPriority = It-&gt;second;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    It-&gt;second = evaluate(CB);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> NewPriority = It-&gt;second;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> isMoreDesirable(OldPriority, NewPriority);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;};</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html">  114</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1PriorityInlineOrder.html">PriorityInlineOrder</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InlineOrder.html">InlineOrder</a>&lt;std::pair&lt;CallBase *, int&gt;&gt; {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">using</span> <a class="code" href="classT.html">T</a> = std::pair&lt;CallBase *, int&gt;;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">using</span> reference = <a class="code" href="classT.html">T</a> &amp;;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">using</span> const_reference = <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// A call site could become less desirable for inlining because of the size</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// growth from prior inlining into the callee. This method is used to lazily</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// update the desirability of a call site if it&#39;s decreasing. It is only</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// called on pop() or front(), not every time the desirability changes. When</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// the desirability of the front call site decreases, an updated one would be</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// pushed right back into the heap. For simplicity, those cases where</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// the desirability of a call site increases are ignored here.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespaceadjust.html">adjust</a>() {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">while</span> (PriorityPtr-&gt;updateAndCheckDecreased(Heap.front())) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      std::pop_heap(Heap.begin(), Heap.end(), isLess);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      std::push_heap(Heap.begin(), Heap.end(), isLess);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#ab22f7686914b8391f7e15c2f95747665">  134</a></span>&#160;  <a class="code" href="classllvm_1_1PriorityInlineOrder.html#ab22f7686914b8391f7e15c2f95747665">PriorityInlineOrder</a>(std::unique_ptr&lt;InlinePriority&gt; PriorityPtr)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      : PriorityPtr(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(PriorityPtr)) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    isLess = [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *R) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">return</span> this-&gt;PriorityPtr-&gt;hasLowerPriority(L, R);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    };</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#adae43e5cb0aa05537d74e1254c846e5b">  141</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classllvm_1_1PriorityInlineOrder.html#adae43e5cb0aa05537d74e1254c846e5b">size</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> Heap.size(); }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#a03519e8af99a398cc60a50f66e899812">  143</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PriorityInlineOrder.html#a03519e8af99a398cc60a50f66e899812">push</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;Elt)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = Elt.first;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> InlineHistoryID = Elt.second;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    Heap.push_back(CB);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    PriorityPtr-&gt;update(CB);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    std::push_heap(Heap.begin(), Heap.end(), isLess);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    InlineHistoryMap[CB] = InlineHistoryID;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#af7a5dc2591259e09c66c0e26d85a530d">  153</a></span>&#160;  <a class="code" href="classT.html">T</a> <a class="code" href="classllvm_1_1PriorityInlineOrder.html#af7a5dc2591259e09c66c0e26d85a530d">pop</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1PriorityInlineOrder.html#adae43e5cb0aa05537d74e1254c846e5b">size</a>() &gt; 0);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="namespaceadjust.html">adjust</a>();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = Heap.front();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classT.html">T</a> Result = std::make_pair(CB, InlineHistoryMap[CB]);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    InlineHistoryMap.erase(CB);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    std::pop_heap(Heap.begin(), Heap.end(), isLess);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    Heap.pop_back();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> Result;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#a48169e636e9960f108115edcc31d2175">  165</a></span>&#160;  const_reference <a class="code" href="classllvm_1_1PriorityInlineOrder.html#a48169e636e9960f108115edcc31d2175">front</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1PriorityInlineOrder.html#adae43e5cb0aa05537d74e1254c846e5b">size</a>() &gt; 0);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="namespaceadjust.html">adjust</a>();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = Heap.front();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> *InlineHistoryMap.find(CB);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classllvm_1_1PriorityInlineOrder.html#a4c0137461c609c966025dcd8b05408a7">  173</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PriorityInlineOrder.html#a4c0137461c609c966025dcd8b05408a7">erase_if</a>(<a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classT.html">T</a>)&gt; Pred)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">auto</span> PredWrapper = [=](<a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> Pred(std::make_pair(CB, 0));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    };</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(Heap, PredWrapper);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    std::make_heap(Heap.begin(), Heap.end(), isLess);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CallBase *, 16&gt;</a> Heap;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *L, <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *R)&gt; isLess;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;CallBase *, int&gt;</a> InlineHistoryMap;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  std::unique_ptr&lt;InlinePriority&gt; PriorityPtr;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;};</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif // LLVM_ANALYSIS_INLINEORDER_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1InlinePriority_html_aa9631a0f7c440d2b97c43be63cec82c9"><div class="ttname"><a href="classllvm_1_1InlinePriority.html#aa9631a0f7c440d2b97c43be63cec82c9">llvm::InlinePriority::updateAndCheckDecreased</a></div><div class="ttdeci">virtual bool updateAndCheckDecreased(const CallBase *CB)=0</div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SizePriority_html_ae514daed2df51ee1e46031f25bc12f17"><div class="ttname"><a href="classllvm_1_1SizePriority.html#ae514daed2df51ee1e46031f25bc12f17">llvm::SizePriority::update</a></div><div class="ttdeci">void update(const CallBase *CB) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00103">InlineOrder.h:103</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00060">Function.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01185">SmallVector.h:1185</a></div></div>
<div class="ttc" id="aclassllvm_1_1SizePriority_html"><div class="ttname"><a href="classllvm_1_1SizePriority.html">llvm::SizePriority</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00081">InlineOrder.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_af1b174276a184107635fb7096766a933"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#af1b174276a184107635fb7096766a933">llvm::InlineOrder&lt; std::pair&lt; CallBase *, int &gt; &gt;::const_reference</a></div><div class="ttdeci">const std::pair&lt; CallBase *, int &gt; &amp; const_reference</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00026">InlineOrder.h:26</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01807">STLExtras.h:1807</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html">llvm::PriorityInlineOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00114">InlineOrder.h:114</a></div></div>
<div class="ttc" id="aMips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00341">Mips16ISelLowering.cpp:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html"><div class="ttname"><a href="classllvm_1_1InlineOrder.html">llvm::InlineOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00023">InlineOrder.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinePriority_html"><div class="ttname"><a href="classllvm_1_1InlinePriority.html">llvm::InlinePriority</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00073">InlineOrder.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_af7a5dc2591259e09c66c0e26d85a530d"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#af7a5dc2591259e09c66c0e26d85a530d">llvm::PriorityInlineOrder::pop</a></div><div class="ttdeci">T pop() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00153">InlineOrder.h:153</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9ec2517b6489e71067be03afebb4d350"><div class="ttname"><a href="namespacellvm.html#a9ec2517b6489e71067be03afebb4d350">llvm::remove_if</a></div><div class="ttdeci">auto remove_if(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::remove_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01656">STLExtras.h:1656</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_a4c0137461c609c966025dcd8b05408a7"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#a4c0137461c609c966025dcd8b05408a7">llvm::PriorityInlineOrder::erase_if</a></div><div class="ttdeci">void erase_if(function_ref&lt; bool(T)&gt; Pred) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00173">InlineOrder.h:173</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_ae7fc2fb0e2d536219c1193f1a178e7db"><div class="ttname"><a href="README-SSE_8txt.html#ae7fc2fb0e2d536219c1193f1a178e7db">P2</a></div><div class="ttdeci">This might compile to this xmm1 xorps xmm0 movss xmm0 ret Now consider if the code caused xmm1 to get spilled This might produce this xmm1 movaps xmm0 movaps xmm1 movss xmm0 ret since the reload is only used by these we could fold it into the producing something like xmm1 movaps xmm0 ret saving two instructions The basic idea is that a reload from a spill if only one byte chunk is bring in zeros the one element instead of elements This can be used to simplify a variety of shuffle where the elements are fixed zeros This code generates ugly probably due to costs being off or&lt; 4 x float &gt; * P2</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00278">README-SSE.txt:278</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01396">InstrTypes.h:1396</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_a03519e8af99a398cc60a50f66e899812"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#a03519e8af99a398cc60a50f66e899812">llvm::PriorityInlineOrder::push</a></div><div class="ttdeci">void push(const T &amp;Elt) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00143">InlineOrder.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_ab22f7686914b8391f7e15c2f95747665"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#ab22f7686914b8391f7e15c2f95747665">llvm::PriorityInlineOrder::PriorityInlineOrder</a></div><div class="ttdeci">PriorityInlineOrder(std::unique_ptr&lt; InlinePriority &gt; PriorityPtr)</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00134">InlineOrder.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_a28ee7db044e6f884b2818f792c76f47f"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#a28ee7db044e6f884b2818f792c76f47f">llvm::InlineOrder&lt; std::pair&lt; CallBase *, int &gt; &gt;::reference</a></div><div class="ttdeci">std::pair&lt; CallBase *, int &gt; &amp; reference</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00025">InlineOrder.h:25</a></div></div>
<div class="ttc" id="aSTLFunctionalExtras_8h_html"><div class="ttname"><a href="STLFunctionalExtras_8h.html">STLFunctionalExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_a48169e636e9960f108115edcc31d2175"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#a48169e636e9960f108115edcc31d2175">llvm::PriorityInlineOrder::front</a></div><div class="ttdeci">const_reference front() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00165">InlineOrder.h:165</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinePriority_html_a44beebc633a6d1b07c7eeeff7ae9c0dd"><div class="ttname"><a href="classllvm_1_1InlinePriority.html#a44beebc633a6d1b07c7eeeff7ae9c0dd">llvm::InlinePriority::update</a></div><div class="ttdeci">virtual void update(const CallBase *CB)=0</div></div>
<div class="ttc" id="aclassllvm_1_1InlinePriority_html_a97c5dcc06645aea72aee1802eccfffbf"><div class="ttname"><a href="classllvm_1_1InlinePriority.html#a97c5dcc06645aea72aee1802eccfffbf">llvm::InlinePriority::~InlinePriority</a></div><div class="ttdeci">virtual ~InlinePriority()=default</div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_a74b5b8582c63be2ad460a58be92e7c6d"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#a74b5b8582c63be2ad460a58be92e7c6d">llvm::InlineOrder::pop</a></div><div class="ttdeci">virtual T pop()=0</div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html_aac387cf99b3aca8ae74fb5786d5285e0"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html#aac387cf99b3aca8ae74fb5786d5285e0">llvm::DefaultInlineOrder::pop</a></div><div class="ttdeci">T pop() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00053">InlineOrder.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_a99dfd890ada3b4e157df3d5b517559bf"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#a99dfd890ada3b4e157df3d5b517559bf">llvm::InlineOrder::erase_if</a></div><div class="ttdeci">virtual void erase_if(function_ref&lt; bool(T)&gt; Pred)=0</div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00716">DenseMap.h:716</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00152">DenseMap.h:152</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01675">STLExtras.h:1675</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_adc853460f0efaa01d4c2106cb887e609"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#adc853460f0efaa01d4c2106cb887e609">llvm::InlineOrder::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00040">InlineOrder.h:40</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinePriority_html_a4384d621dc54c96a1a2a302300775d26"><div class="ttname"><a href="classllvm_1_1InlinePriority.html#a4384d621dc54c96a1a2a302300775d26">llvm::InlinePriority::hasLowerPriority</a></div><div class="ttdeci">virtual bool hasLowerPriority(const CallBase *L, const CallBase *R) const =0</div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_aac10bbe73b8485ab4fa3a97f58f655fa"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#aac10bbe73b8485ab4fa3a97f58f655fa">llvm::InlineOrder::~InlineOrder</a></div><div class="ttdeci">virtual ~InlineOrder()=default</div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html">llvm::DefaultInlineOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00044">InlineOrder.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_ab63f7cc82a1cc10716794f2202ffe4b2"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#ab63f7cc82a1cc10716794f2202ffe4b2">llvm::InlineOrder::push</a></div><div class="ttdeci">virtual void push(const T &amp;Elt)=0</div></div>
<div class="ttc" id="aclassllvm_1_1PriorityInlineOrder_html_adae43e5cb0aa05537d74e1254c846e5b"><div class="ttname"><a href="classllvm_1_1PriorityInlineOrder.html#adae43e5cb0aa05537d74e1254c846e5b">llvm::PriorityInlineOrder::size</a></div><div class="ttdeci">size_t size() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00141">InlineOrder.h:141</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00186">AMDGPULibCalls.cpp:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html_abb23f164af8ebbd3be68ce3e89e56470"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html#abb23f164af8ebbd3be68ce3e89e56470">llvm::DefaultInlineOrder::push</a></div><div class="ttdeci">void push(const T &amp;Elt) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00051">InlineOrder.h:51</a></div></div>
<div class="ttc" id="anamespaceadjust_html"><div class="ttname"><a href="namespaceadjust.html">adjust</a></div><div class="ttdef"><b>Definition:</b> <a href="AVRAsmBackend_8cpp_source.html#l00033">AVRAsmBackend.cpp:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html_a3ea92da0717a5855c2f14837837a9303"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html#a3ea92da0717a5855c2f14837837a9303">llvm::DefaultInlineOrder::front</a></div><div class="ttdeci">const_reference front() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00058">InlineOrder.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_a7b38ad3a6c9d1e8eb10d513de27df38b"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#a7b38ad3a6c9d1e8eb10d513de27df38b">llvm::InlineOrder::size</a></div><div class="ttdeci">virtual size_t size()=0</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html_af3b9b8a399af3f528aee96b6723f5e34"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html#af3b9b8a399af3f528aee96b6723f5e34">llvm::DefaultInlineOrder::erase_if</a></div><div class="ttdeci">void erase_if(function_ref&lt; bool(T)&gt; Pred) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00063">InlineOrder.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineOrder_html_a652ffe7ac957ad865a3cbc1861b353b1"><div class="ttname"><a href="classllvm_1_1InlineOrder.html#a652ffe7ac957ad865a3cbc1861b353b1">llvm::InlineOrder::front</a></div><div class="ttdeci">virtual const_reference front()=0</div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SizePriority_html_a8126edf4ec27e9d91ca157d2e4fecaba"><div class="ttname"><a href="classllvm_1_1SizePriority.html#a8126edf4ec27e9d91ca157d2e4fecaba">llvm::SizePriority::updateAndCheckDecreased</a></div><div class="ttdeci">bool updateAndCheckDecreased(const CallBase *CB) override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00105">InlineOrder.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1DefaultInlineOrder_html_a810e6a515f616138c83194b782b3cc31"><div class="ttname"><a href="classllvm_1_1DefaultInlineOrder.html#a810e6a515f616138c83194b782b3cc31">llvm::DefaultInlineOrder::size</a></div><div class="ttdeci">size_t size() override</div><div class="ttdef"><b>Definition:</b> <a href="InlineOrder_8h_source.html#l00049">InlineOrder.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01174">InstrTypes.h:1174</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261"><div class="ttname"><a href="namespacellvm_1_1codeview.html#adfebd8c4ae29ccd84c600c1e65d6b807a86408593c34af77fdd90df932f8b5261">llvm::codeview::PublicSymFlags::Function</a></div><div class="ttdeci">@ Function</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 20 2022 06:50:07 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
