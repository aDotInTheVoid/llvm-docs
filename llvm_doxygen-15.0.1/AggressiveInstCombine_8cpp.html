<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/AggressiveInstCombine/AggressiveInstCombine.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">15.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_cfe1622bddfa38841ba04f1042c610fd.html">AggressiveInstCombine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AggressiveInstCombine.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Transforms_2AggressiveInstCombine_2AggressiveInstCombine_8h_source.html">llvm/Transforms/AggressiveInstCombine/AggressiveInstCombine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AggressiveInstCombineInternal_8h_source.html">AggressiveInstCombineInternal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Initialization_8h_source.html">llvm-c/Initialization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="c_2Transforms_2AggressiveInstCombine_8h_source.html">llvm-c/Transforms/AggressiveInstCombine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AliasAnalysis_8h_source.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AssumptionCache_8h_source.html">llvm/Analysis/AssumptionCache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicAliasAnalysis_8h_source.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GlobalsModRef_8h_source.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetLibraryInfo_8h_source.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetTransformInfo_8h_source.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTracking_8h_source.html">llvm/Analysis/ValueTracking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LegacyPassManager_8h_source.html">llvm/IR/LegacyPassManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BuildLibCalls_8h_source.html">llvm/Transforms/Utils/BuildLibCalls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Transforms_2Utils_2Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for AggressiveInstCombine.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="AggressiveInstCombine_8cpp__incl.svg" width="4511" height="619"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="AggressiveInstCombine_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMaskOps.html">MaskOps</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used by <a class="el" href="AggressiveInstCombine_8cpp.html#a32ffe3fd425265e0290c803c36cc1612" title="Match patterns that correspond to &quot;any-bits-set&quot; and &quot;all-bits-set&quot;.">foldAnyOrAllBitsSet()</a> to capture a source value (Root) and the bit indexes (Mask) needed by a masked compare.  <a href="structMaskOps.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacellvm"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html">llvm</a></td></tr>
<tr class="memdesc:namespacellvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an optimization pass for GlobalISel generic memory operations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;aggressive-<a class="el" href="lib_2Target_2README_8txt.html#a61e3352b507034570df5d83e074402fd">instcombine</a>&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5833bfb1942f2506614080dd51584d6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a5833bfb1942f2506614080dd51584d6f">STATISTIC</a> (NumAnyOrAllBitsSet, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> any/all-<a class="el" href="DemandedBits_8cpp.html#a21225a9e40c621585e23a2fa855f4e83">bits</a>-<a class="el" href="lib_2Target_2CMakeLists_8txt.html#a665981071e8581d5681d22984c623abc">set</a> patterns folded&quot;)</td></tr>
<tr class="separator:a5833bfb1942f2506614080dd51584d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72a394d13969ad05829c382b3207d98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#af72a394d13969ad05829c382b3207d98">STATISTIC</a> (NumGuardedRotates, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> guarded <a class="el" href="lib_2Target_2README_8txt.html#ab74ee16f117623214b4f784a358e207a">rotates</a> transformed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a>&quot;)</td></tr>
<tr class="separator:af72a394d13969ad05829c382b3207d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa380af1ef8bdbe31e4188c04b05e880a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#aa380af1ef8bdbe31e4188c04b05e880a">STATISTIC</a> (NumGuardedFunnelShifts, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> guarded funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a> transformed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a>&quot;)</td></tr>
<tr class="separator:aa380af1ef8bdbe31e4188c04b05e880a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b3be19300922914386b5bd0191bf75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a16b3be19300922914386b5bd0191bf75">STATISTIC</a> (NumPopCountRecognized, &quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="lib_2Target_2README_8txt.html#ad39100047599001d9ab72cae56d175cd">popcount</a> <a class="el" href="LoopIdiomRecognize_8cpp.html#a459b2591fc1a4a281fb3bb73cde092b9">idioms</a> recognized&quot;)</td></tr>
<tr class="separator:a16b3be19300922914386b5bd0191bf75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b18943dffc9db671d3217c90b15a4f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a73b18943dffc9db671d3217c90b15a4f">foldGuardedFunnelShift</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:a73b18943dffc9db671d3217c90b15a4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match a pattern for a bitwise funnel/rotate operation that partially guards against undefined behavior by branching around the funnel-shift/rotation when the shift amount is 0.  <a href="AggressiveInstCombine_8cpp.html#a73b18943dffc9db671d3217c90b15a4f">More...</a><br /></td></tr>
<tr class="separator:a73b18943dffc9db671d3217c90b15a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4775da751f6b1e2123b23a54dabf51c9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a4775da751f6b1e2123b23a54dabf51c9">matchAndOrChain</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="structMaskOps.html">MaskOps</a> &amp;MOps)</td></tr>
<tr class="memdesc:a4775da751f6b1e2123b23a54dabf51c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a recursive helper for <a class="el" href="AggressiveInstCombine_8cpp.html#a32ffe3fd425265e0290c803c36cc1612" title="Match patterns that correspond to &quot;any-bits-set&quot; and &quot;all-bits-set&quot;.">foldAnyOrAllBitsSet()</a> that walks through a chain of 'and' or 'or' instructions looking for shift ops of a common source value.  <a href="AggressiveInstCombine_8cpp.html#a4775da751f6b1e2123b23a54dabf51c9">More...</a><br /></td></tr>
<tr class="separator:a4775da751f6b1e2123b23a54dabf51c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ffe3fd425265e0290c803c36cc1612"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a32ffe3fd425265e0290c803c36cc1612">foldAnyOrAllBitsSet</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</td></tr>
<tr class="memdesc:a32ffe3fd425265e0290c803c36cc1612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match patterns that correspond to "any-bits-set" and "all-bits-set".  <a href="AggressiveInstCombine_8cpp.html#a32ffe3fd425265e0290c803c36cc1612">More...</a><br /></td></tr>
<tr class="separator:a32ffe3fd425265e0290c803c36cc1612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165830656f5ebd0521d278a2cf583a28"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a165830656f5ebd0521d278a2cf583a28">tryToRecognizePopCount</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</td></tr>
<tr class="separator:a165830656f5ebd0521d278a2cf583a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e077365cf48a773b0debd4a65499d1d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a3e077365cf48a773b0debd4a65499d1d">tryToFPToSat</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>)</td></tr>
<tr class="memdesc:a3e077365cf48a773b0debd4a65499d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fold smin(smax(fptosi(x), C1), C2) to llvm.fptosi.sat(x), providing C1 and C2 saturate the value of the fp conversion.  <a href="AggressiveInstCombine_8cpp.html#a3e077365cf48a773b0debd4a65499d1d">More...</a><br /></td></tr>
<tr class="separator:a3e077365cf48a773b0debd4a65499d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25555d5e3cc7af42a3556fea3ea1c689"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a25555d5e3cc7af42a3556fea3ea1c689">foldSqrt</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI)</td></tr>
<tr class="memdesc:a25555d5e3cc7af42a3556fea3ea1c689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to replace a mathlib call to sqrt with the LLVM intrinsic.  <a href="AggressiveInstCombine_8cpp.html#a25555d5e3cc7af42a3556fea3ea1c689">More...</a><br /></td></tr>
<tr class="separator:a25555d5e3cc7af42a3556fea3ea1c689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3482f0c1bbdfbe6c47f146f37d47121f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a3482f0c1bbdfbe6c47f146f37d47121f">foldUnusualPatterns</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI)</td></tr>
<tr class="memdesc:a3482f0c1bbdfbe6c47f146f37d47121f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the entry point for folds that could be implemented in regular InstCombine, but they are separated because they are not expected to occur frequently and/or have more than a constant-length pattern match.  <a href="AggressiveInstCombine_8cpp.html#a3482f0c1bbdfbe6c47f146f37d47121f">More...</a><br /></td></tr>
<tr class="separator:a3482f0c1bbdfbe6c47f146f37d47121f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b2045614e5078e28d1a89b5b8824b2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a70b2045614e5078e28d1a89b5b8824b2">runImpl</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;TLI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:a70b2045614e5078e28d1a89b5b8824b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the entry point for all transforms.  <a href="AggressiveInstCombine_8cpp.html#a70b2045614e5078e28d1a89b5b8824b2">More...</a><br /></td></tr>
<tr class="separator:a70b2045614e5078e28d1a89b5b8824b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf9bf367608ce1b81c1db461095be1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a3cf9bf367608ce1b81c1db461095be1c">INITIALIZE_PASS_BEGIN</a> (AggressiveInstCombinerLegacyPass, &quot;aggressive-<a class="el" href="lib_2Target_2README_8txt.html#a61e3352b507034570df5d83e074402fd">instcombine</a>&quot;, &quot;<a class="el" href="lib_2Target_2README_8txt.html#a0805f256f4e5964c2e9e9874891a38be">Combine</a> pattern based <a class="el" href="AggressiveInstCombine_8cpp.html#a75ffadaa29871dd9e007e1b49fa333f2">expressions</a>&quot;, false, <a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>) <a class="el" href="LoadStoreVectorizer_8cpp.html#a45a3f96bc41116cda91360fda4b2e42a">INITIALIZE_PASS_END</a>(AggressiveInstCombinerLegacyPass</td></tr>
<tr class="separator:a3cf9bf367608ce1b81c1db461095be1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35d47c7f36f57bded9e59402c3cbd9a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LLVMCInitialization.html#ga35d47c7f36f57bded9e59402c3cbd9a4">LLVMInitializeAggressiveInstCombiner</a> (<a class="el" href="group__LLVMCSupportTypes.html#gab1ca1ff855478bc0f33874a1182e4b94">LLVMPassRegistryRef</a> R)</td></tr>
<tr class="separator:ga35d47c7f36f57bded9e59402c3cbd9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85465615165b8e36eaabd81ec43d1032"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LLVMCTransformsAggressiveInstCombine.html#ga85465615165b8e36eaabd81ec43d1032">LLVMAddAggressiveInstCombinerPass</a> (<a class="el" href="group__LLVMCSupportTypes.html#ga45fccfac9832f829c5e12a8915e85f4c">LLVMPassManagerRef</a> PM)</td></tr>
<tr class="memdesc:ga85465615165b8e36eaabd81ec43d1032"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="namespacellvm.html#a2a24adc2b6bfcdbda8ac4ca164e9b800">llvm::createAggressiveInstCombinerPass</a> function.  <a href="group__LLVMCTransformsAggressiveInstCombine.html#ga85465615165b8e36eaabd81ec43d1032">More...</a><br /></td></tr>
<tr class="separator:ga85465615165b8e36eaabd81ec43d1032"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab6e9ae96e4c1e6dce9725c29402f5206"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#ab6e9ae96e4c1e6dce9725c29402f5206">instcombine</a></td></tr>
<tr class="separator:ab6e9ae96e4c1e6dce9725c29402f5206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ffadaa29871dd9e007e1b49fa333f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a> <a class="el" href="lib_2Target_2README_8txt.html#a0805f256f4e5964c2e9e9874891a38be">Combine</a> pattern based&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#a75ffadaa29871dd9e007e1b49fa333f2">expressions</a></td></tr>
<tr class="separator:a75ffadaa29871dd9e007e1b49fa333f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa887898bfbcd4e4744e9f078fabdc531"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a> <a class="el" href="lib_2Target_2README_8txt.html#a0805f256f4e5964c2e9e9874891a38be">Combine</a> pattern based&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AggressiveInstCombine_8cpp.html#aa887898bfbcd4e4744e9f078fabdc531">false</a></td></tr>
<tr class="separator:aa887898bfbcd4e4744e9f078fabdc531"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;aggressive-<a class="el" href="lib_2Target_2README_8txt.html#a61e3352b507034570df5d83e074402fd">instcombine</a>&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00044">44</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a32ffe3fd425265e0290c803c36cc1612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ffe3fd425265e0290c803c36cc1612">&#9670;&nbsp;</a></span>foldAnyOrAllBitsSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool foldAnyOrAllBitsSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match patterns that correspond to "any-bits-set" and "all-bits-set". </p>
<p>These will include a chain of 'or' or 'and'-shifted bits from a common source value: and (or (lshr X, C), ...), 1 --&gt; (X &amp; CMask) != 0 and (and (lshr X, C), ...), 1 --&gt; (X &amp; CMask) == CMask Note: "any-bits-clear" and "all-bits-clear" are variations of these patterns that differ only with a final 'not' of the result. We expect that final 'not' to be folded with the compare that we create here (invert predicate). </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00270">270</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">llvm::And</a>, <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00651">Builder</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00211">MaskOps::FoundAnd1</a>, <a class="el" href="Constants_8cpp_source.html#l00879">llvm::ConstantInt::get()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="PatternMatch_8h_source.html#l01093">llvm::PatternMatch::m_And()</a>, <a class="el" href="PatternMatch_8h_source.html#l02251">llvm::PatternMatch::m_c_And()</a>, <a class="el" href="PatternMatch_8h_source.html#l00517">llvm::PatternMatch::m_One()</a>, <a class="el" href="PatternMatch_8h_source.html#l00067">llvm::PatternMatch::m_OneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l01099">llvm::PatternMatch::m_Or()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00209">MaskOps::Mask</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00224">matchAndOrChain()</a>, and <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00208">MaskOps::Root</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>.</p>

</div>
</div>
<a id="a73b18943dffc9db671d3217c90b15a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b18943dffc9db671d3217c90b15a4f">&#9670;&nbsp;</a></span>foldGuardedFunnelShift()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool foldGuardedFunnelShift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match a pattern for a bitwise funnel/rotate operation that partially guards against undefined behavior by branching around the funnel-shift/rotation when the shift amount is 0. </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00082">82</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00651">Builder</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="Function_8cpp_source.html#l01421">llvm::Intrinsic::getDeclaration()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00246">llvm::BasicBlock::getFirstInsertionPt()</a>, <a class="el" href="Instructions_8h_source.html#l02780">llvm::PHINode::getIncomingBlock()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00065">llvm::Instruction::getModule()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00091">llvm::Instruction::getParent()</a>, <a class="el" href="Type_8cpp_source.html#l00189">llvm::Type::getScalarSizeInBits()</a>, <a class="el" href="BasicBlock_8h_source.html#l00119">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="InstrTypes_8h_source.html#l00740">llvm::CmpInst::ICMP_EQ</a>, <a class="el" href="ValueTracking_8cpp_source.html#l05397">llvm::isGuaranteedNotToBePoison()</a>, <a class="el" href="MathExtras_8h_source.html#l00491">llvm::isPowerOf2_32()</a>, <a class="el" href="PatternMatch_8h_source.html#l01731">llvm::PatternMatch::m_Br()</a>, <a class="el" href="PatternMatch_8h_source.html#l02258">llvm::PatternMatch::m_c_Or()</a>, <a class="el" href="PatternMatch_8h_source.html#l01394">llvm::PatternMatch::m_ICmp()</a>, <a class="el" href="PatternMatch_8h_source.html#l01117">llvm::PatternMatch::m_LShr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00067">llvm::PatternMatch::m_OneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l01111">llvm::PatternMatch::m_Shl()</a>, <a class="el" href="PatternMatch_8h_source.html#l00772">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="PatternMatch_8h_source.html#l00887">llvm::PatternMatch::m_SpecificBB()</a>, <a class="el" href="PatternMatch_8h_source.html#l00854">llvm::PatternMatch::m_SpecificInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00991">llvm::PatternMatch::m_Sub()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00524">llvm::PatternMatch::m_ZeroInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="InstCombineAndOrXor_8cpp_source.html#l02204">matchFunnelShift()</a>, <a class="el" href="Intrinsics_8h_source.html#l00045">llvm::Intrinsic::not_intrinsic</a>, <a class="el" href="Value_8cpp_source.html#l00529">llvm::Value::replaceAllUsesWith()</a>, and <a class="el" href="BitVector_8h_source.html#l00853">std::swap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>.</p>

</div>
</div>
<a id="a25555d5e3cc7af42a3556fea3ea1c689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25555d5e3cc7af42a3556fea3ea1c689">&#9670;&nbsp;</a></span>foldSqrt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool foldSqrt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to replace a mathlib call to sqrt with the LLVM intrinsic. </p>
<p>This avoids pessimistic codegen that has to account for setting errno and can enable vectorization. </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00435">435</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00651">Builder</a>, <a class="el" href="Function_8cpp_source.html#l01421">llvm::Intrinsic::getDeclaration()</a>, <a class="el" href="TargetLibraryInfo_8h_source.html#l00294">llvm::TargetLibraryInfo::getLibFunc()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00567">llvm::TargetTransformInfo::haveFastSqrt()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="BuildLibCalls_8cpp_source.html#l01358">llvm::isLibFuncEmittable()</a>, and <a class="el" href="lib_2Target_2X86_2README_8txt_source.html#l00252">M</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>.</p>

</div>
</div>
<a id="a3482f0c1bbdfbe6c47f146f37d47121f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3482f0c1bbdfbe6c47f146f37d47121f">&#9670;&nbsp;</a></span>foldUnusualPatterns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool foldUnusualPatterns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the entry point for folds that could be implemented in regular InstCombine, but they are separated because they are not expected to occur frequently and/or have more than a constant-length pattern match. </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">478</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="lib_2CodeGen_2README_8txt_source.html#l00039">BB</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00270">foldAnyOrAllBitsSet()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00082">foldGuardedFunnelShift()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00435">foldSqrt()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Dominators_8cpp_source.html#l00335">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="STLExtras_8h_source.html#l00618">llvm::make_early_inc_range()</a>, <a class="el" href="STLExtras_8h_source.html#l00380">llvm::reverse()</a>, <a class="el" href="Local_8cpp_source.html#l00708">llvm::SimplifyInstructionsInBlock()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00378">tryToFPToSat()</a>, and <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00314">tryToRecognizePopCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00511">runImpl()</a>.</p>

</div>
</div>
<a id="a3cf9bf367608ce1b81c1db461095be1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf9bf367608ce1b81c1db461095be1c">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">AggressiveInstCombinerLegacyPass&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;aggressive-<a class="el" href="lib_2Target_2README_8txt.html#a61e3352b507034570df5d83e074402fd">instcombine</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Combine pattern based <a class="el" href="AggressiveInstCombine_8cpp.html#a75ffadaa29871dd9e007e1b49fa333f2">expressions</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="VectorCombine_8cpp.html#a5a5a8a9d8745dc5abc3da0fe95f1ead4">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4775da751f6b1e2123b23a54dabf51c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4775da751f6b1e2123b23a54dabf51c9">&#9670;&nbsp;</a></span>matchAndOrChain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool matchAndOrChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMaskOps.html">MaskOps</a> &amp;&#160;</td>
          <td class="paramname"><em>MOps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a recursive helper for <a class="el" href="AggressiveInstCombine_8cpp.html#a32ffe3fd425265e0290c803c36cc1612" title="Match patterns that correspond to &quot;any-bits-set&quot; and &quot;all-bits-set&quot;.">foldAnyOrAllBitsSet()</a> that walks through a chain of 'and' or 'or' instructions looking for shift ops of a common source value. </p>
<p>Examples: or (or (or X, (X &gt;&gt; 3)), (X &gt;&gt; 5)), (X &gt;&gt; 8) returns { X, 0x129 } and (and (X &gt;&gt; 1), 1), (X &gt;&gt; 4) returns { X, 0x12 } </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00224">224</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00211">MaskOps::FoundAnd1</a>, <a class="el" href="APInt_8h_source.html#l01411">llvm::APInt::getBitWidth()</a>, <a class="el" href="APInt_8h_source.html#l01466">llvm::APInt::getZExtValue()</a>, <a class="el" href="PatternMatch_8h_source.html#l01093">llvm::PatternMatch::m_And()</a>, <a class="el" href="PatternMatch_8h_source.html#l00278">llvm::PatternMatch::m_APInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01117">llvm::PatternMatch::m_LShr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00517">llvm::PatternMatch::m_One()</a>, <a class="el" href="PatternMatch_8h_source.html#l01099">llvm::PatternMatch::m_Or()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00209">MaskOps::Mask</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00210">MaskOps::MatchAndChain</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00208">MaskOps::Root</a>, <a class="el" href="APInt_8h_source.html#l01280">llvm::APInt::setBit()</a>, and <a class="el" href="APInt_8h_source.html#l01171">llvm::APInt::uge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00270">foldAnyOrAllBitsSet()</a>.</p>

</div>
</div>
<a id="a70b2045614e5078e28d1a89b5b8824b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b2045614e5078e28d1a89b5b8824b2">&#9670;&nbsp;</a></span>runImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool runImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;&#160;</td>
          <td class="paramname"><em>AC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the entry point for all transforms. </p>
<p>Pass manager differences are handled in the callers of this function. </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00511">511</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="AArch64SLSHardening_8cpp_source.html#l00076">DL</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>, and <a class="el" href="TruncInstCombine_8cpp_source.html#l00525">llvm::TruncInstCombine::run()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00542">llvm::AggressiveInstCombinePass::run()</a>.</p>

</div>
</div>
<a id="a5833bfb1942f2506614080dd51584d6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5833bfb1942f2506614080dd51584d6f">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumAnyOrAllBitsSet&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> any/all-<a class="el" href="DemandedBits_8cpp.html#a21225a9e40c621585e23a2fa855f4e83">bits</a>-<a class="el" href="lib_2Target_2CMakeLists_8txt.html#a665981071e8581d5681d22984c623abc">set</a> patterns folded&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa380af1ef8bdbe31e4188c04b05e880a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa380af1ef8bdbe31e4188c04b05e880a">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumGuardedFunnelShifts&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> guarded funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a> transformed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af72a394d13969ad05829c382b3207d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72a394d13969ad05829c382b3207d98">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumGuardedRotates&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> guarded <a class="el" href="lib_2Target_2README_8txt.html#ab74ee16f117623214b4f784a358e207a">rotates</a> transformed <a class="el" href="lib_2Target_2X86_2README_8txt.html#a99d2d4c575544c5ccbfd6a3bab361c3e">into</a> funnel <a class="el" href="lib_2Target_2X86_2README_8txt.html#a82149c97ea37050346bdc9a259830e23">shifts</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a16b3be19300922914386b5bd0191bf75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b3be19300922914386b5bd0191bf75">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumPopCountRecognized&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="lib_2Target_2README_8txt.html#ace6b37d5eaf50e6fd3465513bc022e93">of</a> <a class="el" href="lib_2Target_2README_8txt.html#ad39100047599001d9ab72cae56d175cd">popcount</a> <a class="el" href="LoopIdiomRecognize_8cpp.html#a459b2591fc1a4a281fb3bb73cde092b9">idioms</a> recognized&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3e077365cf48a773b0debd4a65499d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e077365cf48a773b0debd4a65499d1d">&#9670;&nbsp;</a></span>tryToFPToSat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool tryToFPToSat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fold smin(smax(fptosi(x), C1), C2) to llvm.fptosi.sat(x), providing C1 and C2 saturate the value of the fp conversion. </p>
<p>The transform is not reversable as the fptosi.sat is more defined than the input - all values produce a valid value for the fptosi.sat, where as some produce poison for original that were out of range of the integer conversion. The reversed pattern may use fmax and fmin instead. As we cannot directly reverse the transform, and it is not always profitable, we make it conditional on the cost being reported as lower by TTI. </p>

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00378">378</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00651">Builder</a>, <a class="el" href="Type_8cpp_source.html#l00311">llvm::IntegerType::get()</a>, <a class="el" href="Type_8cpp_source.html#l00668">llvm::VectorType::get()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00826">llvm::TargetTransformInfo::getCastInstrCost()</a>, <a class="el" href="Type_8h_source.html#l00128">llvm::Type::getContext()</a>, <a class="el" href="Function_8cpp_source.html#l01421">llvm::Intrinsic::getDeclaration()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00923">llvm::TargetTransformInfo::getIntrinsicInstrCost()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="TGLexer_8h_source.html#l00051">llvm::tgtok::In</a>, <a class="el" href="PatternMatch_8h_source.html#l00278">llvm::PatternMatch::m_APInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01677">llvm::PatternMatch::m_FPToSI()</a>, <a class="el" href="PatternMatch_8h_source.html#l00067">llvm::PatternMatch::m_OneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l01853">llvm::PatternMatch::m_SMax()</a>, <a class="el" href="PatternMatch_8h_source.html#l01859">llvm::PatternMatch::m_SMin()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="classllvm_1_1TargetTransformInfo.html#af84cce349a77262269fd3f6756f37a64a6adf97f83acf6453d4a6a4b1070f3754">llvm::TargetTransformInfo::None</a>, <a class="el" href="APInt_8h_source.html#l02132">llvm::APIntOps::smax()</a>, <a class="el" href="APInt_8h_source.html#l02127">llvm::APIntOps::smin()</a>, and <a class="el" href="TargetTransformInfo_8h_source.html#l00215">llvm::TargetTransformInfo::TCK_RecipThroughput</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>.</p>

</div>
</div>
<a id="a165830656f5ebd0521d278a2cf583a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a165830656f5ebd0521d278a2cf583a28">&#9670;&nbsp;</a></span>tryToRecognizePopCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool tryToRecognizePopCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00314">314</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

<p class="reference">References <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00651">Builder</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Function_8cpp_source.html#l01421">llvm::Intrinsic::getDeclaration()</a>, <a class="el" href="Type_8cpp_source.html#l00189">llvm::Type::getScalarSizeInBits()</a>, <a class="el" href="APInt_8cpp_source.html#l00612">llvm::APInt::getSplat()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Type_8h_source.html#l00202">llvm::Type::isIntOrIntVectorTy()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l01093">llvm::PatternMatch::m_And()</a>, <a class="el" href="PatternMatch_8h_source.html#l02237">llvm::PatternMatch::m_c_Add()</a>, <a class="el" href="PatternMatch_8h_source.html#l00790">llvm::PatternMatch::m_Deferred()</a>, <a class="el" href="PatternMatch_8h_source.html#l01117">llvm::PatternMatch::m_LShr()</a>, <a class="el" href="PatternMatch_8h_source.html#l01045">llvm::PatternMatch::m_Mul()</a>, <a class="el" href="PatternMatch_8h_source.html#l00772">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="PatternMatch_8h_source.html#l00854">llvm::PatternMatch::m_SpecificInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00991">llvm::PatternMatch::m_Sub()</a>, <a class="el" href="PatternMatch_8h_source.html#l00076">llvm::PatternMatch::m_Value()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00478">foldUnusualPatterns()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a75ffadaa29871dd9e007e1b49fa333f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ffadaa29871dd9e007e1b49fa333f2">&#9670;&nbsp;</a></span>expressions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a> <a class="el" href="lib_2Target_2README_8txt.html#a0805f256f4e5964c2e9e9874891a38be">Combine</a> pattern based expressions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00567">567</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

</div>
</div>
<a id="aa887898bfbcd4e4744e9f078fabdc531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa887898bfbcd4e4744e9f078fabdc531">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a> <a class="el" href="lib_2Target_2README_8txt.html#a0805f256f4e5964c2e9e9874891a38be">Combine</a> pattern based false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00567">567</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

</div>
</div>
<a id="ab6e9ae96e4c1e6dce9725c29402f5206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e9ae96e4c1e6dce9725c29402f5206">&#9670;&nbsp;</a></span>instcombine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lib_2Target_2README_8txt.html#aa887fbb305735679097dd1d98f89db1e">aggressive</a> instcombine</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AggressiveInstCombine_8cpp_source.html#l00566">566</a> of file <a class="el" href="AggressiveInstCombine_8cpp_source.html">AggressiveInstCombine.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 20 2022 08:25:50 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
